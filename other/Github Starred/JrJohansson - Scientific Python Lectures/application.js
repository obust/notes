(function(e,t){function n(e){return H.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}function r(e){if(!vn[e]){var t=_.body,n=H("<"+e+">").appendTo(t),r=n.css("display");n.remove();if(r==="none"||r===""){mn||(mn=_.createElement("iframe"),mn.frameBorder=mn.width=mn.height=0),t.appendChild(mn);if(!gn||!mn.createElement)gn=(mn.contentWindow||mn.contentDocument).document,gn.write((H.support.boxModel?"<!doctype html>":"")+"<html><body>"),gn.close();n=gn.createElement(e),gn.body.appendChild(n),r=H.css(n,"display"),t.removeChild(mn)}vn[e]=r}return vn[e]}function i(e,t){var n={};return H.each(En.concat.apply([],En.slice(0,t)),function(){n[this]=e}),n}function s(){Sn=t}function o(){return setTimeout(s,0),Sn=H.now()}function u(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function a(){try{return new e.XMLHttpRequest}catch(t){}}function f(e,n){e.dataFilter&&(n=e.dataFilter(n,e.dataType));var r=e.dataTypes,i={},s,o,u=r.length,a,f=r[0],l,c,h,p,d;for(s=1;s<u;s++){if(s===1)for(o in e.converters)typeof o=="string"&&(i[o.toLowerCase()]=e.converters[o]);l=f,f=r[s];if(f==="*")f=l;else if(l!=="*"&&l!==f){c=l+" "+f,h=i[c]||i["* "+f];if(!h){d=t;for(p in i){a=p.split(" ");if(a[0]===l||a[0]==="*"){d=i[a[1]+" "+f];if(d){p=i[p],p===!0?h=d:d===!0&&(h=p);break}}}}!h&&!d&&H.error("No conversion from "+c.replace(" "," to ")),h!==!0&&(n=h?h(n):d(p(n)))}}return n}function l(e,n,r){var i=e.contents,s=e.dataTypes,o=e.responseFields,u,a,f,l;for(a in o)a in r&&(n[o[a]]=r[a]);while(s[0]==="*")s.shift(),u===t&&(u=e.mimeType||n.getResponseHeader("content-type"));if(u)for(a in i)if(i[a]&&i[a].test(u)){s.unshift(a);break}if(s[0]in r)f=s[0];else{for(a in r){if(!s[0]||e.converters[a+" "+s[0]]){f=a;break}l||(l=a)}f=f||l}if(f)return f!==s[0]&&s.unshift(f),r[f]}function c(e,t,n,r){if(H.isArray(t))H.each(t,function(t,i){n||Ut.test(e)?r(e,i):c(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&H.type(t)==="object")for(var i in t)c(e+"["+i+"]",t[i],n,r);else r(e,t)}function h(e,n){var r,i,s=H.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((s[r]?e:i||(i={}))[r]=n[r]);i&&H.extend(!0,e,i)}function p(e,n,r,i,s,o){s=s||n.dataTypes[0],o=o||{},o[s]=!0;var u=e[s],a=0,f=u?u.length:0,l=e===rn,c;for(;a<f&&(l||!c);a++)c=u[a](n,r,i),typeof c=="string"&&(!l||o[c]?c=t:(n.dataTypes.unshift(c),c=p(e,n,r,i,c,o)));return(l||!c)&&!o["*"]&&(c=p(e,n,r,i,"*",o)),c}function d(e){return function(t,n){typeof t!="string"&&(n=t,t="*");if(H.isFunction(n)){var r=t.toLowerCase().split(Zt),i=0,s=r.length,o,u,a;for(;i<s;i++)o=r[i],a=/^\+/.test(o),a&&(o=o.substr(1)||"*"),u=e[o]=e[o]||[],u[a?"unshift":"push"](n)}}}function v(e,t,n){var r=t==="width"?e.offsetWidth:e.offsetHeight,i=t==="width"?1:0,s=4;if(r>0){if(n!=="border")for(;i<s;i+=2)n||(r-=parseFloat(H.css(e,"padding"+jt[i]))||0),n==="margin"?r+=parseFloat(H.css(e,n+jt[i]))||0:r-=parseFloat(H.css(e,"border"+jt[i]+"Width"))||0;return r+"px"}r=Ft(e,t);if(r<0||r==null)r=e.style[t];if(Dt.test(r))return r;r=parseFloat(r)||0;if(n)for(;i<s;i+=2)r+=parseFloat(H.css(e,"padding"+jt[i]))||0,n!=="padding"&&(r+=parseFloat(H.css(e,"border"+jt[i]+"Width"))||0),n==="margin"&&(r+=parseFloat(H.css(e,n+jt[i]))||0);return r+"px"}function m(e){var t=_.createElement("div");return Lt.appendChild(t),t.innerHTML=e.outerHTML,t.firstChild}function g(e){var t=(e.nodeName||"").toLowerCase();t==="input"?y(e):t!=="script"&&typeof e.getElementsByTagName!="undefined"&&H.grep(e.getElementsByTagName("input"),y)}function y(e){if(e.type==="checkbox"||e.type==="radio")e.defaultChecked=e.checked}function b(e){return typeof e.getElementsByTagName!="undefined"?e.getElementsByTagName("*"):typeof e.querySelectorAll!="undefined"?e.querySelectorAll("*"):[]}function w(e,t){var n;t.nodeType===1&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),n==="object"?t.outerHTML=e.outerHTML:n!=="input"||e.type!=="checkbox"&&e.type!=="radio"?n==="option"?t.selected=e.defaultSelected:n==="input"||n==="textarea"?t.defaultValue=e.defaultValue:n==="script"&&t.text!==e.text&&(t.text=e.text):(e.checked&&(t.defaultChecked=t.checked=e.checked),t.value!==e.value&&(t.value=e.value)),t.removeAttribute(H.expando),t.removeAttribute("_submit_attached"),t.removeAttribute("_change_attached"))}function E(e,t){if(t.nodeType===1&&!!H.hasData(e)){var n,r,i,s=H._data(e),o=H._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;r<i;r++)H.event.add(t,n,u[n][r])}o.data&&(o.data=H.extend({},o.data))}}function S(e,t){return H.nodeName(e,"table")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function x(e){var t=dt.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function T(e,t,n){t=t||0;if(H.isFunction(t))return H.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return H.grep(e,function(e,r){return e===t===n});if(typeof t=="string"){var r=H.grep(e,function(e){return e.nodeType===1});if(lt.test(t))return H.filter(t,r,!n);t=H.filter(t,r)}return H.grep(e,function(e,r){return H.inArray(e,t)>=0===n})}function N(e){return!e||!e.parentNode||e.parentNode.nodeType===11}function C(){return!0}function k(){return!1}function L(e,t,n){var r=t+"defer",i=t+"queue",s=t+"mark",o=H._data(e,r);o&&(n==="queue"||!H._data(e,i))&&(n==="mark"||!H._data(e,s))&&setTimeout(function(){!H._data(e,i)&&!H._data(e,s)&&(H.removeData(e,r,!0),o.fire())},0)}function A(e){for(var t in e){if(t==="data"&&H.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function O(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(I,"-$1").toLowerCase();r=e.getAttribute(i);if(typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:H.isNumeric(r)?+r:F.test(r)?H.parseJSON(r):r}catch(s){}H.data(e,n,r)}else r=t}return r}function M(e){var t=B[e]={},n,r;e=e.split(/\s+/);for(n=0,r=e.length;n<r;n++)t[e[n]]=!0;return t}var _=e.document,D=e.navigator,P=e.location,H=function(){function n(){if(!r.isReady){try{_.documentElement.doScroll("left")}catch(e){setTimeout(n,1);return}r.ready()}}var r=function(e,t){return new r.fn.init(e,t,o)},i=e.jQuery,s=e.$,o,u=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,a=/\S/,f=/^\s+/,l=/\s+$/,c=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,h=/^[\],:{}\s]*$/,p=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,d=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,v=/(?:^|:|,)(?:\s*\[)+/g,m=/(webkit)[ \/]([\w.]+)/,g=/(opera)(?:.*version)?[ \/]([\w.]+)/,y=/(msie) ([\w.]+)/,b=/(mozilla)(?:.*? rv:([\w.]+))?/,w=/-([a-z]|[0-9])/ig,E=/^-ms-/,S=function(e,t){return(t+"").toUpperCase()},x=D.userAgent,T,N,C,k=Object.prototype.toString,L=Object.prototype.hasOwnProperty,A=Array.prototype.push,O=Array.prototype.slice,M=String.prototype.trim,P=Array.prototype.indexOf,H={};return r.fn=r.prototype={constructor:r,init:function(e,n,i){var s,o,a,f;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if(e==="body"&&!n&&_.body)return this.context=_,this[0]=_.body,this.selector=e,this.length=1,this;if(typeof e=="string"){e.charAt(0)!=="<"||e.charAt(e.length-1)!==">"||e.length<3?s=u.exec(e):s=[null,e,null];if(s&&(s[1]||!n)){if(s[1])return n=n instanceof r?n[0]:n,f=n?n.ownerDocument||n:_,a=c.exec(e),a?r.isPlainObject(n)?(e=[_.createElement(a[1])],r.fn.attr.call(e,n,!0)):e=[f.createElement(a[1])]:(a=r.buildFragment([s[1]],[f]),e=(a.cacheable?r.clone(a.fragment):a.fragment).childNodes),r.merge(this,e);o=_.getElementById(s[2]);if(o&&o.parentNode){if(o.id!==s[2])return i.find(e);this.length=1,this[0]=o}return this.context=_,this.selector=e,this}return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e)}return r.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),r.makeArray(e,this))},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return O.call(this,0)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var i=this.constructor();return r.isArray(e)?A.apply(i,e):r.merge(i,e),i.prevObject=this,i.context=this.context,t==="find"?i.selector=this.selector+(this.selector?" ":"")+n:t&&(i.selector=this.selector+"."+t+"("+n+")"),i},each:function(e,t){return r.each(this,e,t)},ready:function(e){return r.bindReady(),N.add(e),this},eq:function(e){return e=+e,e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(O.apply(this,arguments),"slice",O.call(arguments).join(","))},map:function(e){return this.pushStack(r.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:A,sort:[].sort,splice:[].splice},r.fn.init.prototype=r.fn,r.extend=r.fn.extend=function(){var e,n,i,s,o,u,a=arguments[0]||{},f=1,l=arguments.length,c=!1;typeof a=="boolean"&&(c=a,a=arguments[1]||{},f=2),typeof a!="object"&&!r.isFunction(a)&&(a={}),l===f&&(a=this,--f);for(;f<l;f++)if((e=arguments[f])!=null)for(n in e){i=a[n],s=e[n];if(a===s)continue;c&&s&&(r.isPlainObject(s)||(o=r.isArray(s)))?(o?(o=!1,u=i&&r.isArray(i)?i:[]):u=i&&r.isPlainObject(i)?i:{},a[n]=r.extend(c,u,s)):s!==t&&(a[n]=s)}return a},r.extend({noConflict:function(t){return e.$===r&&(e.$=s),t&&e.jQuery===r&&(e.jQuery=i),r},isReady:!1,readyWait:1,holdReady:function(e){e?r.readyWait++:r.ready(!0)},ready:function(e){if(e===!0&&!--r.readyWait||e!==!0&&!r.isReady){if(!_.body)return setTimeout(r.ready,1);r.isReady=!0;if(e!==!0&&--r.readyWait>0)return;N.fireWith(_,[r]),r.fn.trigger&&r(_).trigger("ready").off("ready")}},bindReady:function(){if(!N){N=r.Callbacks("once memory");if(_.readyState==="complete")return setTimeout(r.ready,1);if(_.addEventListener)_.addEventListener("DOMContentLoaded",C,!1),e.addEventListener("load",r.ready,!1);else if(_.attachEvent){_.attachEvent("onreadystatechange",C),e.attachEvent("onload",r.ready);var t=!1;try{t=e.frameElement==null}catch(i){}_.documentElement.doScroll&&t&&n()}}},isFunction:function(e){return r.type(e)==="function"},isArray:Array.isArray||function(e){return r.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):H[k.call(e)]||"object"},isPlainObject:function(e){if(!e||r.type(e)!=="object"||e.nodeType||r.isWindow(e))return!1;try{if(e.constructor&&!L.call(e,"constructor")&&!L.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in e);return i===t||L.call(e,i)},isEmptyObject:function(e){for(var t in e)return!1;return!0},error:function(e){throw new Error(e)},parseJSON:function(t){if(typeof t!="string"||!t)return null;t=r.trim(t);if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(h.test(t.replace(p,"@").replace(d,"]").replace(v,"")))return(new Function("return "+t))();r.error("Invalid JSON: "+t)},parseXML:function(n){if(typeof n!="string"||!n)return null;var i,s;try{e.DOMParser?(s=new DOMParser,i=s.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(o){i=t}return(!i||!i.documentElement||i.getElementsByTagName("parsererror").length)&&r.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&a.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(E,"ms-").replace(w,S)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,n,i){var s,o=0,u=e.length,a=u===t||r.isFunction(e);if(i){if(a){for(s in e)if(n.apply(e[s],i)===!1)break}else for(;o<u;)if(n.apply(e[o++],i)===!1)break}else if(a){for(s in e)if(n.call(e[s],s,e[s])===!1)break}else for(;o<u;)if(n.call(e[o],o,e[o++])===!1)break;return e},trim:M?function(e){return e==null?"":M.call(e)}:function(e){return e==null?"":(e+"").replace(f,"").replace(l,"")},makeArray:function(e,t){var n=t||[];if(e!=null){var i=r.type(e);e.length==null||i==="string"||i==="function"||i==="regexp"||r.isWindow(e)?A.call(n,e):r.merge(n,e)}return n},inArray:function(e,t,n){var r;if(t){if(P)return P.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=e.length,i=0;if(typeof n.length=="number")for(var s=n.length;i<s;i++)e[r++]=n[i];else while(n[i]!==t)e[r++]=n[i++];return e.length=r,e},grep:function(e,t,n){var r=[],i;n=!!n;for(var s=0,o=e.length;s<o;s++)i=!!t(e[s],s),n!==i&&r.push(e[s]);return r},map:function(e,n,i){var s,o,u=[],a=0,f=e.length,l=e instanceof r||f!==t&&typeof f=="number"&&(f>0&&e[0]&&e[f-1]||f===0||r.isArray(e));if(l)for(;a<f;a++)s=n(e[a],a,i),s!=null&&(u[u.length]=s);else for(o in e)s=n(e[o],o,i),s!=null&&(u[u.length]=s);return u.concat.apply([],u)},guid:1,proxy:function(e,n){if(typeof n=="string"){var i=e[n];n=e,e=i}if(!r.isFunction(e))return t;var s=O.call(arguments,2),o=function(){return e.apply(n,s.concat(O.call(arguments)))};return o.guid=e.guid=e.guid||o.guid||r.guid++,o},access:function(e,n,i,s,o,u,a){var f,l=i==null,c=0,h=e.length;if(i&&typeof i=="object"){for(c in i)r.access(e,n,c,i[c],1,u,s);o=1}else if(s!==t){f=a===t&&r.isFunction(s),l&&(f?(f=n,n=function(e,t,n){return f.call(r(e),n)}):(n.call(e,s),n=null));if(n)for(;c<h;c++)n(e[c],i,f?s.call(e[c],c,n(e[c],i)):s,a);o=1}return o?e:l?n.call(e):h?n(e[0],i):u},now:function(){return(new Date).getTime()},uaMatch:function(e){e=e.toLowerCase();var t=m.exec(e)||g.exec(e)||y.exec(e)||e.indexOf("compatible")<0&&b.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},sub:function(){function e(t,n){return new e.fn.init(t,n)}r.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,i){return i&&i instanceof r&&!(i instanceof e)&&(i=e(i)),r.fn.init.call(this,n,i,t)},e.fn.init.prototype=e.fn;var t=e(_);return e},browser:{}}),r.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){H["[object "+t+"]"]=t.toLowerCase()}),T=r.uaMatch(x),T.browser&&(r.browser[T.browser]=!0,r.browser.version=T.version),r.browser.webkit&&(r.browser.safari=!0),a.test(" ")&&(f=/^[\s\xA0]+/,l=/[\s\xA0]+$/),o=r(_),_.addEventListener?C=function(){_.removeEventListener("DOMContentLoaded",C,!1),r.ready()}:_.attachEvent&&(C=function(){_.readyState==="complete"&&(_.detachEvent("onreadystatechange",C),r.ready())}),r}(),B={};H.Callbacks=function(e){e=e?B[e]||M(e):{};var n=[],r=[],i,s,o,u,a,f,l=function(t){var r,i,s,o,u;for(r=0,i=t.length;r<i;r++)s=t[r],o=H.type(s),o==="array"?l(s):o==="function"&&(!e.unique||!h.has(s))&&n.push(s)},c=function(t,l){l=l||[],i=!e.memory||[t,l],s=!0,o=!0,f=u||0,u=0,a=n.length;for(;n&&f<a;f++)if(n[f].apply(t,l)===!1&&e.stopOnFalse){i=!0;break}o=!1,n&&(e.once?i===!0?h.disable():n=[]:r&&r.length&&(i=r.shift(),h.fireWith(i[0],i[1])))},h={add:function(){if(n){var e=n.length;l(arguments),o?a=n.length:i&&i!==!0&&(u=e,c(i[0],i[1]))}return this},remove:function(){if(n){var t=arguments,r=0,i=t.length;for(;r<i;r++)for(var s=0;s<n.length;s++)if(t[r]===n[s]){o&&s<=a&&(a--,s<=f&&f--),n.splice(s--,1);if(e.unique)break}}return this},has:function(e){if(n){var t=0,r=n.length;for(;t<r;t++)if(e===n[t])return!0}return!1},empty:function(){return n=[],this},disable:function(){return n=r=i=t,this},disabled:function(){return!n},lock:function(){return r=t,(!i||i===!0)&&h.disable(),this},locked:function(){return!r},fireWith:function(t,n){return r&&(o?e.once||r.push([t,n]):(!e.once||!i)&&c(t,n)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!s}};return h};var j=[].slice;H.extend({Deferred:function(e){var t=H.Callbacks("once memory"),n=H.Callbacks("once memory"),r=H.Callbacks("memory"),i="pending",s={resolve:t,reject:n,notify:r},o={done:t.add,fail:n.add,progress:r.add,state:function(){return i},isResolved:t.fired,isRejected:n.fired,then:function(e,t,n){return u.done(e).fail(t).progress(n),this},always:function(){return u.done.apply(u,arguments).fail.apply(u,arguments),this},pipe:function(e,t,n){return H.Deferred(function(r){H.each({done:[e,"resolve"],fail:[t,"reject"],progress:[n,"notify"]},function(e,t){var n=t[0],i=t[1],s;H.isFunction(n)?u[e](function(){s=n.apply(this,arguments),s&&H.isFunction(s.promise)?s.promise().then(r.resolve,r.reject,r.notify):r[i+"With"](this===u?r:this,[s])}):u[e](r[i])})}).promise()},promise:function(e){if(e==null)e=o;else for(var t in o)e[t]=o[t];return e}},u=o.promise({}),a;for(a in s)u[a]=s[a].fire,u[a+"With"]=s[a].fireWith;return u.done(function(){i="resolved"},n.disable,r.lock).fail(function(){i="rejected"},t.disable,r.lock),e&&e.call(u,u),u},when:function(e){function t(e){return function(t){o[e]=arguments.length>1?j.call(arguments,0):t,f.notifyWith(l,o)}}function n(e){return function(t){r[e]=arguments.length>1?j.call(arguments,0):t,--u||f.resolveWith(f,r)}}var r=j.call(arguments,0),i=0,s=r.length,o=Array(s),u=s,a=s,f=s<=1&&e&&H.isFunction(e.promise)?e:H.Deferred(),l=f.promise();if(s>1){for(;i<s;i++)r[i]&&r[i].promise&&H.isFunction(r[i].promise)?r[i].promise().then(n(i),f.reject,t(i)):--u;u||f.resolveWith(f,r)}else f!==e&&f.resolveWith(f,s?[e]:[]);return l}}),H.support=function(){var t,n,r,i,s,o,u,a,f,l,c,h,p=_.createElement("div"),d=_.documentElement;p.setAttribute("className","t"),p.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*"),r=p.getElementsByTagName("a")[0];if(!n||!n.length||!r)return{};i=_.createElement("select"),s=i.appendChild(_.createElement("option")),o=p.getElementsByTagName("input")[0],t={leadingWhitespace:p.firstChild.nodeType===3,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:r.getAttribute("href")==="/a",opacity:/^0.55/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:o.value==="on",optSelected:s.selected,getSetAttribute:p.className!=="t",enctype:!!_.createElement("form").enctype,html5Clone:_.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},H.boxModel=t.boxModel=_.compatMode==="CSS1Compat",o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,i.disabled=!0,t.optDisabled=!s.disabled;try{delete p.test}catch(v){t.deleteExpando=!1}!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",function(){t.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick")),o=_.createElement("input"),o.value="t",o.setAttribute("type","radio"),t.radioValue=o.value==="t",o.setAttribute("checked","checked"),o.setAttribute("name","t"),p.appendChild(o),u=_.createDocumentFragment(),u.appendChild(p.lastChild),t.checkClone=u.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=o.checked,u.removeChild(o),u.appendChild(p);if(p.attachEvent)for(c in{submit:1,change:1,focusin:1})l="on"+c,h=l in p,h||(p.setAttribute(l,"return;"),h=typeof p[l]=="function"),t[c+"Bubbles"]=h;return u.removeChild(p),u=i=s=p=o=null,H(function(){var n,r,i,s,o,u,f,l,c,d,v,m,g,y=_.getElementsByTagName("body")[0];!y||(l=1,g="padding:0;margin:0;border:",v="position:absolute;top:0;left:0;width:1px;height:1px;",m=g+"0;visibility:hidden;",c="style='"+v+g+"5px solid #000;",d="<div "+c+"display:block;'><div style='"+g+"0;display:block;overflow:hidden;'></div></div>"+"<table "+c+"' cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",n=_.createElement("div"),n.style.cssText=m+"width:0;height:0;position:static;top:0;margin-top:"+l+"px",y.insertBefore(n,y.firstChild),p=_.createElement("div"),n.appendChild(p),p.innerHTML="<table><tr><td style='"+g+"0;display:none'></td><td>t</td></tr></table>",a=p.getElementsByTagName("td"),h=a[0].offsetHeight===0,a[0].style.display="",a[1].style.display="none",t.reliableHiddenOffsets=h&&a[0].offsetHeight===0,e.getComputedStyle&&(p.innerHTML="",f=_.createElement("div"),f.style.width="0",f.style.marginRight="0",p.style.width="2px",p.appendChild(f),t.reliableMarginRight=(parseInt((e.getComputedStyle(f,null)||{marginRight:0}).marginRight,10)||0)===0),typeof p.style.zoom!="undefined"&&(p.innerHTML="",p.style.width=p.style.padding="1px",p.style.border=0,p.style.overflow="hidden",p.style.display="inline",p.style.zoom=1,t.inlineBlockNeedsLayout=p.offsetWidth===3,p.style.display="block",p.style.overflow="visible",p.innerHTML="<div style='width:5px;'></div>",t.shrinkWrapBlocks=p.offsetWidth!==3),p.style.cssText=v+m,p.innerHTML=d,r=p.firstChild,i=r.firstChild,o=r.nextSibling.firstChild.firstChild,u={doesNotAddBorder:i.offsetTop!==5,doesAddBorderForTableAndCells:o.offsetTop===5},i.style.position="fixed",i.style.top="20px",u.fixedPosition=i.offsetTop===20||i.offsetTop===15,i.style.position=i.style.top="",r.style.overflow="hidden",r.style.position="relative",u.subtractsBorderForOverflowNotVisible=i.offsetTop===-5,u.doesNotIncludeMarginInBodyOffset=y.offsetTop!==l,e.getComputedStyle&&(p.style.marginTop="1%",t.pixelMargin=(e.getComputedStyle(p,null)||{marginTop:0}).marginTop!=="1%"),typeof n.style.zoom!="undefined"&&(n.style.zoom=1),y.removeChild(n),f=p=n=null,H.extend(t,u))}),t}();var F=/^(?:\{.*\}|\[.*\])$/,I=/([A-Z])/g;H.extend({cache:{},uuid:0,expando:"jQuery"+(H.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?H.cache[e[H.expando]]:e[H.expando],!!e&&!A(e)},data:function(e,n,r,i){if(!!H.acceptData(e)){var s,o,u,a=H.expando,f=typeof n=="string",l=e.nodeType,c=l?H.cache:e,h=l?e[a]:e[a]&&a,p=n==="events";if((!h||!c[h]||!p&&!i&&!c[h].data)&&f&&r===t)return;h||(l?e[a]=h=++H.uuid:h=a),c[h]||(c[h]={},l||(c[h].toJSON=H.noop));if(typeof n=="object"||typeof n=="function")i?c[h]=H.extend(c[h],n):c[h].data=H.extend(c[h].data,n);return s=o=c[h],i||(o.data||(o.data={}),o=o.data),r!==t&&(o[H.camelCase(n)]=r),p&&!o[n]?s.events:(f?(u=o[n],u==null&&(u=o[H.camelCase(n)])):u=o,u)}},removeData:function(e,t,n){if(!!H.acceptData(e)){var r,i,s,o=H.expando,u=e.nodeType,a=u?H.cache:e,f=u?e[o]:o;if(!a[f])return;if(t){r=n?a[f]:a[f].data;if(r){H.isArray(t)||(t in r?t=[t]:(t=H.camelCase(t),t in r?t=[t]:t=t.split(" ")));for(i=0,s=t.length;i<s;i++)delete r[t[i]];if(!(n?A:H.isEmptyObject)(r))return}}if(!n){delete a[f].data;if(!A(a[f]))return}H.support.deleteExpando||!a.setInterval?delete a[f]:a[f]=null,u&&(H.support.deleteExpando?delete e[o]:e.removeAttribute?e.removeAttribute(o):e[o]=null)}},_data:function(e,t,n){return H.data(e,t,n,!0)},acceptData:function(e){if(e.nodeName){var t=H.noData[e.nodeName.toLowerCase()];if(t)return t!==!0&&e.getAttribute("classid")===t}return!0}}),H.fn.extend({data:function(e,n){var r,i,s,o,u,a=this[0],f=0,l=null;if(e===t){if(this.length){l=H.data(a);if(a.nodeType===1&&!H._data(a,"parsedAttrs")){s=a.attributes;for(u=s.length;f<u;f++)o=s[f].name,o.indexOf("data-")===0&&(o=H.camelCase(o.substring(5)),O(a,o,l[o]));H._data(a,"parsedAttrs",!0)}}return l}return typeof e=="object"?this.each(function(){H.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",i=r[1]+"!",H.access(this,function(n){if(n===t)return l=this.triggerHandler("getData"+i,[r[0]]),l===t&&a&&(l=H.data(a,e),l=O(a,e,l)),l===t&&r[1]?this.data(r[0]):l;r[1]=n,this.each(function(){var t=H(this);t.triggerHandler("setData"+i,r),H.data(this,e,n),t.triggerHandler("changeData"+i,r)})},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){H.removeData(this,e)})}}),H.extend({_mark:function(e,t){e&&(t=(t||"fx")+"mark",H._data(e,t,(H._data(e,t)||0)+1))},_unmark:function(e,t,n){e!==!0&&(n=t,t=e,e=!1);if(t){n=n||"fx";var r=n+"mark",i=e?0:(H._data(t,r)||1)-1;i?H._data(t,r,i):(H.removeData(t,r,!0),L(t,n,"mark"))}},queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=H._data(e,t),n&&(!r||H.isArray(n)?r=H._data(e,t,H.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=H.queue(e,t),r=n.shift(),i={};r==="inprogress"&&(r=n.shift()),r&&(t==="fx"&&n.unshift("inprogress"),H._data(e,t+".run",i),r.call(e,function(){H.dequeue(e,t)},i)),n.length||(H.removeData(e,t+"queue "+t+".run",!0),L(e,t,"queue"))}}),H.fn.extend({queue:function(e,n){var r=2;return typeof e!="string"&&(n=e,e="fx",r--),arguments.length<r?H.queue(this[0],e):n===t?this:this.each(function(){var t=H.queue(this,e,n);e==="fx"&&t[0]!=="inprogress"&&H.dequeue(this,e)})},dequeue:function(e){return this.each(function(){H.dequeue(this,e)})},delay:function(e,t){return e=H.fx?H.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){function r(){--u||i.resolveWith(s,[s])}typeof e!="string"&&(n=e,e=t),e=e||"fx";var i=H.Deferred(),s=this,o=s.length,u=1,a=e+"defer",f=e+"queue",l=e+"mark",c;while(o--)if(c=H.data(s[o],a,t,!0)||(H.data(s[o],f,t,!0)||H.data(s[o],l,t,!0))&&H.data(s[o],a,H.Callbacks("once memory"),!0))u++,c.add(r);return r(),i.promise(n)}});var q=/[\n\t\r]/g,R=/\s+/,U=/\r/g,z=/^(?:button|input)$/i,W=/^(?:button|input|object|select|textarea)$/i,X=/^a(?:rea)?$/i,V=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,$=H.support.getSetAttribute,J,K,Q;H.fn.extend({attr:function(e,t){return H.access(this,H.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){H.removeAttr(this,e)})},prop:function(e,t){return H.access(this,H.prop,e,t,arguments.length>1)},removeProp:function(e){return e=H.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o,u;if(H.isFunction(e))return this.each(function(t){H(this).addClass(e.call(this,t,this.className))});if(e&&typeof e=="string"){t=e.split(R);for(n=0,r=this.length;n<r;n++){i=this[n];if(i.nodeType===1)if(!i.className&&t.length===1)i.className=e;else{s=" "+i.className+" ";for(o=0,u=t.length;o<u;o++)~s.indexOf(" "+t[o]+" ")||(s+=t[o]+" ");i.className=H.trim(s)}}}return this},removeClass:function(e){var n,r,i,s,o,u,a;if(H.isFunction(e))return this.each(function(t){H(this).removeClass(e.call(this,t,this.className))});if(e&&typeof e=="string"||e===t){n=(e||"").split(R);for(r=0,i=this.length;r<i;r++){s=this[r];if(s.nodeType===1&&s.className)if(e){o=(" "+s.className+" ").replace(q," ");for(u=0,a=n.length;u<a;u++)o=o.replace(" "+n[u]+" "," ");s.className=H.trim(o)}else s.className=""}}return this},toggleClass:function(e,t){var n=typeof e,r=typeof t=="boolean";return H.isFunction(e)?this.each(function(n){H(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var i,s=0,o=H(this),u=t,a=e.split(R);while(i=a[s++])u=r?u:!o.hasClass(i),o[u?"addClass":"removeClass"](i)}else if(n==="undefined"||n==="boolean")this.className&&H._data(this,"__className__",this.className),this.className=this.className||e===!1?"":H._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(q," ").indexOf(t)>-1)return!0;return!1},val:function(e){var n,r,i,s=this[0];if(!!arguments.length)return i=H.isFunction(e),this.each(function(r){var s=H(this),o;if(this.nodeType===1){i?o=e.call(this,r,s.val()):o=e,o==null?o="":typeof o=="number"?o+="":H.isArray(o)&&(o=H.map(o,function(e){return e==null?"":e+""})),n=H.valHooks[this.type]||H.valHooks[this.nodeName.toLowerCase()];if(!n||!("set"in n)||n.set(this,o,"value")===t)this.value=o}});if(s)return n=H.valHooks[s.type]||H.valHooks[s.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(s,"value"))!==t?r:(r=s.value,typeof r=="string"?r.replace(U,""):r==null?"":r)}}),H.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r,i,s=e.selectedIndex,o=[],u=e.options,a=e.type==="select-one";if(s<0)return null;n=a?s:0,r=a?s+1:u.length;for(;n<r;n++){i=u[n];if(i.selected&&(H.support.optDisabled?!i.disabled:i.getAttribute("disabled")===null)&&(!i.parentNode.disabled||!H.nodeName(i.parentNode,"optgroup"))){t=H(i).val();if(a)return t;o.push(t)}}return a&&!o.length&&u.length?H(u[s]).val():o},set:function(e,t){var n=H.makeArray(t);return H(e).find("option").each(function(){this.selected=H.inArray(H(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(e,n,r,i){var s,o,u,a=e.nodeType;if(!!e&&a!==3&&a!==8&&a!==2){if(i&&n in H.attrFn)return H(e)[n](r);if(typeof e.getAttribute=="undefined")return H.prop(e,n,r);u=a!==1||!H.isXMLDoc(e),u&&(n=n.toLowerCase(),o=H.attrHooks[n]||(V.test(n)?K:J));if(r!==t){if(r===null){H.removeAttr(e,n);return}return o&&"set"in o&&u&&(s=o.set(e,r,n))!==t?s:(e.setAttribute(n,""+r),r)}return o&&"get"in o&&u&&(s=o.get(e,n))!==null?s:(s=e.getAttribute(n),s===null?t:s)}},removeAttr:function(e,t){var n,r,i,s,o,u=0;if(t&&e.nodeType===1){r=t.toLowerCase().split(R),s=r.length;for(;u<s;u++)i=r[u],i&&(n=H.propFix[i]||i,o=V.test(i),o||H.attr(e,i,""),e.removeAttribute($?i:n),o&&n in e&&(e[n]=!1))}},attrHooks:{type:{set:function(e,t){if(z.test(e.nodeName)&&e.parentNode)H.error("type property can't be changed");else if(!H.support.radioValue&&t==="radio"&&H.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return J&&H.nodeName(e,"button")?J.get(e,t):t in e?e.value:null},set:function(e,t,n){if(J&&H.nodeName(e,"button"))return J.set(e,t,n);e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(!!e&&u!==3&&u!==8&&u!==2)return o=u!==1||!H.isXMLDoc(e),o&&(n=H.propFix[n]||n,s=H.propHooks[n]),r!==t?s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&"get"in s&&(i=s.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):W.test(e.nodeName)||X.test(e.nodeName)&&e.href?0:t}}}}),H.attrHooks.tabindex=H.propHooks.tabIndex,K={get:function(e,n){var r,i=H.prop(e,n);return i===!0||typeof i!="boolean"&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?H.removeAttr(e,n):(r=H.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},$||(Q={name:!0,id:!0,coords:!0},J=H.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(Q[n]?r.nodeValue!=="":r.specified)?r.nodeValue:t},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=_.createAttribute(n),e.setAttributeNode(r)),r.nodeValue=t+""}},H.attrHooks.tabindex.set=J.set,H.each(["width","height"],function(e,t){H.attrHooks[t]=H.extend(H.attrHooks[t],{set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}})}),H.attrHooks.contenteditable={get:J.get,set:function(e,t,n){t===""&&(t="false"),J.set(e,t,n)}}),H.support.hrefNormalized||H.each(["href","src","width","height"],function(e,n){H.attrHooks[n]=H.extend(H.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return r===null?t:r}})}),H.support.style||(H.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=""+t}}),H.support.optSelected||(H.propHooks.selected=H.extend(H.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),H.support.enctype||(H.propFix.enctype="encoding"),H.support.checkOn||H.each(["radio","checkbox"],function(){H.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}}),H.each(["radio","checkbox"],function(){H.valHooks[this]=H.extend(H.valHooks[this],{set:function(e,t){if(H.isArray(t))return e.checked=H.inArray(H(e).val(),t)>=0}})});var G=/^(?:textarea|input|select)$/i,Y=/^([^\.]*)?(?:\.(.+))?$/,Z=/(?:^|\s)hover(\.\S+)?\b/,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,it=function(e){var t=rt.exec(e);return t&&(t[1]=(t[1]||"").toLowerCase(),t[3]=t[3]&&new RegExp("(?:^|\\s)"+t[3]+"(?:\\s|$)")),t},st=function(e,t){var n=e.attributes||{};return(!t[1]||e.nodeName.toLowerCase()===t[1])&&(!t[2]||(n.id||{}).value===t[2])&&(!t[3]||t[3].test((n["class"]||{}).value))},ot=function(e){return H.event.special.hover?e:e.replace(Z,"mouseenter$1 mouseleave$1")};H.event={add:function(e,n,r,i,s){var o,u,a,f,l,c,h,p,d,v,m,g;if(!(e.nodeType===3||e.nodeType===8||!n||!r||!(o=H._data(e)))){r.handler&&(d=r,r=d.handler,s=d.selector),r.guid||(r.guid=H.guid++),a=o.events,a||(o.events=a={}),u=o.handle,u||(o.handle=u=function(e){return typeof H=="undefined"||!!e&&H.event.triggered===e.type?t:H.event.dispatch.apply(u.elem,arguments)},u.elem=e),n=H.trim(ot(n)).split(" ");for(f=0;f<n.length;f++){l=Y.exec(n[f])||[],c=l[1],h=(l[2]||"").split(".").sort(),g=H.event.special[c]||{},c=(s?g.delegateType:g.bindType)||c,g=H.event.special[c]||{},p=H.extend({type:c,origType:l[1],data:i,handler:r,guid:r.guid,selector:s,quick:s&&it(s),namespace:h.join(".")},d),m=a[c];if(!m){m=a[c]=[],m.delegateCount=0;if(!g.setup||g.setup.call(e,i,h,u)===!1)e.addEventListener?e.addEventListener(c,u,!1):e.attachEvent&&e.attachEvent("on"+c,u)}g.add&&(g.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),s?m.splice(m.delegateCount++,0,p):m.push(p),H.event.global[c]=!0}e=null}},global:{},remove:function(e,t,n,r,i){var s=H.hasData(e)&&H._data(e),o,u,a,f,l,c,h,p,d,v,m,g;if(!!s&&!!(p=s.events)){t=H.trim(ot(t||"")).split(" ");for(o=0;o<t.length;o++){u=Y.exec(t[o])||[],a=f=u[1],l=u[2];if(!a){for(a in p)H.event.remove(e,a+t[o],n,r,!0);continue}d=H.event.special[a]||{},a=(r?d.delegateType:d.bindType)||a,m=p[a]||[],c=m.length,l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(h=0;h<m.length;h++)g=m[h],(i||f===g.origType)&&(!n||n.guid===g.guid)&&(!l||l.test(g.namespace))&&(!r||r===g.selector||r==="**"&&g.selector)&&(m.splice(h--,1),g.selector&&m.delegateCount--,d.remove&&d.remove.call(e,g));m.length===0&&c!==m.length&&((!d.teardown||d.teardown.call(e,l)===!1)&&H.removeEvent(e,a,s.handle),delete p[a])}H.isEmptyObject(p)&&(v=s.handle,v&&(v.elem=null),H.removeData(e,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,i,s){if(!i||i.nodeType!==3&&i.nodeType!==8){var o=n.type||n,u=[],a,f,l,c,h,p,d,v,m,g;if(nt.test(o+H.event.triggered))return;o.indexOf("!")>=0&&(o=o.slice(0,-1),f=!0),o.indexOf(".")>=0&&(u=o.split("."),o=u.shift(),u.sort());if((!i||H.event.customEvent[o])&&!H.event.global[o])return;n=typeof n=="object"?n[H.expando]?n:new H.Event(o,n):new H.Event(o),n.type=o,n.isTrigger=!0,n.exclusive=f,n.namespace=u.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+u.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,p=o.indexOf(":")<0?"on"+o:"";if(!i){a=H.cache;for(l in a)a[l].events&&a[l].events[o]&&H.event.trigger(n,r,a[l].handle.elem,!0);return}n.result=t,n.target||(n.target=i),r=r!=null?H.makeArray(r):[],r.unshift(n),d=H.event.special[o]||{};if(d.trigger&&d.trigger.apply(i,r)===!1)return;m=[[i,d.bindType||o]];if(!s&&!d.noBubble&&!H.isWindow(i)){g=d.delegateType||o,c=nt.test(g+o)?i:i.parentNode,h=null;for(;c;c=c.parentNode)m.push([c,g]),h=c;h&&h===i.ownerDocument&&m.push([h.defaultView||h.parentWindow||e,g])}for(l=0;l<m.length&&!n.isPropagationStopped();l++)c=m[l][0],n.type=m[l][1],v=(H._data(c,"events")||{})[n.type]&&H._data(c,"handle"),v&&v.apply(c,r),v=p&&c[p],v&&H.acceptData(c)&&v.apply(c,r)===!1&&n.preventDefault();return n.type=o,!s&&!n.isDefaultPrevented()&&(!d._default||d._default.apply(i.ownerDocument,r)===!1)&&(o!=="click"||!H.nodeName(i,"a"))&&H.acceptData(i)&&p&&i[o]&&(o!=="focus"&&o!=="blur"||n.target.offsetWidth!==0)&&!H.isWindow(i)&&(h=i[p],h&&(i[p]=null),H.event.triggered=o,i[o](),H.event.triggered=t,h&&(i[p]=h)),n.result}},dispatch:function(n){n=H.event.fix(n||e.event);var r=(H._data(this,"events")||{})[n.type]||[],i=r.delegateCount,s=[].slice.call(arguments,0),o=!n.exclusive&&!n.namespace,u=H.event.special[n.type]||{},a=[],f,l,c,h,p,d,v,m,g,y,b;s[0]=n,n.delegateTarget=this;if(!u.preDispatch||u.preDispatch.call(this,n)!==!1){if(i&&(!n.button||n.type!=="click")){h=H(this),h.context=this.ownerDocument||this;for(c=n.target;c!=this;c=c.parentNode||this)if(c.disabled!==!0){d={},m=[],h[0]=c;for(f=0;f<i;f++)g=r[f],y=g.selector,d[y]===t&&(d[y]=g.quick?st(c,g.quick):h.is(y)),d[y]&&m.push(g);m.length&&a.push({elem:c,matches:m})}}r.length>i&&a.push({elem:this,matches:r.slice(i)});for(f=0;f<a.length&&!n.isPropagationStopped();f++){v=a[f],n.currentTarget=v.elem;for(l=0;l<v.matches.length&&!n.isImmediatePropagationStopped();l++){g=v.matches[l];if(o||!n.namespace&&!g.namespace||n.namespace_re&&n.namespace_re.test(g.namespace))n.data=g.data,n.handleObj=g,p=((H.event.special[g.origType]||{}).handle||g.handler).apply(v.elem,s),p!==t&&(n.result=p,p===!1&&(n.preventDefault(),n.stopPropagation()))}}return u.postDispatch&&u.postDispatch.call(this,n),n.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,s,o=n.button,u=n.fromElement;return e.pageX==null&&n.clientX!=null&&(r=e.target.ownerDocument||_,i=r.documentElement,s=r.body,e.pageX=n.clientX+(i&&i.scrollLeft||s&&s.scrollLeft||0)-(i&&i.clientLeft||s&&s.clientLeft||0),e.pageY=n.clientY+(i&&i.scrollTop||s&&s.scrollTop||0)-(i&&i.clientTop||s&&s.clientTop||0)),!e.relatedTarget&&u&&(e.relatedTarget=u===e.target?n.toElement:u),!e.which&&o!==t&&(e.which=o&1?1:o&2?3:o&4?2:0),e}},fix:function(e){if(e[H.expando])return e;var n,r,i=e,s=H.event.fixHooks[e.type]||{},o=s.props?this.props.concat(s.props):this.props;e=H.Event(i);for(n=o.length;n;)r=o[--n],e[r]=i[r];return e.target||(e.target=i.srcElement||_),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey===t&&(e.metaKey=e.ctrlKey),s.filter?s.filter(e,i):e},special:{ready:{setup:H.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){H.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=H.extend(new H.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?H.event.trigger(i,null,t):H.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},H.event.handle=H.event.dispatch,H.removeEvent=_.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent&&e.detachEvent("on"+t,n)},H.Event=function(e,t){if(!(this instanceof H.Event))return new H.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?C:k):this.type=e,t&&H.extend(this,t),this.timeStamp=e&&e.timeStamp||H.now(),this[H.expando]=!0},H.Event.prototype={preventDefault:function(){this.isDefaultPrevented=C;var e=this.originalEvent;!e||(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=C;var e=this.originalEvent;!e||(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=C,this.stopPropagation()},isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k},H.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){H.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n=this,r=e.relatedTarget,i=e.handleObj,s=i.selector,o;if(!r||r!==n&&!H.contains(n,r))e.type=i.origType,o=i.handler.apply(this,arguments),e.type=t;return o}}}),H.support.submitBubbles||(H.event.special.submit={setup:function(){if(H.nodeName(this,"form"))return!1;H.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=H.nodeName(n,"input")||H.nodeName(n,"button")?n.form:t;r&&!r._submit_attached&&(H.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),r._submit_attached=!0)})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&H.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(H.nodeName(this,"form"))return!1;H.event.remove(this,"._submit")}}),H.support.changeBubbles||(H.event.special.change={setup:function(){if(G.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")H.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),H.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1,H.event.simulate("change",this,e,!0))});return!1}H.event.add(this,"beforeactivate._change",function(e){var t=e.target;G.test(t.nodeName)&&!t._change_attached&&(H.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&H.event.simulate("change",this.parentNode,e,!0)}),t._change_attached=!0)})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return H.event.remove(this,"._change"),G.test(this.nodeName)}}),H.support.focusinBubbles||H.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){H.event.simulate(t,e.target,H.event.fix(e),!0)};H.event.special[t]={setup:function(){n++===0&&_.addEventListener(e,r,!0)},teardown:function(){--n===0&&_.removeEventListener(e,r,!0)}}}),H.fn.extend({on:function(e,n,r,i,s){var o,u;if(typeof e=="object"){typeof n!="string"&&(r=r||n,n=t);for(u in e)this.on(u,n,r,e[u],s);return this}r==null&&i==null?(i=n,r=n=t):i==null&&(typeof n=="string"?(i=r,r=t):(i=r,r=n,n=t));if(i===!1)i=k;else if(!i)return this;return s===1&&(o=i,i=function(e){return H().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=H.guid++)),this.each(function(){H.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){if(e&&e.preventDefault&&e.handleObj){var i=e.handleObj;return H(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this}if(typeof e=="object"){for(var s in e)this.off(s,n,e[s]);return this}if(n===!1||typeof n=="function")r=n,n=t;return r===!1&&(r=k),this.each(function(){H.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return H(this.context).on(e,this.selector,t,n),this},die:function(e,t){return H(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length==1?this.off(e,"**"):this.off(t,e,n)},trigger:function(e,t){return this.each(function(){H.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return H.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||H.guid++,r=0,i=function(n){var i=(H._data(this,"lastToggle"+e.guid)||0)%r;return H._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};i.guid=n;while(r<t.length)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),H.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){H.fn[t]=function(e,n){return n==null&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},H.attrFn&&(H.attrFn[t]=!0),et.test(t)&&(H.event.fixHooks[t]=H.event.keyHooks),tt.test(t)&&(H.event.fixHooks[t]=H.event.mouseHooks)}),function(){function e(e,t,n,r,s,o){for(var u=0,a=r.length;u<a;u++){var f=r[u];if(f){var l=!1;f=f[e];while(f){if(f[i]===n){l=r[f.sizset];break}if(f.nodeType===1){o||(f[i]=n,f.sizset=u);if(typeof t!="string"){if(f===t){l=!0;break}}else if(h.filter(t,[f]).length>0){l=f;break}}f=f[e]}r[u]=l}}}function n(e,t,n,r,s,o){for(var u=0,a=r.length;u<a;u++){var f=r[u];if(f){var l=!1;f=f[e];while(f){if(f[i]===n){l=r[f.sizset];break}f.nodeType===1&&!o&&(f[i]=n,f.sizset=u);if(f.nodeName.toLowerCase()===t){l=f;break}f=f[e]}r[u]=l}}}var r=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,i="sizcache"+(Math.random()+"").replace(".",""),s=0,o=Object.prototype.toString,u=!1,a=!0,f=/\\/g,l=/\r\n/g,c=/\W/;[0,0].sort(function(){return a=!1,0});var h=function(e,t,n,i){n=n||[],t=t||_;var s=t;if(t.nodeType!==1&&t.nodeType!==9)return[];if(!e||typeof e!="string")return n;var u,a,f,l,c,p,m,g,b=!0,w=h.isXML(t),E=[],x=e;do{r.exec(""),u=r.exec(x);if(u){x=u[3],E.push(u[1]);if(u[2]){l=u[3];break}}}while(u);if(E.length>1&&v.exec(e))if(E.length===2&&d.relative[E[0]])a=S(E[0]+E[1],t,i);else{a=d.relative[E[0]]?[t]:h(E.shift(),t);while(E.length)e=E.shift(),d.relative[e]&&(e+=E.shift()),a=S(e,a,i)}else{!i&&E.length>1&&t.nodeType===9&&!w&&d.match.ID.test(E[0])&&!d.match.ID.test(E[E.length-1])&&(c=h.find(E.shift(),t,w),t=c.expr?h.filter(c.expr,c.set)[0]:c.set[0]);if(t){c=i?{expr:E.pop(),set:y(i)}:h.find(E.pop(),E.length!==1||E[0]!=="~"&&E[0]!=="+"||!t.parentNode?t:t.parentNode,w),a=c.expr?h.filter(c.expr,c.set):c.set,E.length>0?f=y(a):b=!1;while(E.length)p=E.pop(),m=p,d.relative[p]?m=E.pop():p="",m==null&&(m=t),d.relative[p](f,m,w)}else f=E=[]}f||(f=a),f||h.error(p||e);if(o.call(f)==="[object Array]")if(!b)n.push.apply(n,f);else if(t&&t.nodeType===1)for(g=0;f[g]!=null;g++)f[g]&&(f[g]===!0||f[g].nodeType===1&&h.contains(t,f[g]))&&n.push(a[g]);else for(g=0;f[g]!=null;g++)f[g]&&f[g].nodeType===1&&n.push(a[g]);else y(f,n);return l&&(h(l,s,n,i),h.uniqueSort(n)),n};h.uniqueSort=function(e){if(w){u=a,e.sort(w);if(u)for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1)}return e},h.matches=function(e,t){return h(e,null,null,t)},h.matchesSelector=function(e,t){return h(t,null,null,[e]).length>0},h.find=function(e,t,n){var r,i,s,o,u,a;if(!e)return[];for(i=0,s=d.order.length;i<s;i++){u=d.order[i];if(o=d.leftMatch[u].exec(e)){a=o[1],o.splice(1,1);if(a.substr(a.length-1)!=="\\"){o[1]=(o[1]||"").replace(f,""),r=d.find[u](o,t,n);if(r!=null){e=e.replace(d.match[u],"");break}}}}return r||(r=typeof t.getElementsByTagName!="undefined"?t.getElementsByTagName("*"):[]),{set:r,expr:e}},h.filter=function(e,n,r,i){var s,o,u,a,f,l,c,p,v,m=e,g=[],y=n,b=n&&n[0]&&h.isXML(n[0]);while(e&&n.length){for(u in d.filter)if((s=d.leftMatch[u].exec(e))!=null&&s[2]){l=d.filter[u],c=s[1],o=!1,s.splice(1,1);if(c.substr(c.length-1)==="\\")continue;y===g&&(g=[]);if(d.preFilter[u]){s=d.preFilter[u](s,y,r,g,i,b);if(!s)o=a=!0;else if(s===!0)continue}if(s)for(p=0;(f=y[p])!=null;p++)f&&(a=l(f,s,p,y),v=i^a,r&&a!=null?v?o=!0:y[p]=!1:v&&(g.push(f),o=!0));if(a!==t){r||(y=g),e=e.replace(d.match[u],"");if(!o)return[];break}}if(e===m){if(o!=null)break;h.error(e)}m=e}return y},h.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};var p=h.getText=function(e){var t,n,r=e.nodeType,i="";if(r){if(r===1||r===9||r===11){if(typeof e.textContent=="string")return e.textContent;if(typeof e.innerText=="string")return e.innerText.replace(l,"");for(e=e.firstChild;e;e=e.nextSibling)i+=p(e)}else if(r===3||r===4)return e.nodeValue}else for(t=0;n=e[t];t++)n.nodeType!==8&&(i+=p(n));return i},d=h.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,t){var n=typeof t=="string",r=n&&!c.test(t),i=n&&!r;r&&(t=t.toLowerCase());for(var s=0,o=e.length,u;s<o;s++)if(u=e[s]){while((u=u.previousSibling)&&u.nodeType!==1);e[s]=i||u&&u.nodeName.toLowerCase()===t?u||!1:u===t}i&&h.filter(t,e,!0)},">":function(e,t){var n,r=typeof t=="string",i=0,s=e.length;if(r&&!c.test(t)){t=t.toLowerCase();for(;i<s;i++){n=e[i];if(n){var o=n.parentNode;e[i]=o.nodeName.toLowerCase()===t?o:!1}}}else{for(;i<s;i++)n=e[i],n&&(e[i]=r?n.parentNode:n.parentNode===t);r&&h.filter(t,e,!0)}},"":function(t,r,i){var o,u=s++,a=e;typeof r=="string"&&!c.test(r)&&(r=r.toLowerCase(),o=r,a=n),a("parentNode",r,u,t,o,i)},"~":function(t,r,i){var o,u=s++,a=e;typeof r=="string"&&!c.test(r)&&(r=r.toLowerCase(),o=r,a=n),a("previousSibling",r,u,t,o,i)}},find:{ID:function(e,t,n){if(typeof t.getElementById!="undefined"&&!n){var r=t.getElementById(e[1]);return r&&r.parentNode?[r]:[]}},NAME:function(e,t){if(typeof t.getElementsByName!="undefined"){var n=[],r=t.getElementsByName(e[1]);for(var i=0,s=r.length;i<s;i++)r[i].getAttribute("name")===e[1]&&n.push(r[i]);return n.length===0?null:n}},TAG:function(e,t){if(typeof t.getElementsByTagName!="undefined")return t.getElementsByTagName(e[1])}},preFilter:{CLASS:function(e,t,n,r,i,s){e=" "+e[1].replace(f,"")+" ";if(s)return e;for(var o=0,u;(u=t[o])!=null;o++)u&&(i^(u.className&&(" "+u.className+" ").replace(/[\t\n\r]/g," ").indexOf(e)>=0)?n||r.push(u):n&&(t[o]=!1));return!1},ID:function(e){return e[1].replace(f,"")},TAG:function(e,t){return e[1].replace(f,"").toLowerCase()},CHILD:function(e){if(e[1]==="nth"){e[2]||h.error(e[0]),e[2]=e[2].replace(/^\+|\s*/g,"");var t=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(e[2]==="even"&&"2n"||e[2]==="odd"&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}else e[2]&&h.error(e[0]);return e[0]=s++,e},ATTR:function(e,t,n,r,i,s){var o=e[1]=e[1].replace(f,"");return!s&&d.attrMap[o]&&(e[1]=d.attrMap[o]),e[4]=(e[4]||e[5]||"").replace(f,""),e[2]==="~="&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,n,i,s){if(e[1]==="not"){if(!((r.exec(e[3])||"").length>1||/^\w/.test(e[3]))){var o=h.filter(e[3],t,n,!0^s);return n||i.push.apply(i,o),!1}e[3]=h(e[3],null,null,t)}else if(d.match.POS.test(e[0])||d.match.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return e.disabled===!1&&e.type!=="hidden"},disabled:function(e){return e.disabled===!0},checked:function(e){return e.checked===!0},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!h(n[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){var t=e.getAttribute("type"),n=e.type;return e.nodeName.toLowerCase()==="input"&&"text"===n&&(t===n||t===null)},radio:function(e){return e.nodeName.toLowerCase()==="input"&&"radio"===e.type},checkbox:function(e){return e.nodeName.toLowerCase()==="input"&&"checkbox"===e.type},file:function(e){return e.nodeName.toLowerCase()==="input"&&"file"===e.type},password:function(e){return e.nodeName.toLowerCase()==="input"&&"password"===e.type},submit:function(e){var t=e.nodeName.toLowerCase();return(t==="input"||t==="button")&&"submit"===e.type},image:function(e){return e.nodeName.toLowerCase()==="input"&&"image"===e.type},reset:function(e){var t=e.nodeName.toLowerCase();return(t==="input"||t==="button")&&"reset"===e.type},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&"button"===e.type||t==="button"},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t){return t===0},last:function(e,t,n,r){return t===r.length-1},even:function(e,t){return t%2===0},odd:function(e,t){return t%2===1},lt:function(e,t,n){return t<n[3]-0},gt:function(e,t,n){return t>n[3]-0},nth:function(e,t,n){return n[3]-0===t},eq:function(e,t,n){return n[3]-0===t}},filter:{PSEUDO:function(e,t,n,r){var i=t[1],s=d.filters[i];if(s)return s(e,n,t,r);if(i==="contains")return(e.textContent||e.innerText||p([e])||"").indexOf(t[3])>=0;if(i==="not"){var o=t[3];for(var u=0,a=o.length;u<a;u++)if(o[u]===e)return!1;return!0}h.error(i)},CHILD:function(e,t){var n,r,s,o,u,a,f,l=t[1],c=e;switch(l){case"only":case"first":while(c=c.previousSibling)if(c.nodeType===1)return!1;if(l==="first")return!0;c=e;case"last":while(c=c.nextSibling)if(c.nodeType===1)return!1;return!0;case"nth":n=t[2],r=t[3];if(n===1&&r===0)return!0;s=t[0],o=e.parentNode;if(o&&(o[i]!==s||!e.nodeIndex)){a=0;for(c=o.firstChild;c;c=c.nextSibling)c.nodeType===1&&(c.nodeIndex=++a);o[i]=s}return f=e.nodeIndex-r,n===0?f===0:f%n===0&&f/n>=0}},ID:function(e,t){return e.nodeType===1&&e.getAttribute("id")===t},TAG:function(e,t){return t==="*"&&e.nodeType===1||!!e.nodeName&&e.nodeName.toLowerCase()===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var n=t[1],r=h.attr?h.attr(e,n):d.attrHandle[n]?d.attrHandle[n](e):e[n]!=null?e[n]:e.getAttribute(n),i=r+"",s=t[2],o=t[4];return r==null?s==="!=":!s&&h.attr?r!=null:s==="="?i===o:s==="*="?i.indexOf(o)>=0:s==="~="?(" "+i+" ").indexOf(o)>=0:o?s==="!="?i!==o:s==="^="?i.indexOf(o)===0:s==="$="?i.substr(i.length-o.length)===o:s==="|="?i===o||i.substr(0,o.length+1)===o+"-":!1:i&&r!==!1},POS:function(e,t,n,r){var i=t[2],s=d.setFilters[i];if(s)return s(e,n,t,r)}}},v=d.match.POS,m=function(e,t){return"\\"+(t-0+1)};for(var g in d.match)d.match[g]=new RegExp(d.match[g].source+/(?![^\[]*\])(?![^\(]*\))/.source),d.leftMatch[g]=new RegExp(/(^(?:.|\r|\n)*?)/.source+d.match[g].source.replace(/\\(\d+)/g,m));d.match.globalPOS=v;var y=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(_.documentElement.childNodes,0)[0].nodeType}catch(b){y=function(e,t){var n=0,r=t||[];if(o.call(e)==="[object Array]")Array.prototype.push.apply(r,e);else if(typeof e.length=="number")for(var i=e.length;n<i;n++)r.push(e[n]);else for(;e[n];n++)r.push(e[n]);return r}}var w,E;_.documentElement.compareDocumentPosition?w=function(e,t){return e===t?(u=!0,0):!e.compareDocumentPosition||!t.compareDocumentPosition?e.compareDocumentPosition?-1:1:e.compareDocumentPosition(t)&4?-1:1}:(w=function(e,t){if(e===t)return u=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],s=[],o=e.parentNode,a=t.parentNode,f=o;if(o===a)return E(e,t);if(!o)return-1;if(!a)return 1;while(f)i.unshift(f),f=f.parentNode;f=a;while(f)s.unshift(f),f=f.parentNode;n=i.length,r=s.length;for(var l=0;l<n&&l<r;l++)if(i[l]!==s[l])return E(i[l],s[l]);return l===n?E(e,s[l],-1):E(i[l],t,1)},E=function(e,t,n){if(e===t)return n;var r=e.nextSibling;while(r){if(r===t)return-1;r=r.nextSibling}return 1}),function(){var e=_.createElement("div"),n="script"+(new Date).getTime(),r=_.documentElement;e.innerHTML="<a name='"+n+"'/>",r.insertBefore(e,r.firstChild),_.getElementById(n)&&(d.find.ID=function(e,n,r){if(typeof n.getElementById!="undefined"&&!r){var i=n.getElementById(e[1]);return i?i.id===e[1]||typeof i.getAttributeNode!="undefined"&&i.getAttributeNode("id").nodeValue===e[1]?[i]:t:[]}},d.filter.ID=function(e,t){var n=typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id");return e.nodeType===1&&n&&n.nodeValue===t}),r.removeChild(e),r=e=null}(),function(){var e=_.createElement("div");e.appendChild(_.createComment("")),e.getElementsByTagName("*").length>0&&(d.find.TAG=function(e,t){var n=t.getElementsByTagName(e[1]);if(e[1]==="*"){var r=[];for(var i=0;n[i];i++)n[i].nodeType===1&&r.push(n[i]);n=r}return n}),e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!="undefined"&&e.firstChild.getAttribute("href")!=="#"&&(d.attrHandle.href=function(e){return e.getAttribute("href",2)}),e=null}(),_.querySelectorAll&&function(){var e=h,t=_.createElement("div"),n="__sizzle__";t.innerHTML="<p class='TEST'></p>";if(!t.querySelectorAll||t.querySelectorAll(".TEST").length!==0){h=function(t,r,i,s){r=r||_;if(!s&&!h.isXML(r)){var o=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(t);if(o&&(r.nodeType===1||r.nodeType===9)){if(o[1])return y(r.getElementsByTagName(t),i);if(o[2]&&d.find.CLASS&&r.getElementsByClassName)return y(r.getElementsByClassName(o[2]),i)}if(r.nodeType===9){if(t==="body"&&r.body)return y([r.body],i);if(o&&o[3]){var u=r.getElementById(o[3]);if(!u||!u.parentNode)return y([],i);if(u.id===o[3])return y([u],i)}try{return y(r.querySelectorAll(t),i)}catch(a){}}else if(r.nodeType===1&&r.nodeName.toLowerCase()!=="object"){var f=r,l=r.getAttribute("id"),c=l||n,p=r.parentNode,v=/^\s*[+~]/.test(t);l?c=c.replace(/'/g,"\\$&"):r.setAttribute("id",c),v&&p&&(r=r.parentNode);try{if(!v||p)return y(r.querySelectorAll("[id='"+c+"'] "+t),i)}catch(m){}finally{l||f.removeAttribute("id")}}}return e(t,r,i,s)};for(var r in e)h[r]=e[r];t=null}}(),function(){var e=_.documentElement,t=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(t){var n=!t.call(_.createElement("div"),"div"),r=!1;try{t.call(_.documentElement,"[test!='']:sizzle")}catch(i){r=!0}h.matchesSelector=function(e,i){i=i.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!h.isXML(e))try{if(r||!d.match.PSEUDO.test(i)&&!/!=/.test(i)){var s=t.call(e,i);if(s||!n||e.document&&e.document.nodeType!==11)return s}}catch(o){}return h(i,null,null,[e]).length>0}}}(),function(){var e=_.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>";if(!!e.getElementsByClassName&&e.getElementsByClassName("e").length!==0){e.lastChild.className="e";if(e.getElementsByClassName("e").length===1)return;d.order.splice(1,0,"CLASS"),d.find.CLASS=function(e,t,n){if(typeof t.getElementsByClassName!="undefined"&&!n)return t.getElementsByClassName(e[1])},e=null}}(),_.documentElement.contains?h.contains=function(e,t){return e!==t&&(e.contains?e.contains(t):!0)}:_.documentElement.compareDocumentPosition?h.contains=function(e,t){return!!(e.compareDocumentPosition(t)&16)}:h.contains=function(){return!1},h.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?t.nodeName!=="HTML":!1};var S=function(e,t,n){var r,i=[],s="",o=t.nodeType?[t]:t;while(r=d.match.PSEUDO.exec(e))s+=r[0],e=e.replace(d.match.PSEUDO,"");e=d.relative[e]?e+"*":e;for(var u=0,a=o.length;u<a;u++)h(e,o[u],i,n);return h.filter(s,i)};h.attr=H.attr,h.selectors.attrMap={},H.find=h,H.expr=h.selectors,H.expr[":"]=H.expr.filters,H.unique=h.uniqueSort,H.text=h.getText,H.isXMLDoc=h.isXML,H.contains=h.contains}();var ut=/Until$/,at=/^(?:parents|prevUntil|prevAll)/,ft=/,/,lt=/^.[^:#\[\.,]*$/,ct=Array.prototype.slice,ht=H.expr.match.globalPOS,pt={children:!0,contents:!0,next:!0,prev:!0};H.fn.extend({find:function(e){var t=this,n,r;if(typeof e!="string")return H(e).filter(function(){for(n=0,r=t.length;n<r;n++)if(H.contains(t[n],this))return!0});var i=this.pushStack("","find",e),s,o,u;for(n=0,r=this.length;n<r;n++){s=i.length,H.find(e,this[n],i);if(n>0)for(o=s;o<i.length;o++)for(u=0;u<s;u++)if(i[u]===i[o]){i.splice(o--,1);break}}return i},has:function(e){var t=H(e);return this.filter(function(){for(var e=0,n=t.length;e<n;e++)if(H.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(T(this,e,!1),"not",e)},filter:function(e){return this.pushStack(T(this,e,!0),"filter",e)},is:function(e){return!!e&&(typeof e=="string"?ht.test(e)?H(e,this.context).index(this[0])>=0:H.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n=[],r,i,s=this[0];if(H.isArray(e)){var o=1;while(s&&s.ownerDocument&&s!==t){for(r=0;r<e.length;r++)H(s).is(e[r])&&n.push({selector:e[r],elem:s,level:o});s=s.parentNode,o++}return n}var u=ht.test(e)||typeof e!="string"?H(e,t||this.context):0;for(r=0,i=this.length;r<i;r++){s=this[r];while(s){if(u?u.index(s)>-1:H.find.matchesSelector(s,e)){n.push(s);break}s=s.parentNode;if(!s||!s.ownerDocument||s===t||s.nodeType===11)break}}return n=n.length>1?H.unique(n):n,this.pushStack(n,"closest",e)},index:function(e){return e?typeof e=="string"?H.inArray(this[0],H(e)):H.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n=typeof e=="string"?H(e,t):H.makeArray(e&&e.nodeType?[e]:e),r=H.merge(this.get(),n);return this.pushStack(N(n[0])||N(r[0])?r:H.unique(r))},andSelf:function(){return this.add(this.prevObject)}}),H.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return H.dir(e,"parentNode")},parentsUntil:function(e,t,n){return H.dir(e,"parentNode",n)},next:function(e){return H.nth(e,2,"nextSibling")},prev:function(e){return H.nth(e,2,"previousSibling")},nextAll:function(e){return H.dir(e,"nextSibling")},prevAll:function(e){return H.dir(e,"previousSibling")},nextUntil:function(e,t,n){return H.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return H.dir(e,"previousSibling",n)},siblings:function(e){return H.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return H.sibling(e.firstChild)},contents:function(e){return H.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:H.makeArray(e.childNodes)}},function(e,t){H.fn[e]=function(n,r){var i=H.map(this,t,n);return ut.test(e)||(r=n),r&&typeof r=="string"&&(i=H.filter(r,i)),i=this.length>1&&!pt[e]?H.unique(i):i,(this.length>1||ft.test(r))&&at.test(e)&&(i=i.reverse()),this.pushStack(i,e,ct.call(arguments).join(","))}}),H.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),t.length===1?H.find.matchesSelector(t[0],e)?[t[0]]:[]:H.find.matches(e,t)},dir:function(e,n,r){var i=[],s=e[n];while(s&&s.nodeType!==9&&(r===t||s.nodeType!==1||!H(s).is(r)))s.nodeType===1&&i.push(s),s=s[n];return i},nth:function(e,t,n,r){t=t||1;var i=0;for(;e;e=e[n])if(e.nodeType===1&&++i===t)break;return e},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var dt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",vt=/ jQuery\d+="(?:\d+|null)"/g,mt=/^\s+/,gt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,yt=/<([\w:]+)/,bt=/<tbody/i,wt=/<|&#?\w+;/,Et=/<(?:script|style)/i,St=/<(?:script|object|embed|option|style)/i,xt=new RegExp("<(?:"+dt+")[\\s/>]","i"),Tt=/checked\s*(?:[^=]|=\s*.checked.)/i,Nt=/\/(java|ecma)script/i,Ct=/^\s*<!(?:\[CDATA\[|\-\-)/,kt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Lt=x(_);kt.optgroup=kt.option,kt.tbody=kt.tfoot=kt.colgroup=kt.caption=kt.thead,kt.th=kt.td,H.support.htmlSerialize||(kt._default=[1,"div<div>","</div>"]),H.fn.extend({text:function(e){return H.access(this,function(e){return e===t?H.text(this):this.empty().append((this[0]&&this[0].ownerDocument||_).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(H.isFunction(e))return this.each(function(t){H(this).wrapAll(e.call(this,t))});if(this[0]){var t=H(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return H.isFunction(e)?this.each(function(t){H(this).wrapInner(e.call(this,t))}):this.each(function(){var t=H(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=H.isFunction(e);return this.each(function(n){H(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){H.nodeName(this,"body")||H(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){this.nodeType===1&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){this.nodeType===1&&this.insertBefore(e,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=H.clean(arguments);return e.push.apply(e,this.toArray()),this.pushStack(e,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=this.pushStack(this,"after",arguments);return e.push.apply(e,H.clean(arguments)),e}},remove:function(e,t){for(var n=0,r;(r=this[n])!=null;n++)if(!e||H.filter(e,[r]).length)!t&&r.nodeType===1&&(H.cleanData(r.getElementsByTagName("*")),H.cleanData([r])),r.parentNode&&r.parentNode.removeChild(r);return this},empty:function(){for(var e=0,t;(t=this[e])!=null;e++){t.nodeType===1&&H.cleanData(t.getElementsByTagName("*"));while(t.firstChild)t.removeChild(t.firstChild)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return H.clone(this,e,t)})},html:function(e){return H.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(vt,""):null;if(typeof e=="string"&&!Et.test(e)&&(H.support.leadingWhitespace||!mt.test(e))&&!kt[(yt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(gt,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},n.nodeType===1&&(H.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return this[0]&&this[0].parentNode?H.isFunction(e)?this.each(function(t){var n=H(this),r=n.html();n.replaceWith(e.call(this,t,r))}):(typeof e!="string"&&(e=H(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;H(this).remove(),t?H(t).before(e):H(n).append(e)})):this.length?this.pushStack(H(H.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){var i,s,o,u,a=e[0],f=[];if(!H.support.checkClone&&arguments.length===3&&typeof a=="string"&&Tt.test(a))return this.each(function(){H(this).domManip(e,n,r,!0)});if(H.isFunction(a))return this.each(function(i){var s=H(this);e[0]=a.call(this,i,n?s.html():t),s.domManip(e,n,r)});if(this[0]){u=a&&a.parentNode,H.support.parentNode&&u&&u.nodeType===11&&u.childNodes.length===this.length?i={fragment:u}:i=H.buildFragment(e,this,f),o=i.fragment,o.childNodes.length===1?s=o=o.firstChild:s=o.firstChild;if(s){n=n&&H.nodeName(s,"tr");for(var l=0,c=this.length,h=c-1;l<c;l++)r.call(n?S(this[l],s):this[l],i.cacheable||c>1&&l<h?H.clone(o,!0,!0):o)}f.length&&H.each(f,function(e,t){t.src?H.ajax({type:"GET",global:!1,url:t.src,async:!1,dataType:"script"}):H.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Ct,"/*$0*/")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),H.buildFragment=function(e,t,n){var r,i,s,o,u=e[0];return t&&t[0]&&(o=t[0].ownerDocument||t[0]),o.createDocumentFragment||(o=_),e.length===1&&typeof u=="string"&&u.length<512&&o===_&&u.charAt(0)==="<"&&!St.test(u)&&(H.support.checkClone||!Tt.test(u))&&(H.support.html5Clone||!xt.test(u))&&(i=!0,s=H.fragments[u],s&&s!==1&&(r=s)),r||(r=o.createDocumentFragment(),H.clean(e,o,r,n)),i&&(H.fragments[u]=s?r:1),{fragment:r,cacheable:i}},H.fragments={},H.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){H.fn[e]=function(n){var r=[],i=H(n),s=this.length===1&&this[0].parentNode;if(s&&s.nodeType===11&&s.childNodes.length===1&&i.length===1)return i[t](this[0]),this;for(var o=0,u=i.length;o<u;o++){var a=(o>0?this.clone(!0):this).get();H(i[o])[t](a),r=r.concat(a)}return this.pushStack(r,e,i.selector)}}),H.extend({clone:function(e,t,n){var r,i,s,o=H.support.html5Clone||H.isXMLDoc(e)||!xt.test("<"+e.nodeName+">")?e.cloneNode(!0):m(e);if((!H.support.noCloneEvent||!H.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!H.isXMLDoc(e)){w(e,o),r=b(e),i=b(o);for(s=0;r[s];++s)i[s]&&w(r[s],i[s])}if(t){E(e,o);if(n){r=b(e),i=b(o);for(s=0;r[s];++s)E(r[s],i[s])}}return r=i=null,o},clean:function(e,t,n,r){var i,s,o,u=[];t=t||_,typeof t.createElement=="undefined"&&(t=t.ownerDocument||t[0]&&t[0].ownerDocument||_);for(var a=0,f;(f=e[a])!=null;a++){typeof f=="number"&&(f+="");if(!f)continue;if(typeof f=="string")if(!wt.test(f))f=t.createTextNode(f);else{f=f.replace(gt,"<$1></$2>");var l=(yt.exec(f)||["",""])[1].toLowerCase(),c=kt[l]||kt._default,h=c[0],p=t.createElement("div"),d=Lt.childNodes,v;t===_?Lt.appendChild(p):x(t).appendChild(p),p.innerHTML=c[1]+f+c[2];while(h--)p=p.lastChild;if(!H.support.tbody){var m=bt.test(f),y=l==="table"&&!m?p.firstChild&&p.firstChild.childNodes:c[1]==="<table>"&&!m?p.childNodes:[];for(o=y.length-1;o>=0;--o)H.nodeName(y[o],"tbody")&&!y[o].childNodes.length&&y[o].parentNode.removeChild(y[o])}!H.support.leadingWhitespace&&mt.test(f)&&p.insertBefore(t.createTextNode(mt.exec(f)[0]),p.firstChild),f=p.childNodes,p&&(p.parentNode.removeChild(p),d.length>0&&(v=d[d.length-1],v&&v.parentNode&&v.parentNode.removeChild(v)))}var b;if(!H.support.appendChecked)if(f[0]&&typeof (b=f.length)=="number")for(o=0;o<b;o++)g(f[o]);else g(f);f.nodeType?u.push(f):u=H.merge(u,f)}if(n){i=function(e){return!e.type||Nt.test(e.type)};for(a=0;u[a];a++){s=u[a];if(r&&H.nodeName(s,"script")&&(!s.type||Nt.test(s.type)))r.push(s.parentNode?s.parentNode.removeChild(s):s);else{if(s.nodeType===1){var w=H.grep(s.getElementsByTagName("script"),i);u.splice.apply(u,[a+1,0].concat(w))}n.appendChild(s)}}}return u},cleanData:function(e){var t,n,r=H.cache,i=H.event.special,s=H.support.deleteExpando;for(var o=0,u;(u=e[o])!=null;o++){if(u.nodeName&&H.noData[u.nodeName.toLowerCase()])continue;n=u[H.expando];if(n){t=r[n];if(t&&t.events){for(var a in t.events)i[a]?H.event.remove(u,a):H.removeEvent(u,a,t.handle);t.handle&&(t.handle.elem=null)}s?delete u[H.expando]:u.removeAttribute&&u.removeAttribute(H.expando),delete r[n]}}}});var At=/alpha\([^)]*\)/i,Ot=/opacity=([^)]*)/,Mt=/([A-Z]|^ms)/g,_t=/^[\-+]?(?:\d*\.)?\d+$/i,Dt=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,Pt=/^([\-+])=([\-+.\de]+)/,Ht=/^margin/,Bt={position:"absolute",visibility:"hidden",display:"block"},jt=["Top","Right","Bottom","Left"],Ft,It,qt;H.fn.css=function(e,n){return H.access(this,function(e,n,r){return r!==t?H.style(e,n,r):H.css(e,n)},e,n,arguments.length>1)},H.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ft(e,"opacity");return n===""?"1":n}return e.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":H.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(!!e&&e.nodeType!==3&&e.nodeType!==8&&!!e.style){var s,o,u=H.camelCase(n),a=e.style,f=H.cssHooks[u];n=H.cssProps[u]||u;if(r===t)return f&&"get"in f&&(s=f.get(e,!1,i))!==t?s:a[n];o=typeof r,o==="string"&&(s=Pt.exec(r))&&(r=+(s[1]+1)*+s[2]+parseFloat(H.css(e,n)),o="number");if(r==null||o==="number"&&isNaN(r))return;o==="number"&&!H.cssNumber[u]&&(r+="px");if(!f||!("set"in f)||(r=f.set(e,r))!==t)try{a[n]=r}catch(l){}}},css:function(e,n,r){var i,s;n=H.camelCase(n),s=H.cssHooks[n],n=H.cssProps[n]||n,n==="cssFloat"&&(n="float");if(s&&"get"in s&&(i=s.get(e,!0,r))!==t)return i;if(Ft)return Ft(e,n)},swap:function(e,t,n){var r={},i,s;for(s in t)r[s]=e.style[s],e.style[s]=t[s];i=n.call(e);for(s in t)e.style[s]=r[s];return i}}),H.curCSS=H.css,_.defaultView&&_.defaultView.getComputedStyle&&(It=function(e,t){var n,r,i,s,o=e.style;return t=t.replace(Mt,"-$1").toLowerCase(),(r=e.ownerDocument.defaultView)&&(i=r.getComputedStyle(e,null))&&(n=i.getPropertyValue(t),n===""&&!H.contains(e.ownerDocument.documentElement,e)&&(n=H.style(e,t))),!H.support.pixelMargin&&i&&Ht.test(t)&&Dt.test(n)&&(s=o.width,o.width=n,n=i.width,o.width=s),n}),_.documentElement.currentStyle&&(qt=function(e,t){var n,r,i,s=e.currentStyle&&e.currentStyle[t],o=e.style;return s==null&&o&&(i=o[t])&&(s=i),Dt.test(s)&&(n=o.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),o.left=t==="fontSize"?"1em":s,s=o.pixelLeft+"px",o.left=n,r&&(e.runtimeStyle.left=r)),s===""?"auto":s}),Ft=It||qt,H.each(["height","width"],function(e,t){H.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth!==0?v(e,t,r):H.swap(e,Bt,function(){return v(e,t,r)})},set:function(e,t){return _t.test(t)?t+"px":t}}}),H.support.opacity||(H.cssHooks.opacity={get:function(e,t){return Ot.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=H.isNumeric(t)?"alpha(opacity="+t*100+")":"",s=r&&r.filter||n.filter||"";n.zoom=1;if(t>=1&&H.trim(s.replace(At,""))===""){n.removeAttribute("filter");if(r&&!r.filter)return}n.filter=At.test(s)?s.replace(At,i):s+" "+i}}),H(function(){H.support.reliableMarginRight||(H.cssHooks.marginRight={get:function(e,t){return H.swap(e,{display:"inline-block"},function(){return t?Ft(e,"margin-right"):e.style.marginRight})}})}),H.expr&&H.expr.filters&&(H.expr.filters.hidden=function(e){var t=e.offsetWidth,n=e.offsetHeight;return t===0&&n===0||!H.support.reliableHiddenOffsets&&(e.style&&e.style.display||H.css(e,"display"))==="none"},H.expr.filters.visible=function(e){return!H.expr.filters.hidden(e)}),H.each({margin:"",padding:"",border:"Width"},function(e,t){H.cssHooks[e+t]={expand:function(n){var r,i=typeof n=="string"?n.split(" "):[n],s={};for(r=0;r<4;r++)s[e+jt[r]+t]=i[r]||i[r-2]||i[0];return s}}});var Rt=/%20/g,Ut=/\[\]$/,zt=/\r?\n/g,Wt=/#.*$/,Xt=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Vt=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,$t=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Jt=/^(?:GET|HEAD)$/,Kt=/^\/\//,Qt=/\?/,Gt=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Yt=/^(?:select|textarea)/i,Zt=/\s+/,en=/([?&])_=[^&]*/,tn=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,nn=H.fn.load,rn={},sn={},on,un,an=["*/"]+["*"];try{on=P.href}catch(fn){on=_.createElement("a"),on.href="",on=on.href}un=tn.exec(on.toLowerCase())||[],H.fn.extend({load:function(e,n,r){if(typeof e!="string"&&nn)return nn.apply(this,arguments);if(!this.length)return this;var i=e.indexOf(" ");if(i>=0){var s=e.slice(i,e.length);e=e.slice(0,i)}var o="GET";n&&(H.isFunction(n)?(r=n,n=t):typeof n=="object"&&(n=H.param(n,H.ajaxSettings.traditional),o="POST"));var u=this;return H.ajax({url:e,type:o,dataType:"html",data:n,complete:function(e,t,n){n=e.responseText,e.isResolved()&&(e.done(function(e){n=e}),u.html(s?H("<div>").append(n.replace(Gt,"")).find(s):n)),r&&u.each(r,[n,t,e])}}),this},serialize:function(){return H.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?H.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Yt.test(this.nodeName)||Vt.test(this.type))}).map(function(e,t){var n=H(this).val();return n==null?null:H.isArray(n)?H.map(n,function(e,n){return{name:t.name,value:e.replace(zt,"\r\n")}}):{name:t.name,value:n.replace(zt,"\r\n")}}).get()}}),H.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){H.fn[t]=function(e){return this.on(t,e)}}),H.each(["get","post"],function(e,n){H[n]=function(e,r,i,s){return H.isFunction(r)&&(s=s||i,i=r,r=t),H.ajax({type:n,url:e,data:r,success:i,dataType:s})}}),H.extend({getScript:function(e,n){return H.get(e,t,n,"script")},getJSON:function(e,t,n){return H.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?h(e,H.ajaxSettings):(t=e,e=H.ajaxSettings),h(e,t),e},ajaxSettings:{url:on,isLocal:$t.test(un[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":an},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":H.parseJSON,"text xml":H.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:d(rn),ajaxTransport:d(sn),ajax:function(e,n){function r(e,n,r,p){if(E!==2){E=2,b&&clearTimeout(b),y=t,m=p||"",T.readyState=e>0?4:0;var d,v,g,w=n,x=r?l(i,T,r):t,N,C;if(e>=200&&e<300||e===304){if(i.ifModified){if(N=T.getResponseHeader("Last-Modified"))H.lastModified[h]=N;if(C=T.getResponseHeader("Etag"))H.etag[h]=C}if(e===304)w="notmodified",d=!0;else try{v=f(i,x),w="success",d=!0}catch(k){w="parsererror",g=k}}else{g=w;if(!w||e)w="error",e<0&&(e=0)}T.status=e,T.statusText=""+(n||w),d?u.resolveWith(s,[v,w,T]):u.rejectWith(s,[T,w,g]),T.statusCode(c),c=t,S&&o.trigger("ajax"+(d?"Success":"Error"),[T,i,d?v:g]),a.fireWith(s,[T,w]),S&&(o.trigger("ajaxComplete",[T,i]),--H.active||H.event.trigger("ajaxStop"))}}typeof e=="object"&&(n=e,e=t),n=n||{};var i=H.ajaxSetup({},n),s=i.context||i,o=s!==i&&(s.nodeType||s instanceof H)?H(s):H.event,u=H.Deferred(),a=H.Callbacks("once memory"),c=i.statusCode||{},h,d={},v={},m,g,y,b,w,E=0,S,x,T={readyState:0,setRequestHeader:function(e,t){if(!E){var n=e.toLowerCase();e=v[n]=v[n]||e,d[e]=t}return this},getAllResponseHeaders:function(){return E===2?m:null},getResponseHeader:function(e){var n;if(E===2){if(!g){g={};while(n=Xt.exec(m))g[n[1].toLowerCase()]=n[2]}n=g[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return E||(i.mimeType=e),this},abort:function(e){return e=e||"abort",y&&y.abort(e),r(0,e),this}};u.promise(T),T.success=T.done,T.error=T.fail,T.complete=a.add,T.statusCode=function(e){if(e){var t;if(E<2)for(t in e)c[t]=[c[t],e[t]];else t=e[T.status],T.then(t,t)}return this},i.url=((e||i.url)+"").replace(Wt,"").replace(Kt,un[1]+"//"),i.dataTypes=H.trim(i.dataType||"*").toLowerCase().split(Zt),i.crossDomain==null&&(w=tn.exec(i.url.toLowerCase()),i.crossDomain=!(!w||w[1]==un[1]&&w[2]==un[2]&&(w[3]||(w[1]==="http:"?80:443))==(un[3]||(un[1]==="http:"?80:443)))),i.data&&i.processData&&typeof i.data!="string"&&(i.data=H.param(i.data,i.traditional)),p(rn,i,n,T);if(E===2)return!1;S=i.global,i.type=i.type.toUpperCase(),i.hasContent=!Jt.test(i.type),S&&H.active++===0&&H.event.trigger("ajaxStart");if(!i.hasContent){i.data&&(i.url+=(Qt.test(i.url)?"&":"?")+i.data,delete i.data),h=i.url;if(i.cache===!1){var N=H.now(),C=i.url.replace(en,"$1_="+N);i.url=C+(C===i.url?(Qt.test(i.url)?"&":"?")+"_="+N:"")}}(i.data&&i.hasContent&&i.contentType!==!1||n.contentType)&&T.setRequestHeader("Content-Type",i.contentType),i.ifModified&&(h=h||i.url,H.lastModified[h]&&T.setRequestHeader("If-Modified-Since",H.lastModified[h]),H.etag[h]&&T.setRequestHeader("If-None-Match",H.etag[h])),T.setRequestHeader("Accept",i.dataTypes[0]&&i.accepts[i.dataTypes[0]]?i.accepts[i.dataTypes[0]]+(i.dataTypes[0]!=="*"?", "+an+"; q=0.01":""):i.accepts["*"]);for(x in i.headers)T.setRequestHeader(x,i.headers[x]);if(!i.beforeSend||i.beforeSend.call(s,T,i)!==!1&&E!==2){for(x in{success:1,error:1,complete:1})T[x](i[x]);y=p(sn,i,n,T);if(!y)r(-1,"No Transport");else{T.readyState=1,S&&o.trigger("ajaxSend",[T,i]),i.async&&i.timeout>0&&(b=setTimeout(function(){T.abort("timeout")},i.timeout));try{E=1,y.send(d,r)}catch(k){if(!(E<2))throw k;r(-1,k)}}return T}return T.abort(),!1},param:function(e,n){var r=[],i=function(e,t){t=H.isFunction(t)?t():t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};n===t&&(n=H.ajaxSettings.traditional);if(H.isArray(e)||e.jquery&&!H.isPlainObject(e))H.each(e,function(){i(this.name,this.value)});else for(var s in e)c(s,e[s],n,i);return r.join("&").replace(Rt,"+")}}),H.extend({active:0,lastModified:{},etag:{}});var ln=H.now(),cn=/(\=)\?(&|$)|\?\?/i;H.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return H.expando+"_"+ln++}}),H.ajaxPrefilter("json jsonp",function(t,n,r){var i=typeof t.data=="string"&&/^application\/x\-www\-form\-urlencoded/.test(t.contentType);if(t.dataTypes[0]==="jsonp"||t.jsonp!==!1&&(cn.test(t.url)||i&&cn.test(t.data))){var s,o=t.jsonpCallback=H.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,u=e[o],a=t.url,f=t.data,l="$1"+o+"$2";return t.jsonp!==!1&&(a=a.replace(cn,l),t.url===a&&(i&&(f=f.replace(cn,l)),t.data===f&&(a+=(/\?/.test(a)?"&":"?")+t.jsonp+"="+o))),t.url=a,t.data=f,e[o]=function(e){s=[e]},r.always(function(){e[o]=u,s&&H.isFunction(u)&&e[o](s[0])}),t.converters["script json"]=function(){return s||H.error(o+" was not called"),s[0]},t.dataTypes[0]="json","script"}}),H.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return H.globalEval(e),e}}}),H.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),H.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=_.head||_.getElementsByTagName("head")[0]||_.documentElement;return{send:function(i,s){n=_.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,i){if(i||!n.readyState||/loaded|complete/.test(n.readyState))n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=t,i||s(200,"success")},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var hn=e.ActiveXObject?function(){for(var e in dn)dn[e](0,1)}:!1,pn=0,dn;H.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&a()||u()}:a,function(e){H.extend(H.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(H.ajaxSettings.xhr()),H.support.ajax&&H.ajaxTransport(function(n){if(!n.crossDomain||H.support.cors){var r;return{send:function(i,s){var o=n.xhr(),u,a;n.username?o.open(n.type,n.url,n.async,n.username,n.password):o.open(n.type,n.url,n.async);if(n.xhrFields)for(a in n.xhrFields)o[a]=n.xhrFields[a];n.mimeType&&o.overrideMimeType&&o.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(a in i)o.setRequestHeader(a,i[a])}catch(f){}o.send(n.hasContent&&n.data||null),r=function(e,i){var a,f,l,c,h;try{if(r&&(i||o.readyState===4)){r=t,u&&(o.onreadystatechange=H.noop,hn&&delete dn[u]);if(i)o.readyState!==4&&o.abort();else{a=o.status,l=o.getAllResponseHeaders(),c={},h=o.responseXML,h&&h.documentElement&&(c.xml=h);try{c.text=o.responseText}catch(e){}try{f=o.statusText}catch(p){f=""}!a&&n.isLocal&&!n.crossDomain?a=c.text?200:404:a===1223&&(a=204)}}}catch(d){i||s(-1,d)}c&&s(a,f,c,l)},!n.async||o.readyState===4?r():(u=++pn,hn&&(dn||(dn={},H(e).unload(hn)),dn[u]=r),o.onreadystatechange=r)},abort:function(){r&&r(0,1)}}}});var vn={},mn,gn,yn=/^(?:toggle|show|hide)$/,bn=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,wn,En=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],Sn;H.fn.extend({show:function(e,t,n){var s,o;if(e||e===0)return this.animate(i("show",3),e,t,n);for(var u=0,a=this.length;u<a;u++)s=this[u],s.style&&(o=s.style.display,!H._data(s,"olddisplay")&&o==="none"&&(o=s.style.display=""),(o===""&&H.css(s,"display")==="none"||!H.contains(s.ownerDocument.documentElement,s))&&H._data(s,"olddisplay",r(s.nodeName)));for(u=0;u<a;u++){s=this[u];if(s.style){o=s.style.display;if(o===""||o==="none")s.style.display=H._data(s,"olddisplay")||""}}return this},hide:function(e,t,n){if(e||e===0)return this.animate(i("hide",3),e,t,n);var r,s,o=0,u=this.length;for(;o<u;o++)r=this[o],r.style&&(s=H.css(r,"display"),s!=="none"&&!H._data(r,"olddisplay")&&H._data(r,"olddisplay",s));for(o=0;o<u;o++)this[o].style&&(this[o].style.display="none");return this},_toggle:H.fn.toggle,toggle:function(e,t,n){var r=typeof e=="boolean";return H.isFunction(e)&&H.isFunction(t)?this._toggle.apply(this,arguments):e==null||r?this.each(function(){var t=r?e:H(this).is(":hidden");H(this)[t?"show":"hide"]()}):this.animate(i("toggle",3),e,t,n),this},fadeTo:function(e,t,n,r){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,i){function s(){o.queue===!1&&H._mark(this);var t=H.extend({},o),n=this.nodeType===1,i=n&&H(this).is(":hidden"),s,u,a,f,l,c,h,p,d,v,m;t.animatedProperties={};for(a in e){s=H.camelCase(a),a!==s&&(e[s]=e[a],delete e[a]);if((l=H.cssHooks[s])&&"expand"in l){c=l.expand(e[s]),delete e[s];for(a in c)a in e||(e[a]=c[a])}}for(s in e){u=e[s],H.isArray(u)?(t.animatedProperties[s]=u[1],u=e[s]=u[0]):t.animatedProperties[s]=t.specialEasing&&t.specialEasing[s]||t.easing||"swing";if(u==="hide"&&i||u==="show"&&!i)return t.complete.call(this);n&&(s==="height"||s==="width")&&(t.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],H.css(this,"display")==="inline"&&H.css(this,"float")==="none"&&(!H.support.inlineBlockNeedsLayout||r(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}t.overflow!=null&&(this.style.overflow="hidden");for(a in e)f=new H.fx(this,t,a),u=e[a],yn.test(u)?(m=H._data(this,"toggle"+a)||(u==="toggle"?i?"show":"hide":0),m?(H._data(this,"toggle"+a,m==="show"?"hide":"show"),f[m]()):f[u]()):(h=bn.exec(u),p=f.cur(),h?(d=parseFloat(h[2]),v=h[3]||(H.cssNumber[a]?"":"px"),v!=="px"&&(H.style(this,a,(d||1)+v),p=(d||1)/f.cur()*p,H.style(this,a,p+v)),h[1]&&(d=(h[1]==="-="?-1:1)*d+p),f.custom(p,d,v)):f.custom(p,u,""));return!0}var o=H.speed(t,n,i);return H.isEmptyObject(e)?this.each(o.complete,[!1]):(e=H.extend({},e),o.queue===!1?this.each(s):this.queue(o.queue,s))},stop:function(e,n,r){return typeof e!="string"&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){function t(e,t,n){var i=t[n];H.removeData(e,n,!0),i.stop(r)}var n,i=!1,s=H.timers,o=H._data(this);r||H._unmark(!0,this);if(e==null)for(n in o)o[n]&&o[n].stop&&n.indexOf(".run")===n.length-4&&t(this,o,n);else o[n=e+".run"]&&o[n].stop&&t(this,o,n);for(n=s.length;n--;)s[n].elem===this&&(e==null||s[n].queue===e)&&(r?s[n](!0):s[n].saveState(),i=!0,s.splice(n,1));(!r||!i)&&H.dequeue(this,e)})}}),H.each({slideDown:i("show",1),slideUp:i("hide",1),slideToggle:i("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){H.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),H.extend({speed:function(e,t,n){var r=e&&typeof e=="object"?H.extend({},e):{complete:n||!n&&t||H.isFunction(e)&&e,duration:e,easing:n&&t||t&&!H.isFunction(t)&&t};r.duration=H.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in H.fx.speeds?H.fx.speeds[r.duration]:H.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(e){H.isFunction(r.old)&&r.old.call(this),r.queue?H.dequeue(this,r.queue):e!==!1&&H._unmark(this)},r},easing:{linear:function(e){return e},swing:function(e){return-Math.cos(e*Math.PI)/2+.5}},timers:[],fx:function(e,t,n){this.options=t,this.elem=e,this.prop=n,t.orig=t.orig||{}}}),H.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(H.fx.step[this.prop]||H.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]==null||!!this.elem.style&&this.elem.style[this.prop]!=null){var e,t=H.css(this.elem,this.prop);return isNaN(e=parseFloat(t))?!t||t==="auto"?0:t:e}return this.elem[this.prop]},custom:function(e,n,r){function i(e){return s.step(e)}var s=this,u=H.fx;this.startTime=Sn||o(),this.end=n,this.now=this.start=e,this.pos=this.state=0,this.unit=r||this.unit||(H.cssNumber[this.prop]?"":"px"),i.queue=this.options.queue,i.elem=this.elem,i.saveState=function(){H._data(s.elem,"fxshow"+s.prop)===t&&(s.options.hide?H._data(s.elem,"fxshow"+s.prop,s.start):s.options.show&&H._data(s.elem,"fxshow"+s.prop,s.end))},i()&&H.timers.push(i)&&!wn&&(wn=setInterval(u.tick,u.interval))},show:function(){var e=H._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=e||H.style(this.elem,this.prop),this.options.show=!0,e!==t?this.custom(this.cur(),e):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),H(this.elem).show()},hide:function(){this.options.orig[this.prop]=H._data(this.elem,"fxshow"+this.prop)||H.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(e){var t,n,r,i=Sn||o(),s=!0,u=this.elem,a=this.options;if(e||i>=a.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),a.animatedProperties[this.prop]=!0;for(t in a.animatedProperties)a.animatedProperties[t]!==!0&&(s=!1);if(s){a.overflow!=null&&!H.support.shrinkWrapBlocks&&H.each(["","X","Y"],function(e,t){u.style["overflow"+t]=a.overflow[e]}),a.hide&&H(u).hide();if(a.hide||a.show)for(t in a.animatedProperties)H.style(u,t,a.orig[t]),H.removeData(u,"fxshow"+t,!0),H.removeData(u,"toggle"+t,!0);r=a.complete,r&&(a.complete=!1,r.call(u))}return!1}return a.duration==Infinity?this.now=i:(n=i-this.startTime,this.state=n/a.duration,this.pos=H.easing[a.animatedProperties[this.prop]](this.state,n,0,1,a.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},H.extend(H.fx,{tick:function(){var e,t=H.timers,n=0;for(;n<t.length;n++)e=t[n],!e()&&t[n]===e&&t.splice(n--,1);t.length||H.fx.stop()},interval:13,stop:function(){clearInterval(wn),wn=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){H.style(e.elem,"opacity",e.now)},_default:function(e){e.elem.style&&e.elem.style[e.prop]!=null?e.elem.style[e.prop]=e.now+e.unit:e.elem[e.prop]=e.now}}}),H.each(En.concat.apply([],En),function(e,t){t.indexOf("margin")&&(H.fx.step[t]=function(e){H.style(e.elem,t,Math.max(0,e.now)+e.unit)})}),H.expr&&H.expr.filters&&(H.expr.filters.animated=function(e){return H.grep(H.timers,function(t){return e===t.elem}).length});var xn,Tn=/^t(?:able|d|h)$/i,Nn=/^(?:body|html)$/i;"getBoundingClientRect"in _.documentElement?xn=function(e,t,r,i){try{i=e.getBoundingClientRect()}catch(s){}if(!i||!H.contains(r,e))return i?{top:i.top,left:i.left}:{top:0,left:0};var o=t.body,u=n(t),a=r.clientTop||o.clientTop||0,f=r.clientLeft||o.clientLeft||0,l=u.pageYOffset||H.support.boxModel&&r.scrollTop||o.scrollTop,c=u.pageXOffset||H.support.boxModel&&r.scrollLeft||o.scrollLeft,h=i.top+l-a,p=i.left+c-f;return{top:h,left:p}}:xn=function(e,t,n){var r,i=e.offsetParent,s=e,o=t.body,u=t.defaultView,a=u?u.getComputedStyle(e,null):e.currentStyle,f=e.offsetTop,l=e.offsetLeft;while((e=e.parentNode)&&e!==o&&e!==n){if(H.support.fixedPosition&&a.position==="fixed")break;r=u?u.getComputedStyle(e,null):e.currentStyle,f-=e.scrollTop,l-=e.scrollLeft,e===i&&(f+=e.offsetTop,l+=e.offsetLeft,H.support.doesNotAddBorder&&(!H.support.doesAddBorderForTableAndCells||!Tn.test(e.nodeName))&&(f+=parseFloat(r.borderTopWidth)||0,l+=parseFloat(r.borderLeftWidth)||0),s=i,i=e.offsetParent),H.support.subtractsBorderForOverflowNotVisible&&r.overflow!=="visible"&&(f+=parseFloat(r.borderTopWidth)||0,l+=parseFloat(r.borderLeftWidth)||0),a=r}if(a.position==="relative"||a.position==="static")f+=o.offsetTop,l+=o.offsetLeft;return H.support.fixedPosition&&a.position==="fixed"&&(f+=Math.max(n.scrollTop,o.scrollTop),l+=Math.max(n.scrollLeft,o.scrollLeft)),{top:f,left:l}},H.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){H.offset.setOffset(this,e,t)});var n=this[0],r=n&&n.ownerDocument;return r?n===r.body?H.offset.bodyOffset(n):xn(n,r,r.documentElement):null},H.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return H.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(H.css(e,"marginTop"))||0,n+=parseFloat(H.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=H.css(e,"position");r==="static"&&(e.style.position="relative");var i=H(e),s=i.offset(),o=H.css(e,"top"),u=H.css(e,"left"),a=(r==="absolute"||r==="fixed")&&H.inArray("auto",[o,u])>-1,f={},l={},c,h;a?(l=i.position(),c=l.top,h=l.left):(c=parseFloat(o)||0,h=parseFloat(u)||0),H.isFunction(t)&&(t=t.call(e,n,s)),t.top!=null&&(f.top=t.top-s.top+c),t.left!=null&&(f.left=t.left-s.left+h),"using"in t?t.using.call(e,f):i.css(f)}},H.fn.extend({position:function(){if(!this[0])return null;var e=this[0],t=this.offsetParent(),n=this.offset(),r=Nn.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(H.css(e,"marginTop"))||0,n.left-=parseFloat(H.css(e,"marginLeft"))||0,r.top+=parseFloat(H.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(H.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||_.body;while(e&&!Nn.test(e.nodeName)&&H.css(e,"position")==="static")e=e.offsetParent;return e})}}),H.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,r){var i=/Y/.test(r);H.fn[e]=function(s){return H.access(this,function(e,s,o){var u=n(e);if(o===t)return u?r in u?u[r]:H.support.boxModel&&u.document.documentElement[s]||u.document.body[s]:e[s];u?u.scrollTo(i?H(u).scrollLeft():o,i?o:H(u).scrollTop()):e[s]=o},e,s,arguments.length,null)}}),H.each({Height:"height",Width:"width"},function(e,n){var r="client"+e,i="scroll"+e,s="offset"+e;H.fn["inner"+e]=function(){var e=this[0];return e?e.style?parseFloat(H.css(e,n,"padding")):this[n]():null},H.fn["outer"+e]=function(e){var t=this[0];return t?t.style?parseFloat(H.css(t,n,e?"margin":"border")):this[n]():null},H.fn[n]=function(e){return H.access(this,function(e,n,o){var u,a,f,l;if(H.isWindow(e))return u=e.document,a=u.documentElement[r],H.support.boxModel&&a||u.body&&u.body[r]||a;if(e.nodeType===9)return u=e.documentElement,u[r]>=u[i]?u[r]:Math.max(e.body[i],u[i],e.body[s],u[s]);if(o===t)return f=H.css(e,n),l=parseFloat(f),H.isNumeric(l)?l:f;H(e).css(n,o)},n,e,arguments.length,null)}}),e.jQuery=e.$=H,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return H})})(window),function(e){var t=0;e.fn.splitter=function(n){return n=n||{},this.each(function(){function i(){return e.browser.msie&&parseInt(e.browser.version)<9}function s(e){b.removeClass(p.barStateClasses).addClass(e)}function o(t){if(t.which!=1)return;b.removeClass(p.barHoverClass),p.outline&&(r=r||b.clone(!1).insertAfter(m),b.removeClass(p.barDockedClass)),s(p.barActiveClass),v.css("-webkit-user-select","none").find("iframe").addClass(p.iframeClass),m._posSplit=m[0][p.pxSplit]-t[p.eventPos],e(document).bind("mousemove"+p.eventNamespace,u).bind("mouseup"+p.eventNamespace,a)}function u(e){var t=m._posSplit+e[p.eventPos],n=Math.max(0,Math.min(t,d._DA-b._DA)),r=Math.max(m._min,d._DA-g._max,Math.min(t,m._max,d._DA-b._DA-g._min));p.outline?(p.dockPane==m&&t<Math.max(m._min,b._DA)||p.dockPane==g&&t>Math.min(t,m._max,d._DA-b._DA-g._min)?b.addClass(p.barDockedClass).css(p.origin,n):b.removeClass(p.barDockedClass).css(p.origin,r),b._DA=b[0][p.pxSplit]):f(t),s(t==r?p.barActiveClass:p.barLimitClass)}function a(t){s(p.barNormalClass),b.addClass(p.barHoverClass);var n=m._posSplit+t[p.eventPos];p.outline&&(r&&r.remove(),r=null,f(n)),v.css("-webkit-user-select","text").find("iframe").removeClass(p.iframeClass),e(document).unbind("mousemove"+p.eventNamespace+" mouseup"+p.eventNamespace)}function f(e){b._DA=b[0][p.pxSplit],p.dockPane==m&&e<Math.max(m._min,b._DA)||p.dockPane==g&&e>Math.min(e,m._max,d._DA-b._DA-g._min)?(b.addClass(p.barDockedClass),b._DA=b[0][p.pxSplit],e=p.dockPane==m?0:d._DA-b._DA,b._pos==null&&(b._pos=m[0][p.pxSplit])):(b.removeClass(p.barDockedClass),b._DA=b[0][p.pxSplit],b._pos=null,e=Math.max(m._min,d._DA-g._max,Math.min(e,m._max,d._DA-b._DA-g._min))),b.css(p.origin,e).css(p.fixed,d._DF),m.css(p.origin,0).css(p.split,e).css(p.fixed,d._DF),g.css(p.origin,e+b._DA).css(p.split,d._DA-b._DA-e).css(p.fixed,d._DF),i()||v.triggerHandler("resize")}function l(e,t){var n=0;for(var r=1;r<arguments.length;r++)n+=Math.max(parseInt(e.css(arguments[r]),10)||0,0);return n}function c(e){d._DF=d[0][p.pxFixed]-d._PBF,d._DA=d[0][p.pxSplit]-d._PBA;if(d._DF<=0||d._DA<=0)return;if(d._oldW==d.width()&&d._oldH==d.height())return;d._oldW=d.width(),d._oldH=d.height(),f(isNaN(e)?!p.sizeRight&&!p.sizeBottom?m[0][p.pxSplit]:d._DA-g[0][p.pxSplit]-b._DA:e),s(p.barNormalClass)}if(e(this).attr("data-splitter-initialized"))return;var r,h=(n.splitHorizontal?"h":n.splitVertical?"v":n.type)||"v",p=e.extend({splitterClass:"splitter ui-widget ui-widget-content",paneClass:"splitter-pane",barClass:"splitter-bar",barNormalClass:"ui-state-default",barHoverClass:"ui-state-hover",barActiveClass:"ui-state-highlight",barLimitClass:"ui-state-error",iframeClass:"splitter-iframe-hide",eventNamespace:".splitter"+ ++t,pxPerKey:8,tabIndex:0,accessKey:""},{v:{keyLeft:39,keyRight:37,cursor:"e-resize",barStateClass:"splitter-bar-vertical",barDockedClass:"splitter-bar-vertical-docked"},h:{keyTop:40,keyBottom:38,cursor:"n-resize",barStateClass:"splitter-bar-horizontal",barDockedClass:"splitter-bar-horizontal-docked"}}[h],n,{v:{type:"v",eventPos:"pageX",origin:"left",split:"width",pxSplit:"clientWidth",side1:"Left",side2:"Right",fixed:"height",pxFixed:"clientHeight",side3:"Top",side4:"Bottom"},h:{type:"h",eventPos:"pageY",origin:"top",split:"height",pxSplit:"clientHeight",side1:"Top",side2:"Bottom",fixed:"width",pxFixed:"clientWidth",side3:"Left",side4:"Right"}}[h]);p.barStateClasses=[p.barNormalClass,p.barHoverClass,p.barActiveClass,p.barLimitClass].join(" ");var d=e(this).css({position:"absolute"}).addClass(p.splitterClass).attr("data-splitter-initialized",!0),v=e(">*",d[0]).addClass(p.paneClass).css({position:"absolute","z-index":"1","-moz-outline-style":"none"}),m=e(v[0]),g=e(v[1]);p.dockPane=p.dock&&(/right|bottom/.test(p.dock)?g:m);var y=e('<a href="javascript:void(0)"></a>').attr({accessKey:p.accessKey,tabIndex:p.tabIndex,title:p.splitbarClass}).bind((e.browser.opera?"click":"focus")+p.eventNamespace,function(){this.focus(),b.addClass(p.barActiveClass)}).bind("keydown"+p.eventNamespace,function(e){var t=e.which||e.keyCode,n=t==p["key"+p.side1]?1:t==p["key"+p.side2]?-1:0;n&&f(m[0][p.pxSplit]+n*p.pxPerKey,!1)}).bind("blur"+p.eventNamespace,function(){b.removeClass(p.barActiveClass)}),b=e("<div></div>").insertAfter(m).addClass(p.barClass).addClass(p.barStateClass).append(y).attr({unselectable:"on"}).css({position:"absolute","user-select":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","z-index":"100"}).bind("mousedown"+p.eventNamespace,o).bind("mouseover"+p.eventNamespace,function(){e(this).addClass(p.barHoverClass)}).bind("mouseout"+p.eventNamespace,function(){e(this).removeClass(p.barHoverClass)});/^(auto|default|)$/.test(b.css("cursor"))&&b.css("cursor",p.cursor),b._DA=b[0][p.pxSplit],d._PBF=l(d,"border"+p.side3+"Width","border"+p.side4+"Width"),d._PBA=l(d,"border"+p.side1+"Width","border"+p.side2+"Width"),m._pane=p.side1,g._pane=p.side2,e.each([m,g],function(){this._splitter_style=this.style,this._min=p["min"+this._pane]||l(this,"min-"+p.split),this._max=p["max"+this._pane]||l(this,"max-"+p.split)||9999,this._init=p["size"+this._pane]===!0?parseInt(e.css(this[0],p.split),10):p["size"+this._pane]});var w=m._init;isNaN(g._init)||(w=d[0][p.pxSplit]-d._PBA-g._init-b._DA),p.cookie&&(e.cookie||alert("jQuery.splitter(): jQuery cookie plugin required"),w=parseInt(e.cookie(p.cookie),10),e(window).bind("unload"+p.eventNamespace,function(){var t=String(b.css(p.origin));e.cookie(p.cookie,t,{expires:p.cookieExpires||365,path:p.cookiePath||document.location.pathname})})),isNaN(w)&&(w=Math.round((d[0][p.pxSplit]-d._PBA-b._DA)/2)),p.anchorToWindow&&(p.resizeTo=window),p.resizeTo?(d._hadjust=l(d,"borderTopWidth","borderBottomWidth","marginBottom"),d._hmin=Math.max(l(d,"minHeight"),20),e(window).bind("resize"+p.eventNamespace,function(){var t=d.offset().top,n=e(p.resizeTo).height();d.css("height",Math.max(n-t-d._hadjust,d._hmin)+"px"),i()||d.triggerHandler("resize")}).triggerHandler("resize"+p.eventNamespace)):p.resizeToWidth&&!i()&&e(window).bind("resize"+p.eventNamespace,function(){c()}),p.dock&&(d.bind("toggleDock"+p.eventNamespace,function(){var e=p.dockPane[0][p.pxSplit];d.triggerHandler(e?"dock":"undock")}).bind("dock"+p.eventNamespace,function(){var e=m[0][p.pxSplit];if(!e)return;b._pos=e;var t={};t[p.origin]=p.dockPane==m?0:d[0][p.pxSplit]-d._PBA-b[0][p.pxSplit],b.animate(t,p.dockSpeed||1,p.dockEasing,function(){b.addClass(p.barDockedClass),f(t[p.origin])})}).bind("undock"+p.eventNamespace,function(){var e=p.dockPane[0][p.pxSplit];if(e)return;var t={};t[p.origin]=b._pos+"px",b.removeClass(p.barDockedClass).animate(t,p.undockSpeed||p.dockSpeed||1,p.undockEasing||p.dockEasing,function(){f(b._pos),b._pos=null})}),p.dockKey&&e('<a title="'+p.splitbarClass+' toggle dock" href="javascript:void(0)"></a>').attr({accessKey:p.dockKey,tabIndex:-1}).appendTo(b).bind(e.browser.opera?"click":"focus",function(){d.triggerHandler("toggleDock"),this.blur()}),b.bind("dblclick",function(){d.triggerHandler("toggleDock")})),d.bind("destroy"+p.eventNamespace,function(){e([window,document]).unbind(p.eventNamespace),b.unbind().remove(),v.removeClass(p.paneClass),d.removeClass(p.splitterClass).add(v).unbind(p.eventNamespace).attr("style",function(e){return this._splitter_style||""}),d=b=y=v=m=g=p=n=null}).bind("resize"+p.eventNamespace,function(e,t){c(t)}).trigger("resize",[w]),d.bind("resize",function(e,t){d._DF=d[0][p.pxFixed]-d._PBF,d._DA=d[0][p.pxSplit]-d._PBA;if(d._DF<=0||d._DA<=0)return;f(isNaN(t)?!p.sizeRight&&!p.sizeBottom?m[0][p.pxSplit]:d._DA-g[0][p.pxSplit]-b._DA:t),e.stopPropagation()}),p.anchorToWindow?(d._hadjust=l(d,"borderTopWidth","borderBottomWidth","marginBottom"),d._hmin=Math.max(l(d,"minHeight"),20),d._bottomOffset=p.bottomOffset?p.bottomOffset:0,e(window).bind("resize",function(){var t=d.offset().top,n=e(window).height()-d._bottomOffset;d.css("height",Math.max(n-t-d._hadjust,d._hmin)+"px"),d.trigger("resize")}).trigger("resize")):p.resizeToWidth&&e(window).bind("resize",function(){d.trigger("resize")})})}}(jQuery),function(e){e(["."],function(e){var t=function(){var n={tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,fadeIn:300,fadeOut:1e3,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message"},r=function(e,t,n){return u({iconClass:s().iconClasses.error,message:e,optionsOverride:n,title:t})},i=function(t){var n=e("#"+t.containerId);return n.length?n:(n=e("<div/>").attr("id",t.containerId).addClass(t.positionClass),n.appendTo(e("body")),n)},s=function(){return e.extend({},n,t.options)},o=function(e,t,n){return u({iconClass:s().iconClasses.info,message:e,optionsOverride:n,title:t})},u=function(t){var n=s(),r=t.iconClass||n.iconClass;typeof t.optionsOverride!="undefined"&&(n=e.extend(n,t.optionsOverride),r=t.optionsOverride.iconClass||r);var o=null,u=i(n),a=e("<div/>"),f=e("<div/>"),l=e("<div/>"),c={options:n,map:t};t.iconClass&&a.addClass(n.toastClass).addClass(r),t.title&&(f.append(t.title).addClass(n.titleClass),a.append(f)),t.message&&(l.append(t.message).addClass(n.messageClass),a.append(l));var h=function(){if(e(":focus",a).length>0)return;var t=function(e){return a.fadeOut(n.fadeOut,e)},r=function(){if(a.is(":visible"))return;a.remove(),u.children().length===0&&u.remove()};t(r)},p=function(){if(n.timeOut>0||n.extendedTimeOut>0)o=setTimeout(h,n.extendedTimeOut)},d=function(){clearTimeout(o),a.stop(!0,!0).fadeIn(n.fadeIn)};return a.hide(),u.prepend(a),a.fadeIn(n.fadeIn),n.timeOut>0&&(o=setTimeout(h,n.timeOut)),a.hover(d,p),!n.onclick&&n.tapToDismiss&&a.click(h),n.onclick&&a.click(function(){n.onclick()&&h()}),n.debug&&console&&console.log(c),a},a=function(e,t,n){return u({iconClass:s().iconClasses.success,message:e,optionsOverride:n,title:t})},f=function(e,t,n){return u({iconClass:s().iconClasses.warning,message:e,optionsOverride:n,title:t})},l=function(t){var n=s(),r=e("#"+n.containerId);if(t&&e(":focus",t).length===0){var i=function(){if(t.is(":visible"))return;t.remove(),r.children().length===0&&r.remove()};t.fadeOut(n.fadeOut,i);return}r.length&&r.fadeOut(n.fadeOut,function(){r.remove()})};return{clear:l,error:r,info:o,options:{},success:a,version:"1.1.2",warning:f}}();return t})}(typeof define=="function"&&define.amd?define:function(e,t){typeof module!="undefined"&&module.exports?module.exports=t(require(e[0])):window.toastr=t(window.jQuery)}),function(){function e(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function t(e){return"keypress"==e.type?String.fromCharCode(e.which):f[e.which]?f[e.which]:l[e.which]?l[e.which]:String.fromCharCode(e.which).toLowerCase()}function n(e,t){e=e||{};var n=!1,r;for(r in m)e[r]&&m[r]>t?n=!0:m[r]=0;n||(b=!1)}function r(e,t,n,r,i){var s,u,a=[],f=n.type;if(!d[e])return[];"keyup"==f&&o(e)&&(t=[e]);for(s=0;s<d[e].length;++s)if(u=d[e][s],(!u.seq||m[u.seq]==u.level)&&f==u.action&&("keypress"==f&&!n.metaKey&&!n.ctrlKey||t.sort().join(",")===u.modifiers.sort().join(",")))r&&u.combo==i&&d[e].splice(s,1),a.push(u);return a}function i(e,t,n){!E.stopCallback(t,t.target||t.srcElement,n)&&!1===e(t,n)&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.returnValue=!1,t.cancelBubble=!0)}function s(e){"number"!=typeof e.which&&(e.which=e.keyCode);var s=t(e);if(s)if("keyup"==e.type&&y==s)y=!1;else{var u=[];e.shiftKey&&u.push("shift"),e.altKey&&u.push("alt"),e.ctrlKey&&u.push("ctrl"),e.metaKey&&u.push("meta");var u=r(s,u,e),a,f={},l=0,c=!1;for(a=0;a<u.length;++a)u[a].seq?(c=!0,l=Math.max(l,u[a].level),f[u[a].seq]=1,i(u[a].callback,e,u[a].combo)):!c&&!b&&i(u[a].callback,e,u[a].combo);e.type==b&&!o(s)&&n(f,l)}}function o(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function u(e,t,n){if(!n){if(!p){p={};for(var r in f)95<r&&112>r||f.hasOwnProperty(r)&&(p[f[r]]=r)}n=p[e]?"keydown":"keypress"}return"keypress"==n&&t.length&&(n="keydown"),n}function a(e,s,f,l,p){v[e+":"+f]=s,e=e.replace(/\s+/g," ");var w=e.split(" "),E,S,T=[];if(1<w.length){var N=e,k=f;m[N]=0,k||(k=u(w[0],[])),e=function(){b=k,++m[N],clearTimeout(g),g=setTimeout(n,1e3)},f=function(e){i(s,e,N),"keyup"!==k&&(y=t(e)),setTimeout(n,10)};for(l=0;l<w.length;++l)a(w[l],l<w.length-1?e:f,k,N,l)}else{S="+"===e?["+"]:e.split("+");for(w=0;w<S.length;++w)E=S[w],h[E]&&(E=h[E]),f&&"keypress"!=f&&c[E]&&(E=c[E],T.push("shift")),o(E)&&T.push(E);f=u(E,T,f),d[E]||(d[E]=[]),r(E,T,{type:f},!l,e),d[E][l?"unshift":"push"]({callback:s,modifiers:T,action:f,seq:l,level:p,combo:e})}}for(var f={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},l={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},c={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},h={option:"alt",command:"meta","return":"enter",escape:"esc"},p,d={},v={},m={},g,y=!1,b=!1,w=1;20>w;++w)f[111+w]="f"+w;for(w=0;9>=w;++w)f[w+96]=w;e(document,"keypress",s),e(document,"keydown",s),e(document,"keyup",s);var E={bind:function(e,t,n){e=e instanceof Array?e:[e];for(var r=0;r<e.length;++r)a(e[r],t,n);return this},unbind:function(e,t){return E.bind(e,function(){},t)},trigger:function(e,t){return v[e+":"+t]&&v[e+":"+t](),this},reset:function(){return d={},v={},this},stopCallback:function(e,t){return-1<(" "+t.className+" ").indexOf(" mousetrap ")?!1:"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.contentEditable&&"true"==t.contentEditable}};window.Mousetrap=E,"function"==typeof define&&define.amd&&define(E)}(),function(e,t,n){function i(e){return e}function s(e){return decodeURIComponent(e.replace(r," "))}var r=/\+/g,o=e.cookie=function(r,u,a){if(u!==n){a=e.extend({},o.defaults,a),u===null&&(a.expires=-1);if(typeof a.expires=="number"){var f=a.expires,l=a.expires=new Date;l.setDate(l.getDate()+f)}return u=o.json?JSON.stringify(u):String(u),t.cookie=[encodeURIComponent(r),"=",o.raw?u:encodeURIComponent(u),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}var c=o.raw?i:s,h=t.cookie.split("; ");for(var p=0,d;d=h[p]&&h[p].split("=");p++)if(c(d.shift())===r){var v=c(d.join("="));return o.json?JSON.parse(v):v}return null};o.defaults={},e.removeCookie=function(t,n){return e.cookie(t)!==null?(e.cookie(t,null,n),!0):!1}}(jQuery,document),function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){if(e instanceof x)return e;if(!(this instanceof x))return new x(e);this._wrapped=e};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.4.4";var T=x.each=x.forEach=function(e,t,r){if(e==null)return;if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(t.call(r,e[i],i,e)===n)return}else for(var o in e)if(x.has(e,o)&&t.call(r,e[o],o,e)===n)return};x.map=x.collect=function(e,t,n){var r=[];return e==null?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r[r.length]=t.call(n,e,i,s)}),r)};var N="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError(N);return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}T(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError(N);return n},x.find=x.detect=function(e,t,n){var r;return C(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},x.filter=x.select=function(e,t,n){var r=[];return e==null?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&(r[r.length]=e)}),r)},x.reject=function(e,t,n){return x.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;return e==null?i:m&&e.every===m?e.every(t,r):(T(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n}),!!i)};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return e==null?i:g&&e.some===g?e.some(t,r):(T(e,function(e,s,o){if(i||(i=t.call(r,e,s,o)))return n}),!!i)};x.contains=x.include=function(e,t){return e==null?!1:y&&e.indexOf===y?e.indexOf(t)!=-1:C(e,function(e){return e===t})},x.invoke=function(e,t){var n=u.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){return(r?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,function(e){return e[t]})},x.where=function(e,t,n){return x.isEmpty(t)?n?null:[]:x[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},x.findWhere=function(e,t){return x.where(e,t,!0)},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&x.isEmpty(e))return-Infinity;var r={computed:-Infinity,value:-Infinity};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&x.isEmpty(e))return Infinity;var r={computed:Infinity,value:Infinity};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o<r.computed&&(r={value:e,computed:o})}),r.value},x.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=x.random(n++),r[n-1]=r[t],r[t]=e}),r};var k=function(e){return x.isFunction(e)?e:function(t){return t[e]}};x.sortBy=function(e,t,n){var r=k(t);return x.pluck(x.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index<t.index?-1:1}),"value")};var L=function(e,t,n,r){var i={},s=k(t||x.identity);return T(e,function(t,o){var u=s.call(n,t,o,e);r(i,u,t)}),i};x.groupBy=function(e,t,n){return L(e,t,n,function(e,t,n){(x.has(e,t)?e[t]:e[t]=[]).push(n)})},x.countBy=function(e,t,n){return L(e,t,n,function(e,t){x.has(e,t)||(e[t]=0),e[t]++})},x.sortedIndex=function(e,t,n,r){n=n==null?x.identity:k(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},x.toArray=function(e){return e?x.isArray(e)?u.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return e==null?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return e==null?void 0:t!=null&&!n?u.call(e,0,t):e[0]},x.initial=function(e,t,n){return u.call(e,0,e.length-(t==null||n?1:t))},x.last=function(e,t,n){return e==null?void 0:t!=null&&!n?u.call(e,Math.max(e.length-t,0)):e[e.length-1]},x.rest=x.tail=x.drop=function(e,t,n){return u.call(e,t==null||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n){return T(e,function(e){x.isArray(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n};x.flatten=function(e,t){return A(e,t,[])},x.without=function(e){return x.difference(e,u.call(arguments,1))},x.uniq=x.unique=function(e,t,n,r){x.isFunction(t)&&(r=n,n=t,t=!1);var i=n?x.map(e,n,r):e,s=[],o=[];return T(i,function(n,r){if(t?!r||o[o.length-1]!==n:!x.contains(o,n))o.push(n),s.push(e[r])}),s},x.union=function(){return x.uniq(a.apply(r,arguments))},x.intersection=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.indexOf(t,e)>=0})})},x.difference=function(e){var t=a.apply(r,u.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){var e=u.call(arguments),t=x.max(x.pluck(e,"length")),n=new Array(t);for(var r=0;r<t;r++)n[r]=x.pluck(e,""+r);return n},x.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number")return r=x.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},x.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},x.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s},x.bind=function(e,t){if(e.bind===S&&S)return S.apply(e,u.call(arguments,1));var n=u.call(arguments,2);return function(){return e.apply(t,n.concat(u.call(arguments)))}},x.partial=function(e){var t=u.call(arguments,1);return function(){return e.apply(this,t.concat(u.call(arguments)))}},x.bindAll=function(e){var t=u.call(arguments,1);return t.length===0&&(t=x.functions(e)),T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))},x.throttle=function(e,t){var n,r,i,s,o=0,u=function(){o=new Date,i=null,s=e.apply(n,r)};return function(){var a=new Date,f=t-(a-o);return n=this,r=arguments,f<=0?(clearTimeout(i),i=null,o=a,s=e.apply(n,r)):i||(i=setTimeout(u,f)),s}},x.debounce=function(e,t,n){var r,i;return function(){var s=this,o=arguments,u=function(){r=null,n||(i=e.apply(s,o))},a=n&&!r;return clearTimeout(r),r=setTimeout(u,t),a&&(i=e.apply(s,o)),i}},x.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},x.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},x.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return e<=0?t():function(){if(--e<1)return t.apply(this,arguments)}},x.keys=E||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)x.has(e,n)&&(t[t.length]=n);return t},x.values=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push(e[n]);return t},x.pairs=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push([n,e[n]]);return t},x.invert=function(e){var t={};for(var n in e)x.has(e,n)&&(t[e[n]]=n);return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]==null&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var O=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;n.push(e),r.push(t);var o=0,u=!0;if(i=="[object Array]"){o=e.length,u=o==t.length;if(u)while(o--)if(!(u=O(e[o],t[o],n,r)))break}else{var a=e.constructor,l=t.constructor;if(a!==l&&!(x.isFunction(a)&&a instanceof a&&x.isFunction(l)&&l instanceof l))return!1;for(var c in e)if(x.has(e,c)){o++;if(!(u=x.has(t,c)&&O(e[c],t[c],n,r)))break}if(u){for(c in t)if(x.has(t,c)&&!(o--))break;u=!o}}return n.pop(),r.pop(),u};x.isEqual=function(e,t){return O(e,t,[],[])},x.isEmpty=function(e){if(e==null)return!0;if(x.isArray(e)||x.isString(e))return e.length===0;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!!e&&e.nodeType===1},x.isArray=w||function(e){return f.call(e)=="[object Array]"},x.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!x.has(e,"callee")}),typeof /./!="function"&&(x.isFunction=function(e){return typeof e=="function"}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||f.call(e)=="[object Boolean]"},x.isNull=function(e){return e===null},x.isUndefined=function(e){return e===void 0},x.has=function(e,t){return l.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.times=function(e,t,n){var r=Array(e);for(var i=0;i<e;i++)r[i]=t.call(n,i);return r},x.random=function(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var M={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};M.unescape=x.invert(M.escape);var _={escape:new RegExp("["+x.keys(M.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(M.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return t==null?"":(""+t).replace(_[e],function(t){return M[e][t]})}}),x.result=function(e,t){if(e==null)return null;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){T(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),j.call(this,n.apply(x,e))}})};var D=0;x.uniqueId=function(e){var t=++D+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){var r;n=x.defaults({},n,x.templateSettings);var i=new RegExp([(n.escape||P).source,(n.interpolate||P).source,(n.evaluate||P).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){return o+=e.slice(s,u).replace(B,function(e){return"\\"+H[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return r(t,x);var a=function(e){return r.call(this,e,x)};return a.source="function("+(n.variable||"obj")+"){\n"+o+"}",a},x.chain=function(e){return x(e).chain()};var j=function(e){return this._chain?x(e).chain():e};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice")&&n.length===0&&delete n[0],j.call(this,n)}}),T(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return j.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(){var e=this,t=e.Backbone,n=[],r=n.push,i=n.slice,s=n.splice,o;typeof exports!="undefined"?o=exports:o=e.Backbone={},o.VERSION="0.9.10";var u=e._;!u&&typeof require!="undefined"&&(u=require("underscore")),o.$=e.jQuery||e.Zepto||e.ender,o.noConflict=function(){return e.Backbone=t,this},o.emulateHTTP=!1,o.emulateJSON=!1;var a=/\s+/,f=function(e,t,n,r){if(!n)return!0;if(typeof n=="object")for(var i in n)e[t].apply(e,[i,n[i]].concat(r));else{if(!a.test(n))return!0;var s=n.split(a);for(var o=0,u=s.length;o<u;o++)e[t].apply(e,[s[o]].concat(r))}},l=function(e,t){var n,r=-1,i=e.length;switch(t.length){case 0:while(++r<i)(n=e[r]).callback.call(n.ctx);return;case 1:while(++r<i)(n=e[r]).callback.call(n.ctx,t[0]);return;case 2:while(++r<i)(n=e[r]).callback.call(n.ctx,t[0],t[1]);return;case 3:while(++r<i)(n=e[r]).callback.call(n.ctx,t[0],t[1],t[2]);return;default:while(++r<i)(n=e[r]).callback.apply(n.ctx,t)}},c=o.Events={on:function(e,t,n){if(!f(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!f(this,"once",e,[t,n])||!t)return this;var r=this,i=u.once(function(){r.off(e,i),t.apply(this,arguments)});return i._callback=t,this.on(e,i,n),this},off:function(e,t,n){var r,i,s,o,a,l,c,h;if(!this._events||!f(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;o=e?[e]:u.keys(this._events);for(a=0,l=o.length;a<l;a++){e=o[a];if(r=this._events[e]){s=[];if(t||n)for(c=0,h=r.length;c<h;c++)i=r[c],(t&&t!==i.callback&&t!==i.callback._callback||n&&n!==i.context)&&s.push(i);this._events[e]=s}}return this},trigger:function(e){if(!this._events)return this;var t=i.call(arguments,1);if(!f(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&l(n,t),r&&l(r,arguments),this},listenTo:function(e,t,n){var r=this._listeners||(this._listeners={}),i=e._listenerId||(e._listenerId=u.uniqueId("l"));return r[i]=e,e.on(t,typeof t=="object"?this:n,this),this},stopListening:function(e,t,n){var r=this._listeners;if(!r)return;if(e)e.off(t,typeof t=="object"?this:n,this),!t&&!n&&delete r[e._listenerId];else{typeof t=="object"&&(n=this);for(var i in r)r[i].off(t,n,this);this._listeners={}}return this}};c.bind=c.on,c.unbind=c.off,u.extend(o,c);var h=o.Model=function(e,t){var n,r=e||{};this.cid=u.uniqueId("c"),this.attributes={},t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(r=this.parse(r,t)||{});if(n=u.result(this,"defaults"))r=u.defaults({},r,n);this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};u.extend(h.prototype,c,{changed:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return u.clone(this.attributes)},sync:function(){return o.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return u.escape(this.get(e))},has:function(e){return this.get(e)!=null},set:function(e,t,n){var r,i,s,o,a,f,l,c;if(e==null)return this;typeof e=="object"?(i=e,n=t):(i={})[e]=t,n||(n={});if(!this._validate(i,n))return!1;s=n.unset,a=n.silent,o=[],f=this._changing,this._changing=!0,f||(this._previousAttributes=u.clone(this.attributes),this.changed={}),c=this.attributes,l=this._previousAttributes,this.idAttribute in i&&(this.id=i[this.idAttribute]);for(r in i)t=i[r],u.isEqual(c[r],t)||o.push(r),u.isEqual(l[r],t)?delete this.changed[r]:this.changed[r]=t,s?delete c[r]:c[r]=t;if(!a){o.length&&(this._pending=!0);for(var h=0,p=o.length;h<p;h++)this.trigger("change:"+o[h],this,c[o[h]],n)}if(f)return this;if(!a)while(this._pending)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,u.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,u.extend({},e,{unset:!0}))},hasChanged:function(e){return e==null?!u.isEmpty(this.changed):u.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?u.clone(this.changed):!1;var t,n=!1,r=this._changing?this._previousAttributes:this.attributes;for(var i in e){if(u.isEqual(r[i],t=e[i]))continue;(n||(n={}))[i]=t}return n},previous:function(e){return e==null||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return u.clone(this._previousAttributes)},fetch:function(e){e=e?u.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=e.success;return e.success=function(e,n,r){if(!e.set(e.parse(n,r),r))return!1;t&&t(e,n,r)},this.sync("read",this,e)},save:function(e,t,n){var r,i,s,o,a=this.attributes;return e==null||typeof e=="object"?(r=e,n=t):(r={})[e]=t,r&&(!n||!n.wait)&&!this.set(r,n)?!1:(n=u.extend({validate:!0},n),this._validate(r,n)?(r&&n.wait&&(this.attributes=u.extend({},a,r)),n.parse===void 0&&(n.parse=!0),i=n.success,n.success=function(e,t,n){e.attributes=a;var s=e.parse(t,n);n.wait&&(s=u.extend(r||{},s));if(u.isObject(s)&&!e.set(s,n))return!1;i&&i(e,t,n)},s=this.isNew()?"create":n.patch?"patch":"update",s==="patch"&&(n.attrs=r),o=this.sync(s,this,n),r&&n.wait&&(this.attributes=a),o):!1)},destroy:function(e){e=e?u.clone(e):{};var t=this,n=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};e.success=function(e,t,i){(i.wait||e.isNew())&&r(),n&&n(e,t,i)};if(this.isNew())return e.success(this,null,e),!1;var i=this.sync("delete",this,e);return e.wait||r(),i},url:function(){var e=u.result(this,"urlRoot")||u.result(this.collection,"url")||M();return this.isNew()?e:e+(e.charAt(e.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},isValid:function(e){return!this.validate||!this.validate(this.attributes,e)},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=u.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,t||{}),!1):!0}});var p=o.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator!==void 0&&(this.comparator=t.comparator),this.models=[],this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,u.extend({silent:!0},t))};u.extend(p.prototype,c,{model:h,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return o.sync.apply(this,arguments)},add:function(e,t){e=u.isArray(e)?e.slice():[e],t||(t={});var n,i,o,a,f,l,c,h,p,d;c=[],h=t.at,p=this.comparator&&h==null&&t.sort!=0,d=u.isString(this.comparator)?this.comparator:null;for(n=0,i=e.length;n<i;n++){if(!(o=this._prepareModel(a=e[n],t))){this.trigger("invalid",this,a,t);continue}if(f=this.get(o)){t.merge&&(f.set(a===o?o.attributes:a,t),p&&!l&&f.hasChanged(d)&&(l=!0));continue}c.push(o),o.on("all",this._onModelEvent,this),this._byId[o.cid]=o,o.id!=null&&(this._byId[o.id]=o)}c.length&&(p&&(l=!0),this.length+=c.length,h!=null?s.apply(this.models,[h,0].concat(c)):r.apply(this.models,c)),l&&this.sort({silent:!0});if(t.silent)return this;for(n=0,i=c.length;n<i;n++)(o=c[n]).trigger("add",o,this,t);return l&&this.trigger("sort",this,t),this},remove:function(e,t){e=u.isArray(e)?e.slice():[e],t||(t={});var n,r,i,s;for(n=0,r=e.length;n<r;n++){s=this.get(e[n]);if(!s)continue;delete this._byId[s.id],delete this._byId[s.cid],i=this.indexOf(s),this.models.splice(i,1),this.length--,t.silent||(t.index=i,s.trigger("remove",s,this,t)),this._removeReference(s)}return this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,u.extend({at:this.length},t)),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,u.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){return e==null?void 0:(this._idAttr||(this._idAttr=this.model.prototype.idAttribute),this._byId[e.id||e.cid||e[this._idAttr]||e])},at:function(e){return this.models[e]},where:function(e){return u.isEmpty(e)?[]:this.filter(function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),u.isString(this.comparator)||this.comparator.length===1?this.models=this.sortBy(this.comparator,this):this.models.sort(u.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return u.invoke(this.models,"get",e)},update:function(e,t){t=u.extend({add:!0,merge:!0,remove:!0},t),t.parse&&(e=this.parse(e,t));var n,r,i,s,o=[],a=[],f={};u.isArray(e)||(e=e?[e]:[]);if(t.add&&!t.remove)return this.add(e,t);for(r=0,i=e.length;r<i;r++)n=e[r],s=this.get(n),t.remove&&s&&(f[s.cid]=!0),(t.add&&!s||t.merge&&s)&&o.push(n);if(t.remove)for(r=0,i=this.models.length;r<i;r++)n=this.models[r],f[n.cid]||a.push(n);return a.length&&this.remove(a,t),o.length&&this.add(o,t),this},reset:function(e,t){t||(t={}),t.parse&&(e=this.parse(e,t));for(var n=0,r=this.models.length;n<r;n++)this._removeReference(this.models[n]);return t.previousModels=this.models.slice(),this._reset(),e&&this.add(e,u.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},fetch:function(e){e=e?u.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=e.success;return e.success=function(e,n,r){var i=r.update?"update":"reset";e[i](n,r),t&&t(e,n,r)},this.sync("read",this,e)},create:function(e,t){t=t?u.clone(t):{};if(!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,r=t.success;return t.success=function(e,t,i){i.wait&&n.add(e,i),r&&r(e,t,i)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models.length=0,this._byId={}},_prepareModel:function(e,t){if(e instanceof h)return e.collection||(e.collection=this),e;t||(t={}),t.collection=this;var n=new this.model(e,t);return n._validate(e,t)?n:!1},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e==="add"||e==="remove")&&n!==this)return;e==="destroy"&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],t.id!=null&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments)},sortedIndex:function(e,t,n){t||(t=this.comparator);var r=u.isFunction(t)?t:function(e){return e.get(t)};return u.sortedIndex(this.models,e,r,n)}});var d=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];u.each(d,function(e){p.prototype[e]=function(){var t=i.call(arguments);return t.unshift(this.models),u[e].apply(u,t)}});var v=["groupBy","countBy","sortBy"];u.each(v,function(e){p.prototype[e]=function(t,n){var r=u.isFunction(t)?t:function(e){return e.get(t)};return u[e](this.models,r,n)}});var m=o.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},g=/\((.*?)\)/g,y=/(\(\?)?:\w+/g,b=/\*\w+/g,w=/[\-{}\[\]+?.,\\\^$|#\s]/g;u.extend(m.prototype,c,{initialize:function(){},route:function(e,t,n){return u.isRegExp(e)||(e=this._routeToRegExp(e)),n||(n=this[t]),o.history.route(e,u.bind(function(r){var i=this._extractParameters(e,r);n&&n.apply(this,i),this.trigger.apply(this,["route:"+t].concat(i)),this.trigger("route",t,i),o.history.trigger("route",this,t,i)},this)),this},navigate:function(e,t){return o.history.navigate(e,t),this},_bindRoutes:function(){if(!this.routes)return;var e,t=u.keys(this.routes);while((e=t.pop())!=null)this.route(e,this.routes[e])},_routeToRegExp:function(e){return e=e.replace(w,"\\$&").replace(g,"(?:$1)?").replace(y,function(e,t){return t?e:"([^/]+)"}).replace(b,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});var E=o.History=function(){this.handlers=[],u.bindAll(this,"checkUrl"),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},S=/^[#\/]|\s+$/g,x=/^\/+|\/+$/g,T=/msie [\w.]+/,N=/\/$/;E.started=!1,u.extend(E.prototype,c,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(e==null)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(N,"");e.indexOf(n)||(e=e.substr(n.length))}else e=this.getHash();return e.replace(S,"")},start:function(e){if(E.started)throw new Error("Backbone.history has already been started");E.started=!0,this.options=u.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var t=this.getFragment(),n=document.documentMode,r=T.exec(navigator.userAgent.toLowerCase())&&(!n||n<=7);this.root=("/"+this.root+"/").replace(x,"/"),r&&this._wantsHashChange&&(this.iframe=o.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?o.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?o.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var i=this.location,s=i.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!s)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&s&&i.hash&&(this.fragment=this.getHash().replace(S,""),this.history.replaceState({},document.title,this.root+this.fragment+i.search));if(!this.options.silent)return this.loadUrl()},stop:function(){o.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),E.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe)));if(t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(e){var t=this.fragment=this.getFragment(e),n=u.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0});return n},navigate:function(e,t){if(!E.started)return!1;if(!t||t===!0)t={trigger:t};e=this.getFragment(e||"");if(this.fragment===e)return;this.fragment=e;var n=this.root+e;if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}t.trigger&&this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),o.history=new E;var C=o.View=function(e){this.cid=u.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},k=/^(\S+)\s*(.*)$/,L=["model","collection","el","id","attributes","className","tagName","events"];u.extend(C.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof o.$?e:o.$(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=u.result(this,"events")))return;this.undelegateEvents();for(var t in e){var n=e[t];u.isFunction(n)||(n=this[e[t]]);if(!n)throw new Error('Method "'+e[t]+'" does not exist');var r=t.match(k),i=r[1],s=r[2];n=u.bind(n,this),i+=".delegateEvents"+this.cid,s===""?this.$el.on(i,n):this.$el.on(i,s,n)}},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=u.extend({},u.result(this,"options"),e)),u.extend(this,u.pick(e,L)),this.options=e},_ensureElement:function(){if(!this.el){var e=u.extend({},u.result(this,"attributes"));this.id&&(e.id=u.result(this,"id")),this.className&&(e["class"]=u.result(this,"className"));var t=o.$("<"+u.result(this,"tagName")+">").attr(e);this.setElement(t,!1)}else this.setElement(u.result(this,"el"),!1)}});var A={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};o.sync=function(e,t,n){var r=A[e];u.defaults(n||(n={}),{emulateHTTP:o.emulateHTTP,emulateJSON:o.emulateJSON});var i={type:r,dataType:"json"};n.url||(i.url=u.result(t,"url")||M()),n.data==null&&t&&(e==="create"||e==="update"||e==="patch")&&(i.contentType="application/json",i.data=JSON.stringify(n.attrs||t.toJSON(n))),n.emulateJSON&&(i.contentType="application/x-www-form-urlencoded",i.data=i.data?{model:i.data}:{});if(n.emulateHTTP&&(r==="PUT"||r==="DELETE"||r==="PATCH")){i.type="POST",n.emulateJSON&&(i.data._method=r);var s=n.beforeSend;n.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",r);if(s)return s.apply(this,arguments)}}i.type!=="GET"&&!n.emulateJSON&&(i.processData=!1);var a=n.success;n.success=function(e){a&&a(t,e,n),t.trigger("sync",t,e,n)};var f=n.error;n.error=function(e){f&&f(t,e,n),t.trigger("error",t,e,n)};var l=n.xhr=o.ajax(u.extend(i,n));return t.trigger("request",t,l,n),l},o.ajax=function(){return o.$.ajax.apply(o.$,arguments)};var O=function(e,t){var n=this,r;e&&u.has(e,"constructor")?r=e.constructor:r=function(){return n.apply(this,arguments)},u.extend(r,n,t);var i=function(){this.constructor=r};return i.prototype=n.prototype,r.prototype=new i,e&&u.extend(r.prototype,e),r.__super__=n.prototype,r};h.extend=p.extend=m.extend=C.extend=E.extend=O;var M=function(){throw new Error('A "url" property or function must be specified')}}.call(this),!function(e){"use strict";e(function(){e.support.transition=function(){var e=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in t)if(e.style[n]!==undefined)return t[n]}();return e&&{end:e}}()})}(window.jQuery),!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function s(){i.trigger("closed").remove()}var n=e(this),r=n.attr("data-target"),i;r||(r=n.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),i=e(r),t&&t.preventDefault(),i.length||(i=n.hasClass("alert")?n:n.parent()),i.trigger(t=e.Event("close"));if(t.isDefaultPrevented())return;i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,s):s()};var r=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("alert");i||r.data("alert",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";e+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[e]||this.options[e]),setTimeout(function(){e=="loadingText"?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("button"),s=typeof n=="object"&&n;i||r.data("button",i=new t(this,s)),n=="toggle"?i.toggle():n&&i.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=n,this.options.pause=="hover"&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},to:function(t){var n=this.$element.find(".item.active"),r=n.parent().children(),i=r.index(n),s=this;if(t>r.length-1||t<0)return;return this.sliding?this.$element.one("slid",function(){s.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",e(r[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(t,n){var r=this.$element.find(".item.active"),i=n||r[t](),s=this.interval,o=t=="next"?"left":"right",u=t=="next"?"first":"last",a=this,f;this.sliding=!0,s&&this.pause(),i=i.length?i:this.$element.find(".item")[u](),f=e.Event("slide",{relatedTarget:i[0]});if(i.hasClass("active"))return;if(e.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(f);if(f.isDefaultPrevented())return;i.addClass(t),i[0].offsetWidth,r.addClass(o),i.addClass(o),this.$element.one(e.support.transition.end,function(){i.removeClass([t,o].join(" ")).addClass("active"),r.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger("slid")},0)})}else{this.$element.trigger(f);if(f.isDefaultPrevented())return;r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var r=e(this),i=r.data("carousel"),s=e.extend({},e.fn.carousel.defaults,typeof n=="object"&&n),o=typeof n=="string"?n:s.slide;i||r.data("carousel",i=new t(this,s)),typeof n=="number"?i.to(n):o?i[o]():s.interval&&i.cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.carousel.data-api","[data-slide]",function(t){var n=e(this),r,i=e(n.attr("data-target")||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")),s=e.extend({},i.data(),n.data());i.carousel(s),t.preventDefault()})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,r,i;if(this.transitioning)return;t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),r=this.$parent&&this.$parent.find("> .accordion-group > .in");if(r&&r.length){i=r.data("collapse");if(i&&i.transitioning)return;r.collapse("hide"),i||r.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])},hide:function(){var t;if(this.transitioning)return;t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0)},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[e!==null?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,r){var i=this,s=function(){n.type=="show"&&i.reset(),i.transitioning=0,i.$element.trigger(r)};this.$element.trigger(n);if(n.isDefaultPrevented())return;this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,s):s()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var r=e(this),i=r.data("collapse"),s=typeof n=="object"&&n;i||r.data("collapse",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n=e(this),r,i=n.attr("data-target")||t.preventDefault()||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),s=e(i).data("collapse")?"toggle":n.data();n[e(i).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(i).collapse(s)})}(window.jQuery),!function(e){"use strict";function r(){e(t).each(function(){i(e(this)).removeClass("open")})}function i(t){var n=t.attr("data-target"),r;return n||(n=t.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")),r=e(n),r.length||(r=t.parent()),r}var t="[data-toggle=dropdown]",n=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};n.prototype={constructor:n,toggle:function(t){var n=e(this),s,o;if(n.is(".disabled, :disabled"))return;return s=i(n),o=s.hasClass("open"),r(),o||s.toggleClass("open"),n.focus(),!1},keydown:function(t){var n,r,s,o,u,a;if(!/(38|40|27)/.test(t.keyCode))return;n=e(this),t.preventDefault(),t.stopPropagation();if(n.is(".disabled, :disabled"))return;o=i(n),u=o.hasClass("open");if(!u||u&&t.keyCode==27)return n.click();r=e("[role=menu] li:not(.divider):visible a",o);if(!r.length)return;a=r.index(r.filter(":focus")),t.keyCode==38&&a>0&&a--,t.keyCode==40&&a<r.length-1&&a++,~a||(a=0),r.eq(a).focus()}};var s=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var r=e(this),i=r.data("dropdown");i||r.data("dropdown",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.dropdown.Constructor=n,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.dropdown.data-api touchstart.dropdown.data-api",r).on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("touchstart.dropdown.data-api",".dropdown-menu",function(e){e.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",t,n.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",t+", [role=menu]",n.prototype.keydown)}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n);if(this.isShown||n.isDefaultPrevented())return;this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")})},hide:function(t){t&&t.preventDefault();var n=this;t=e.Event("hide"),this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]!==e.target&&!t.$element.has(e.target).length&&t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){t.which==27&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(e){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(document.body),this.$backdrop.click(this.options.backdrop=="static"?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(this.removeBackdrop,this)):this.removeBackdrop()):t&&t()}};var n=e.fn.modal;e.fn.modal=function(n){return this.each(function(){var r=e(this),i=r.data("modal"),s=e.extend({},e.fn.modal.defaults,r.data(),typeof n=="object"&&n);i||r.data("modal",i=new t(this,s)),typeof n=="string"?i[n]():s.show&&i.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());t.preventDefault(),i.modal(s).one("hide",function(){n.focus()})})}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,s;this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.enabled=!0,this.options.trigger=="click"?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):this.options.trigger!="manual"&&(i=this.options.trigger=="hover"?"mouseenter":"focus",s=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.leave,this))),this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,t,this.$element.data()),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);if(!n.options.delay||!n.options.delay.show)return n.show();clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){n.hoverState=="in"&&n.show()},n.options.delay.show)},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},show:function(){var e,t,n,r,i,s,o;if(this.hasContent()&&this.enabled){e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),s=typeof this.options.placement=="function"?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,t=/in/.test(s),e.detach().css({top:0,left:0,display:"block"}).insertAfter(this.$element),n=this.getPosition(t),r=e[0].offsetWidth,i=e[0].offsetHeight;switch(t?s.split(" ")[1]:s){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":o={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width}}e.offset(o).addClass(s).addClass("in")}},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function r(){var t=setTimeout(function(){n.off(e.support.transition.end).detach()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.detach()})}var t=this,n=this.tip();return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?r():n.detach(),this},fixTitle:function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);n[n.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("tooltip"),s=typeof n=="object"&&n;i||r.data("tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-content")||(typeof n.content=="function"?n.content.call(t[0]):n.content),e},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("popover"),s=typeof n=="object"&&n;i||r.data("popover",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"></div></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(window.jQuery),!function(e){"use strict";function t(t,n){var r=e.proxy(this.process,this),i=e(t).is("body")?e(window):e(t),s;this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=i.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(s=e(t).attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t=this,n;this.offsets=e([]),this.targets=e([]),n=this.$body.find(this.selector).map(function(){var n=e(this),r=n.data("target")||n.attr("href"),i=/^#\w/.test(r)&&e(r);return i&&i.length&&[[i.position().top+t.$scrollElement.scrollTop(),r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},process:function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=t-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget,o;if(e>=n)return s!=(o=i.last()[0])&&this.activate(o);for(o=r.length;o--;)s!=i[o]&&e>=r[o]&&(!r[o+1]||e<=r[o+1])&&this.activate(i[o])},activate:function(t){var n,r;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(r).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),i=r.data("scrollspy"),s=typeof n=="object"&&n;i||r.data("scrollspy",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.attr("data-target"),i,s,o;r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));if(t.parent("li").hasClass("active"))return;i=n.find(".active:last a")[0],o=e.Event("show",{relatedTarget:i}),t.trigger(o);if(o.isDefaultPrevented())return;s=e(r),this.activate(t.parent("li"),n),this.activate(s,s.parent(),function(){t.trigger({type:"shown",relatedTarget:i})})},activate:function(t,n,r){function o(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var i=n.find("> .active"),s=r&&e.support.transition&&i.hasClass("fade");s?i.one(e.support.transition.end,o):o(),i.removeClass("in")}};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var r=e(this),i=r.data("tab");i||r.data("tab",i=new t(this)),typeof n=="string"&&i[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,n?this.process(n):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){var t=[],n=[],r=[],i;while(i=e.shift())i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?n.push(i):r.push(i):t.push(i);return t.concat(n,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,r){return t=e(n.options.item).attr("data-value",r),t.find("a").html(n.highlighter(r)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(t){var n=this.$menu.find(".active").removeClass("active"),r=n.next();r.length||(r=e(this.$menu.find("li")[0])),r.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t=typeof this.$element[e]=="function"),t},move:function(e){if(!this.shown)return;switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){if(this.suppressKeyPressRepeat)return;this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},blur:function(e){var t=this;setTimeout(function(){t.hide()},150)},click:function(e){e.stopPropagation(),e.preventDefault(),this.select()},mouseenter:function(t){this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")}};var n=e.fn.typeahead;e.fn.typeahead=function(n){return this.each(function(){var r=e(this),i=r.data("typeahead"),s=typeof n=="object"&&n;i||r.data("typeahead",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);if(n.data("typeahead"))return;t.preventDefault(),n.typeahead(n.data())})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var t=e(document).height(),n=this.$window.scrollTop(),r=this.$element.offset(),i=this.options.offset,s=i.bottom,o=i.top,u="affix affix-top affix-bottom",a;typeof i!="object"&&(s=o=i),typeof o=="function"&&(o=i.top()),typeof s=="function"&&(s=i.bottom()),a=this.unpin!=null&&n+this.unpin<=r.top?!1:s!=null&&r.top+this.$element.height()>=t-s?"bottom":o!=null&&n<=o?"top":!1;if(this.affixed===a)return;this.affixed=a,this.unpin=a=="bottom"?r.top-n:null,this.$element.removeClass(u).addClass("affix"+(a?"-"+a:""))};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var r=e(this),i=r.data("affix"),s=typeof n=="object"&&n;i||r.data("affix",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery);var transitionEndSupported=!1,transitionEndName=null;(function(){var e=document.createElement("div"),t=function(e){transitionEndName=e.type,transitionEndSupported=!0,this.removeEventListener("webkitTransitionEnd",arguments.callee),this.removeEventListener("transitionend",arguments.callee)};e.setAttribute("style","position:absolute;top:0px;transition:top 1ms ease;-webkit-transition:top 1ms ease;-moz-transition:top 1ms ease"),e.addEventListener("webkitTransitionEnd",t,!1),e.addEventListener("transitionend",t,!1),document.documentElement.appendChild(e),setTimeout(function(){e.style.top="100px",setTimeout(function(){e.parentNode.removeChild(e),e=t=null},100)},0)})(),function(window,undefined){"use strict";var document=window.document,WebSocket=window.MozWebSocket||window.WebSocket||window.WebSocketDraft,BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,Blob=window.Blob,urlObj=window.URL||window.webkitURL,indexedDB=window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB;"webkitIndexedDB"in window&&(window.IDBTransaction=window.webkitIDBTransaction,window.IDBKeyRange=window.webkitIDBKeyRange);var getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||null,hidden,visibilityChange;typeof document.hidden!="undefined"?(hidden="hidden",visibilityChange="visibilitychange"):typeof document.mozHidden!="undefined"?(hidden="mozHidden",visibilityChange="mozvisibilitychange"):typeof document.msHidden!="undefined"?(hidden="msHidden",visibilityChange="msvisibilitychange"):typeof document.webkitHidden!="undefined"&&(hidden="webkitHidden",visibilityChange="webkitvisibilitychange");var noop=function(e){return e},ESC=String.fromCharCode(27),logFatal=noop,logError=noop,logWarning=noop,logInfo=noop,logDebug=noop,deprecated=noop,GateOne=GateOne||function(){};GateOne.__name__="GateOne",GateOne.__version__="1.2",GateOne.__repr__=function(){return"["+this.__name__+" "+this.__version__+"]"},GateOne.toString=function(){return this.__repr__()};var seed1=null,seed2=null;GateOne.Base=GateOne.Base||{},GateOne.loadedModules=[],GateOne.loadedApplications={},GateOne.initializedModules=[],GateOne.Base.module=function(e,t,n,r){var i=e[t]=e[t]||{},s=e.__name__?e.__name__+".":"";i.__name__=s+t,i.__version__=n,i.__parent__=e,i.__repr__=function(){return"["+this.__name__+" "+this.__version__+"]"},i.toString=function(){return this.__repr__()};for(var o=0;r!=null&&o<r.length;o++)if(!(r[o]in e))throw i.__name__+" depends on "+s+r[o]+"!";return GateOne.loadedModules.push(i.__name__),i},GateOne.Base.module(GateOne,"Base","1.2",[]),GateOne.Base.update=function(e,t){if(e===null||e===undefined)e={};for(var n=1;n<arguments.length;n++){var r=arguments[n];if(typeof r!="undefined"&&r!==null)for(var i in r)e[i]=r[i],e[i]&&(e[i].__name__=i,e[i].__parent__=e)}return e},GateOne.Base.module(GateOne,"i18n","1.0"),GateOne.i18n.translations={},GateOne.Base.update(GateOne.i18n,{gettext:function(e){return GateOne.i18n.translations[e]?GateOne.i18n.translations[e][1]:e},registerTranslationAction:function(e){GateOne.i18n.translations=e},setLocale:function(e){GateOne.ws.send(JSON.stringify({"go:set_locale":e}))}});var gettext=GateOne.i18n.gettext;GateOne.location="default",GateOne.prefs={auth:null,embedded:!1,fillContainer:!0,fontSize:"100%",goDiv:"#gateone",keepaliveInterval:15e3,prefix:"go_",showTitle:!0,showToolbar:!0,skipChecks:!1,style:{},theme:"black",pingTimeout:5e3,url:null},GateOne.noSavePrefs={auth:null,embedded:null,fillContainer:null,goDiv:null,prefix:null,showTitle:null,showToolbar:null,skipChecks:null,style:null,pingTimeout:null,url:null},GateOne.Icons={},GateOne.initialized=!1;var go=GateOne.Base.update(GateOne,{workspaces:{count:function(){var e=0;for(var t in GateOne.workspaces)t%1===0&&(e+=1);return e}},ws:null,savePrefsCallbacks:[],restoreDefaults:function(){GateOne.prefs={theme:"black",fontSize:"100%"},GateOne.Events.trigger("go:restore_defaults"),GateOne.Utils.savePrefs(!0)},init:function(e,t){var n=GateOne,r=n.Utils,i=!1,s=[],o=function(e){e=="authenticated"?(logDebug("GateOne.init() calling GateOne.Net.connect()"),n.Net.connect(t)):GateOne.Net.reauthenticate()};for(var u in e)n.prefs[u]=e[u];n.prefs.prefix+=n.location+"_";if(!n.prefs.skipChecks){WebSocket||(logError("Browser failed WebSocket support check."),s.push("Sorry but your web browser does not appear to support WebSockets.  Gate One requires WebSockets in order to (efficiently) communicate with the server."),i=!0);if(Blob)try{var a=new Blob(["test"],{type:"text/xml"})}catch(f){Blob=!1,window.Blob=!1}BlobBuilder||Blob||(logError("Browser failed Blob support check."),s.push("Your browser does not appear to support the HTML5 File API (<a href='https://developer.mozilla.org/en-US/docs/DOM/Blob'>Blob objects</a>, specifically).  Some features related to saving files will not work.")),urlObj||(logError("Browser failed window.URL object support check."),s.push("Your browser does not appear to support the <a href='https://developer.mozilla.org/en-US/docs/DOM/window.URL.createObjectURL'>window.URL</a> object.  Some features related to saving files will not work."));if(s.length){if(i){alert("Sorry but your browser is missing the following capabilities which are required to run Gate One: \n"+s.join("\n")+"\n\nGate One will not be loaded.");return}if(!localStorage[n.prefs.prefix+"disableWarning"]){var l=r.createElement("div",{style:{"text-align":"left","margin-left":"1.5em","margin-right":"1.5em"}}),c=r.createElement("button",{type:"submit",value:"Submit","class":"✈button ✈black"}),h=r.createElement("input",{type:"checkbox",id:"disableWarning",style:{"margin-top":"1em",display:"inline",width:"auto"}}),p=r.createElement("label",{style:{"font-size":"1em","font-weight":"normal",display:"inline",width:"auto"}}),d=r.createElement("ul");s.forEach(function(e){var t=r.createElement("li");t.innerHTML=e,d.appendChild(t)}),p.innerHTML="Don't display this warning again",p.htmlFor=n.prefs.prefix+"disableWarning",l.appendChild(d),l.appendChild(h),l.appendChild(p),h.onclick=function(e){h.checked?localStorage[n.prefs.prefix+"disableWarning"]=!0:delete localStorage[n.prefs.prefix+"disableWarning"]},setTimeout(function(){n.Visual.alert("Warning",l)},2e3)}}}localStorage[n.prefs.prefix+"prefs"]&&r.loadPrefs(),n.prefs.embedded&&(n.prefs.showToolbar=!1,n.prefs.showTitle=!1),n.prefs.url||(n.prefs.url=window.location.href,n.prefs.url.indexOf("?")!=-1&&(n.prefs.url=n.prefs.url.split("?")[0]),n.prefs.url=n.prefs.url.split("#")[0]),r.endsWith("/",n.prefs.url)||(n.prefs.url=n.prefs.url+"/");var v=n.prefs.url+"auth?check=True";n.prefs.auth?(logDebug("Using API authentiation object: "+n.prefs.auth),n.Net.connect(t)):r.xhrGet(v,o),n.node=r.getNode(n.prefs.goDiv),n.node.innerHTML=""},initialize:function(){if(GateOne.initialized){GateOne.Visual.updateDimensions();return}logFatal=GateOne.Logging.logFatal,logError=GateOne.Logging.logError,logWarning=GateOne.Logging.logWarning,logInfo=GateOne.Logging.logInfo,logDebug=GateOne.Logging.logDebug,deprecated=GateOne.Logging.deprecated;var e=GateOne,t=e.Utils,n=e.Events,r=e.prefs.prefix,i=t.getNode(e.prefs.goDiv),s=t.createElement("div",{id:"icon_closepanel","class":"✈panel_close_icon",title:"Close This Panel"}),o=t.createElement("div",{id:"panel_prefs","class":"✈panel ✈prefs_panel"}),u=t.createElement("h2"),a=t.createElement("form",{id:"prefs_form",name:r+"prefs_form"}),f=t.createElement("div",{id:"prefs_list","class":"✈prefs_list"}),l=t.createElement("ul",{id:"prefs_list_ul"}),c=t.createElement("div",{id:"prefs_content","class":"✈prefs_content"}),h=t.createElement("div",{"class":"✈paneltablerow"}),p=t.createElement("div",{"class":"✈paneltablerow"}),d=t.createElement("div",{"class":"✈paneltablerow"}),v=t.createElement("div",{id:"prefs_tablediv1","class":"✈paneltable",style:{display:"table",padding:"0.5em"}}),m=t.createElement("span",{id:"prefs_theme_label","class":"✈paneltablelabel"}),g=t.createElement("select",{id:"prefs_theme",name:r+"prefs_theme",style:{display:"table-cell","float":"right"}}),y=t.createElement("span",{id:"prefs_fontsize_label","class":"✈paneltablelabel"}),b=t.createElement("input",{id:"prefs_fontsize",name:r+"prefs_fontsize",size:5,style:{display:"table-cell","text-align":"right","float":"right"}}),w=t.createElement("span",{id:"prefs_disabletrans_label","class":"✈paneltablelabel"}),E=t.createElement("input",{id:"prefs_disabletrans",name:r+"prefs_disabletrans",value:"disabletrans",type:"checkbox",style:{display:"table-cell","text-align":"right","float":"right"}}),S=t.createElement("button",{id:"prefs_save",type:"submit",value:"Save","class":"✈button ✈black ✈save_button"}),x=t.createElement("div",{id:"noticecontainer","class":"✈noticecontainer"}),T=t.createElement("div",{id:"toolbar","class":"✈toolbar_container"}),N=t.createElement("div",{id:"icon_prefs","class":"✈toolbar",title:gettext("Preferences")}),C=t.getNodes(".✈panel"),k=t.createElement("div",{id:"sideinfo","class":"✈sideinfo"}),L=function(t){t.id==r+"panel_prefs"&&e.ws.send(JSON.stringify({"go:enumerate_themes":null}))};t.hideElement(o),e.Visual.applyTransform(o,"scale(0)"),N.innerHTML=e.Icons.prefs,u.innerHTML=gettext("Preferences"),s.innerHTML=e.Icons.panelclose,s.onclick=function(t){e.Visual.togglePanel("#"+r+"panel_prefs")},o.appendChild(u),o.appendChild(s),m.innerHTML=gettext("<b>Theme:</b> "),y.innerHTML=gettext("<b>Font Size:</b> "),w.innerHTML=gettext("<b>Disable Workspace Slide Effect:</b> "),b.value=e.prefs.fontSize,E.checked=e.prefs.disableTransitions,h.appendChild(m),h.appendChild(g),p.appendChild(y),p.appendChild(b),d.appendChild(w),d.appendChild(E),v.appendChild(h),v.appendChild(p),v.appendChild(d),f.appendChild(l),a.appendChild(f),a.appendChild(c),S.innerHTML="Save",a.appendChild(S),o.appendChild(a),i.appendChild(o),e.User.preference("Gate One",v),a.onsubmit=function(s){s.preventDefault();var o=t.getNode("#"+r+"prefs_theme").value,u=t.getNode("#"+r+"prefs_fontsize").value,a=t.getNode("#"+r+"prefs_disabletrans").checked;o!=e.prefs.theme&&(t.loadTheme(o),e.prefs.theme=o);if(u){var f=null,l=null;e.prefs.fontSize=u,i.style.fontSize=u,u.indexOf("%")!=-1?f=parseFloat(u.substring(0,u.length-1))/100:u.indexOf("em")!=-1&&(f=parseFloat(u.substring(0,u.length-2))),f&&(l=(100*f-100)/2,e.Visual.applyTransform(T,"translateY("+l+"%) scale("+f+")"))}if(a){var c=t.createElement("style",{id:"disable_transitions"});c.innerHTML=".✈workspace {-webkit-transition: none; -moz-transition: none; -ms-transition: none; -o-transition: none; transition: none;}",t.getNode(i).appendChild(c),e.prefs.disableTransitions=!0}else{var h=t.getNode("#"+r+"disable_transitions");h&&t.removeElement(h),e.prefs.disableTransitions=!1}n.trigger("go:save_prefs"),e.savePrefsCallbacks.length&&e.savePrefsCallbacks.forEach(function(e){e()}),t.savePrefs()},e.Visual.applyStyle(i,e.prefs.style),e.prefs.fillContainer&&(e.Visual.applyStyle(i,{width:"auto",height:"auto"}),e.Visual.applyStyle(i,{position:"absolute",top:0,bottom:0,left:0,right:0}));if(e.prefs.fontSize){var A=null,O=null;i.style.fontSize=e.prefs.fontSize,e.prefs.fontSize.indexOf("%")!=-1?A=parseFloat(e.prefs.fontSize.substring(0,e.prefs.fontSize.length-1))/100:e.prefs.fontSize.indexOf("em")!=-1&&(A=parseFloat(e.prefs.fontSize.substring(0,e.prefs.fontSize.length-2))),A&&(O=(100*A-100)/2,e.Visual.applyTransform(T,"translateY("+O+"%) scale("+A+")"))}e.prefs.showToolbar||(T.style.display="none"),T.appendChild(N),i.appendChild(T);var M=function(){e.Visual.togglePanel("#"+r+"panel_prefs")};N.onclick=M,document.body.appendChild(x),e.prefs.showTitle||(k.style.display="none"),i.appendChild(k),i.tabIndex=1;if(!e.prefs.embedded){var _=t.getNode("#"+r+"gridwrapper");if(!_){_=e.Visual.createGrid("gridwrapper"),i.appendChild(_);var D=window.getComputedStyle(i,null),P=0,H=D["padding-right"]||D.paddingRight;H&&(P=parseInt(H.split("px")[0]));var B=(e.Visual.goDimensions.w+P)*2;_.style.width=B+"px"}}e.Events.on("go:panel_toggle:in",L),e.Visual.updateDimensions(),t.runPostInit(),e.Visual.togglePanel(),document.addEventListener(visibilityChange,e.Input.handleVisibility,!1),e.initialized=!0,e.Events.trigger("go:initialized"),setTimeout(function(){t.hideElements(".✈panel")},500)}});localStorage[GateOne.prefs.prefix+GateOne.location+"_selectedWorkspace"]||(localStorage[GateOne.prefs.prefix+GateOne.location+"_selectedWorkspace"]=1),GateOne.Base.module(GateOne,"Utils","1.2",["Base"]),GateOne.Utils.benchmark=null,GateOne.Utils.benchmarkCount=0,GateOne.Utils.benchmarkTotal=0,GateOne.Utils.benchmarkAvg=0,GateOne.Utils.failedRequirementsCounter={},GateOne.Base.update(GateOne.Utils,{init:function(){go.Net.addAction("go:save_file",go.Utils.saveAsAction),go.Net.addAction("go:load_style",go.Utils.loadStyleAction),go.Net.addAction("go:load_js",go.Utils.loadJSAction),go.Net.addAction("go:themes_list",go.Utils.enumerateThemes)},startBenchmark:function(){GateOne.Utils.benchmark=(new Date).getTime()},stopBenchmark:function(e){var t=GateOne.Utils,n=new Date,r=n.getTime()-t.benchmark;if(!t.benchmark){logInfo(e+": Nothing to report: startBenchmark() has yet to be run.");return}t.benchmarkCount+=1,t.benchmarkTotal+=r,t.benchmarkAvg=Math.round(t.benchmarkTotal/t.benchmarkCount),logInfo(e+": "+r+"ms"+", total: "+t.benchmarkTotal+"ms, Average: "+t.benchmarkAvg)},getNode:function(e){var t=GateOne.Utils;if(typeof e=="string"){var n=document.querySelector(e);return n}return e},getNodes:function(e){return typeof e=="string"?document.querySelectorAll(e):e},partial:function(e){var t=Array.prototype.slice.call(arguments);return t.shift(),function(){var n=Array.prototype.slice.call(arguments);return t=t.concat(n),e.apply(window,t)}},items:function(e){var t=[],n;for(var r in e){var i;try{i=e[r]}catch(n){continue}t.push([r,i])}return t},itemgetter:function(e){return function(t){return t[e]}},hasElementClass:function(e,t){var n=GateOne.Utils.getNode(e);if(n==null)return!1;var r=n.className;typeof r!="string"&&typeof n.getAttribute=="function"&&(r=n.getAttribute("class"));if(typeof r!="string")return!1;var i=r.split(" ");for(var s=1;s<arguments.length;s++){var o=!1;for(var u=0;u<i.length;u++)if(i[u]==arguments[s]){o=!0;break}if(!o)return!1}return!0},startsWith:function(e,t){return t!=null&&e!=null&&t.indexOf(e)==0},endsWith:function(e,t){return t!=null&&e!=null&&t.lastIndexOf(e)==Math.max(t.length-e.length,0)},isArray:function(e){return e.constructor==Array},isNodeList:function(e){return e instanceof NodeList},isHTMLCollection:function(e){return e instanceof HTMLCollection},isElement:function(e){return e instanceof HTMLElement},renames:{checked:"defaultChecked",usemap:"useMap","for":"htmlFor",readonly:"readOnly",colspan:"colSpan",rowspan:"rowSpan",bgcolor:"bgColor",cellspacing:"cellSpacing",cellpadding:"cellPadding"},removeElement:function(e){var t=GateOne.Utils.getNode(e);t.parentNode&&t.parentNode.removeChild(t)},createElement:function(e,t,n){var r=go.Utils,i=document.createElement(e);for(var s in t){var o=t[s];if(s=="style")for(var u in o)i.style[u]=o[u];else s=="id"?(n||r.startsWith(go.prefs.prefix,o)||(o=go.prefs.prefix+o),i.setAttribute(s,o)):r.renames[s]?i.setAttribute(r.renames[s]=o):i.setAttribute(s,o)}return i},showElement:function(e){var t=GateOne.Utils,n=t.getNode(e);n.style.display="block",n.className=n.className.replace(/(?:^|\s)✈go_none(?!\S)/,"")},hideElement:function(e){var t=GateOne.Utils,n=t.getNode(e);n.style.display="none",n.className.indexOf("✈go_none")==-1&&(n.className+=" ✈go_none")},showElements:function(e){var t=GateOne.Utils,e=t.toArray(t.getNodes(e));e.forEach(function(e){var n=t.getNode(e);n.style.display="",n.className=n.className.replace(/(?:^|\s)✈go_none(?!\S)/,"")})},hideElements:function(e){var t=GateOne.Utils,e=t.toArray(t.getNodes(e));e.forEach(function(e){var n=t.getNode(e);n.style.display="none",n.className.indexOf("✈go_none")==-1&&(n.className+=" ✈go_none")})},getOffset:function(e){var t=GateOne.Utils.getNode(e),n=0,r=0;while(t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop))n+=t.offsetLeft-t.scrollLeft,r+=t.offsetTop-t.scrollTop,t=t.offsetParent;return{top:r,left:n}},noop:function(e){return e},toArray:function(e){var t=[];for(var n=e.length>>>0;n--;)t[n]=e[n];return t},scrollLines:function(e,t){logDebug("scrollLines("+e+", "+t+")");var n=GateOne.Utils.getNode(e),r=GateOne.Utils.getEmDimensions(e);n.scrollTop=n.scrollTop+r.h*t},scrollToBottom:function(e){var t=GateOne.Utils.getNode(e);try{t&&t.scrollTop!=t.scrollHeight&&(t.scrollTop=t.scrollHeight)}catch(n){}finally{t=null}},replaceURLWithHTMLLinks:function(e){var t=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig;return e.replace(t,"<a href='$1'>$1</a>")},isEven:function(e){return e%2==0?!0:!1},isDescendant:function(e,t){var n=t.parentNode;while(n!=null){if(n==e)return!0;n=n.parentNode}return!1},getSelText:function(){var e="";if(window.getSelection)e=window.getSelection();else if(document.getSelection)e=document.getSelection();else{if(!document.selection)return;e=document.selection.createRange().text}return e.toString()},prevEmDimensions:{w:7,h:13},getEmDimensions:function(e,t){var n=GateOne.Utils,r=n.getNode(e),i=r.parentNode,r=r.cloneNode(!1),s=document.createElement("pre"),o="",u=[],a=0;if(!r.style)return n.prevEmDimensions;try{r.id="sizingNode",t?(t=n.getNode(t),t.appendChild(r)):document.body.appendChild(r),n.isVisible(r)||(r.style.display="",r.style.opacity=1),r.className="✈terminal";for(var f=0;f<=63;f++)o+="█";for(var f=0;f<=63;f++)u.push(o);s.innerHTML=u.join("\n"),r.style.position="fixed",r.style.top=0,r.style.left=0,r.style.bottom="auto",r.style.right="auto",r.style.width="auto",r.style.height="auto",s.style.position="absolute",s.style.top=0,s.style.left=0,s.style.bottom="auto",s.style.right="auto",s.style.width="auto",s.style.height="auto",s.style["white-space"]="pre",r.appendChild(s);var l=s.getClientRects()[0].height,c=s.getClientRects()[0].width;l=parseInt(l)/64,c=parseInt(c)/64,r.removeChild(s),t?t.removeChild(r):document.body.removeChild(r),n.prevEmDimensions={w:c,h:l}}catch(h){logDebug("Error getting em dimensions (probably just a hidden terminal): "+h),t?t.removeChild(r):document.body.removeChild(r)}return n.prevEmDimensions},getRowsAndColumns:function(e){var t=go.Utils,n=t.getNode(e),r={h:n.clientHeight,w:n.clientWidth},i=t.getEmDimensions(e,go.node);t.isVisible(n)||(n=n.cloneNode(!1),n.style.display="",n.style.opacity=1,go.node.appendChild(n,!0),r={h:n.clientHeight,w:n.clientWidth},i=t.getEmDimensions(e,go.node),go.node.removeChild(n));if(!i)return;var s=r.h/i.h,o=r.w/i.w,u={rows:s,cols:o};return u},setActiveStyleSheet:function(e){var t,n,r;for(var t=0;n=document.getElementsByTagName("link")[t];t++)n.getAttribute("rel").indexOf("style")!=-1&&n.getAttribute("title")&&(n.disabled=!0,n.getAttribute("title")==e&&(n.disabled=!1))},runPostInit:function(){logDebug("Running runPostInit()"),go.loadedModules.forEach(function(module){var moduleObj=eval(module);go.initializedModules.indexOf(moduleObj.__name__)==-1&&(logDebug("Running: "+moduleObj.__name__+".init()"),typeof moduleObj.init=="function"&&moduleObj.init(),moduleObj.__appinfo__&&(go.loadedApplications[moduleObj.__appinfo__.name]=moduleObj),go.initializedModules.push(moduleObj.__name__))}),go.loadedModules.forEach(function(module){var moduleObj=eval(module);go.initializedModules.indexOf(moduleObj.__name__)==-1&&(logDebug("Running: "+moduleObj.__name__+".postInit()"),typeof moduleObj.postInit=="function"&&moduleObj.postInit())})},loadJSAction:function(e,t){logDebug("loadJSAction()");var n=GateOne,r=n.Utils,i=n.prefs.prefix,s=!1,o,u;if(e["result"]=="Success"){e.requires&&e.requires.forEach(function(e){n.Storage.loadedFiles[e]||(s=!0)});if(s){setTimeout(function(){if(r.failedRequirementsCounter[e.filename]>=20){logError("Failed to load "+e.filename+".  Took too long waiting for "+e.requires);return}r.loadJSAction(e,t),r.failedRequirementsCounter[e.filename]+=1},100);return}logDebug("Dependency loaded!");if(e.element_id)o=r.getNode("#"+i+e.element_id),u=r.createElement("script",{id:e.element_id});else{var a=e.filename.replace(/\./g,"_");o=r.getNode("#"+i+a),u=r.createElement("script",{id:a})}u.innerHTML=e.data,o?o.innerHTML=e.data:n.node.appendChild(u),delete e.result,t===undefined&&e["cache"]!=0?n.Storage.cacheJS(e,"js"):e["cache"]==0&&n.Storage.uncacheJS(e,"js"),n.Storage.loadedFiles[e.filename]=!0,r.postInitDebounce&&(clearTimeout(r.postInitDebounce),r.postInitDebounce=null),e.requires||(logDebug("Loading "+e.filename+" immediately because it has no dependencies."),r.runPostInit()),r.postInitDebounce=setTimeout(function(){r.runPostInit(),n.Events.trigger("go:js_loaded")},500)}},loadStyleAction:function(e,t){logDebug("loadStyleAction()");var n=go.Utils,r=go.prefs.prefix,i=function(e){go.Utils.loadStyleTimer&&(clearTimeout(go.Utils.loadStyleTimer),go.Utils.loadStyleTimer=null),go.Visual.updateDimensions(),go.node.removeEventListener(transitionEndName,i,!1)};if(e["result"]=="Success"&&e.css&&e.data.length){var s,o,u=n.getNode("#"+r+"theme"),a=e.media||"screen";e.element_id?(o=n.getNode("#"+r+e.element_id),s=n.createElement("style",{id:e.element_id,rel:"stylesheet",type:"text/css",media:a})):(o=n.getNode("#"+r+e.filename+"_css"),s=n.createElement("style",{id:e.filename+"_css",rel:"stylesheet",type:"text/css",media:a})),s.textContent=e.data,o?o.textContent=e.data:n.getNode("head").insertBefore(s,u)}delete e.result,t===undefined&&e["cache"]!=0?go.Storage.cacheStyle(e,e.kind):e["cache"]==0&&go.Storage.uncacheStyle(e,e.kind),go.Storage.loadedFiles[e.filename]=!0,go.node.addEventListener(transitionEndName,i,!1),go.Utils.loadStyleTimer=setTimeout(function(){i()},1500)},loadCSS:function(e,t){t||(t="css_file");var n=go.Utils,r=go.prefs.prefix,i=go.prefs.url,s=go.prefs.goDiv.split("#")[1],o=n.createElement("link",{id:r+t,type:"text/css",rel:"stylesheet",href:e,media:"screen"}),u=n.createElement("style",{id:r+t}),a=n.getNode("#"+r+t);a&&n.removeElement(a);var f=n.getNode("#"+r+"go_css_theme");f?n.getNode("head").insertBefore(o,f):n.getNode("head").appendChild(o)},loadTheme:function(e){var t=go.Utils,n=go.prefs.goDiv.split("#")[1];go.ws.send(JSON.stringify({"go:get_theme":{go_url:go.prefs.url,container:n,prefix:go.prefs.prefix,theme:e}}))},loadPluginCSS:function(){var e=go.Utils,t=go.prefs.goDiv.split("#")[1];go.ws.send(JSON.stringify({"go:get_style":{go_url:go.prefs.url,container:t,prefix:go.prefs.prefix,plugins:!0}}))},loadScriptError:function(e,t,n){var r=go.Utils,i=go.prefs.url+"static/accept_certificate.html",s=function(){r.acceptWindow=window.open(i,"accept"),r.windowChecker=setInterval(function(){r.acceptWindow.closed&&(r.removeElement(e),r.loadScript(t,n),clearInterval(r.windowChecker))},100)};GateOne.Visual.alert("JavaScript Load Error","This can happen if you haven't accepted Gate One's SSL certificate yet.  Click OK to open a new tab/window where you can accept the Gate One server's SSL certificate.  If the page doesn't load it means the Gate One server is currently unavailable.",s)},loadScript:function(e,t){var n=GateOne.Utils,r=this,i=document.createElement("script");i.type="text/javascript",i.src=e,t&&(i.onload=function(){t()}),document.body.appendChild(i),setTimeout(function(){n.loadScriptError(i,e,t)},5e3)},enumerateThemes:function(e){var t=go.Utils,n=go.prefs.prefix,r=e.themes,i=t.getNode("#"+n+"prefs_theme");i.options.length=0;for(var s in r)i.add(new Option(r[s],r[s]),null),go.prefs.theme==r[s]&&(i.selectedIndex=s)},savePrefs:function(e){var t=GateOne.prefs,n={};for(var r in t)r in GateOne.noSavePrefs||(n[r]=t[r]);localStorage[t.prefix+"prefs"]=JSON.stringify(n),e||GateOne.Visual.displayMessage("Preferences have been saved.")},loadPrefs:function(){if(localStorage[GateOne.prefs.prefix+"prefs"]){var e=JSON.parse(localStorage[GateOne.prefs.prefix+"prefs"]);for(var t in e)e[t]!=null&&(GateOne.prefs[t]=e[t])}},xhrGet:function(e,t){var n=new XMLHttpRequest;n.open("GET",e),n.onreadystatechange=function(){n.readyState==4&&t(n.responseText)},n.send(null)},getCookie:function(e){var t,n,r,i=document.cookie.split(";");for(t=0;t<i.length;t++){n=i[t].substr(0,i[t].indexOf("=")),r=i[t].substr(i[t].indexOf("=")+1),n=n.replace(/^\s+|\s+$/g,"");if(n==e)return unescape(r)}},setCookie:function(e,t,n){var r=new Date;r.setDate(r.getDate()+n);var i=escape(t)+(n==null?"":"; expires="+r.toUTCString());document.cookie=e+"="+i},deleteCookie:function(e,t,n){document.cookie=e+"="+(t?";path="+t:"")+(n?";domain="+n:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT"},isPrime:function(e){if(isNaN(e)||!isFinite(e)||e%1||e<2)return!1;var t=Math.sqrt(e);for(var n=2;n<=t;n++)if(e%n==0)return!1;return!0},randomPrime:function(){var e=10;while(!GateOne.Utils.isPrime(e))e=Math.floor(Math.random()*1e9);return e},randomString:function(e,t){var n="";t||(t="1234567890abcdefghijklmnopqrstuvwxyz");for(var r=e;r>0;--r)n+=t[Math.round(Math.random()*(t.length-1))];return n},saveAs:function(e,t){var n=go.Utils,r=document.createEvent("MouseEvents"),i=urlObj.createObjectURL(e),s=n.createElement("a",{href:i,name:t,download:t});r.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null),s.dispatchEvent(r)},saveAsAction:function(e){var t=go.Utils,n=e.result,r=e.data,i=e.filename,s="text/plain";if(n=="Success"){e.mimetype&&(s=e.mimetype);var o=t.createBlob(e.data,s);t.saveAs(o,e.filename)}else go.Visual.displayMessage("An error was encountered trying to save a file..."),go.Visual.displayMessage(e.result)},getToken:function(){var e=(new Date).getTime(),t=Math.round(e/1e4);seed1||(seed1=Math.floor(Math.random()*1e9),seed2=Math.floor(Math.random()*1e9));var n=Crypto.MD5(seed1*seed2*t+"");return n.slice(2,11)},isPageHidden:function(){return document.hidden||document.msHidden||document.webkitHidden||document.mozHidden},createBlob:function(e,t){typeof e=="string"&&(e=[e]),t||(t="text/plain");if(Blob)return new Blob(e,{type:t});var n=new BlobBuilder;return n.push.apply(n,e),n.getBlob(t)},rtrim:function(e){return e.replace(/\s+$/,"")},ltrim:function(e){return e.replace(/^\s+/,"")},stripHTML:function(e){var t=document.createElement("DIV");return t.innerHTML=e,t.textContent||t.innerText},isVisible:function(e){var t=GateOne.Utils.getNode(e),n;return t?t===document?!0:(n=window.getComputedStyle(t,null),n&&n.display=="none"?!1:n&&parseInt(n.opacity)==0?!1:t.parentNode?GateOne.Utils.isVisible(t.parentNode):!0):!1},humanReadableBytes:function(e,t){var n=["","K","M","G","T","P","E","Z","Y"],r=0;e=parseInt(e),t||(t=0);if(e==0)return"n/a";if(e>1024){while(e>=1024)r++,e/=1024;return e.toFixed(t)+n[r]}return e+""},getQueryVariable:function(e,t){var n=window.location.search.substring(1),r;t&&(n=t.split("?").slice(1).join("?")),r=n.split("&");for(var i=0;i<r.length;i++){var s=r[i].split("=");if(decodeURIComponent(s[0])==e)return decodeURIComponent(s[1])}},removeQueryVariable:function(e){var t=window.location.search.substring(1),n=t.split("&"),r={},i="?";for(var s=0;s<n.length;s++){var o=n[s].split("=");decodeURIComponent(o[0])!=e&&(r[o[0]]=o[1])}for(var s in r)i+=s+"="+r[s]+"&";return i=i.substring(0,i.length-1),window.history.replaceState("Replace","Page Title","/"+i),i},last:function(e,t,n){return e==null?void 0:t!=null&&!n?Array.prototype.slice.call(e,Math.max(e.length-t,0)):e.slice(-1)[0]},insertAfter:function(e,t){var t=GateOne.Utils.getNode(t),n=t.parentNode;n.lastchild==t?n.appendChild(e):n.insertBefore(e,t.nextSibling)},debounce:function(e,t,n){var r,i;return function(){var s=this,o=arguments,u=function(){r=null,n||(i=e.apply(s,o))},a=n&&!r;return clearTimeout(r),r=setTimeout(u,t),a&&(i=e.apply(s,o)),i}}}),GateOne.Base.module(GateOne,"Logging","1.1",["Base"]),GateOne.Logging.levels={50:"FATAL",40:"ERROR",30:"WARNING",20:"INFO",10:"DEBUG",FATAL:50,ERROR:40,WARNING:30,INFO:20,DEBUG:10},GateOne.noSavePrefs.logLevel=null,GateOne.Base.update(GateOne.Logging,{init:function(){typeof GateOne.prefs.logLevel=="undefined"&&(GateOne.prefs.logLevel="INFO"),GateOne.Logging.level=GateOne.prefs.logLevel.toUpperCase(),typeof GateOne.Logging.level=="string"&&(GateOne.Logging.level=GateOne.Logging.levels[GateOne.Logging.level.toUpperCase()])},setLevel:function(e){var t=GateOne.Logging,n=null;e===parseInt(e,10)?t.level=e:(n=e.toUpperCase(),e=t.levels[n],t.level=e)},logToConsole:function(e,t){if(typeof window!="undefined"&&window.console&&window.console.log){e=e.replace(/%/g,"％");if(!t){window.console.log(e);return}if(t=="ERROR"||t=="FATAL"){if(typeof window.console.error=="function"){window.console.error(e);return}}else if(t=="WARN"){if(typeof window.console.warn=="function"){window.console.warn(e);return}}else if(t=="DEBUG"){if(typeof window.console.debug=="function"){window.console.debug(e);return}}else if(t=="INFO"&&typeof window.console.info=="function"){window.console.info(e);return}window.console.warn(e)}else typeof opera!="undefined"&&opera.postError?opera.postError(e):typeof Debug!="undefined"&&Debug.writeln?Debug.writeln(e):typeof debug!="undefined"&&debug.trace&&debug.trace(e)},log:function(e,t,n){var r=GateOne.Logging,i=new Date,s="",o=null;typeof t=="undefined"&&(t=r.level),t===parseInt(t,10)?r.levels[t]?o=r.levels[t]:o="lvl:"+t:typeof t=="string"&&(o=t,r.levels[o]?t=r.levels[o]:t=r.level),t==null?s=r.dateFormatter(i)+" "+e:t>=r.level&&(s=r.dateFormatter(i)+" "+o+" "+e);if(s)if(!n)for(var u in r.destinations)r.destinations[u](s,o);else n(s,o)},logFatal:function(e){GateOne.Logging.log(e,"FATAL")},logError:function(e){GateOne.Logging.log(e,"ERROR")},logWarning:function(e){GateOne.Logging.log(e,"WARNING")},logInfo:function(e){GateOne.Logging.log(e,"INFO")},logDebug:function(e){GateOne.Logging.log(e,"DEBUG")},deprecated:function(e,t){GateOne.Logging.log(e+" is deprecated.  "+t,"WARNING")},addDestination:function(e,t){GateOne.Logging.destinations[e]=t},removeDestination:function(e){GateOne.Logging.destinations[e]?delete GateOne.Logging.destinations[e]:GateOne.Logging.logError("No log destination named, '"+e+"'.")},dateFormatter:function(e){var t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate(),i=e.getHours(),s=e.getMinutes(),o=e.getSeconds();return n<10&&(n="0"+n),r<10&&(r="0"+r),i<10&&(i="0"+i),s<10&&(s="0"+s),o<10&&(o="0"+o),t+"-"+n+"-"+r+" "+i+":"+s+":"+o}}),GateOne.Logging.destinations={console:GateOne.Logging.logToConsole},GateOne.Base.module(GateOne,"Net","1.1",["Base","Utils"]),GateOne.Net.sslErrorTimeout=null,GateOne.Net.connectionSuccess=!1,GateOne.Net.sendDimensionsCallbacks=[],GateOne.Net.binaryBuffer={},GateOne.Base.update(GateOne.Net,{init:function(){go.Net.addAction("go:timeout",go.Net.timeoutAction),go.Events.on("go:ping_timeout",function(){go.Visual.displayMessage("A keepalive ping has timed out.  Attempting to reconnect...")})},sendChars:function(){go.Logging.deprecated("GateOne.Net.sendChars","Use GateOne.Terminal.Input.sendChars() instead."),go.Terminal.sendChars()},sendString:function(e,t){go.Logging.deprecated("GateOne.Net.sendString","Use GateOne.Terminal.sendString() instead."),go.Terminal.sendString(e,t)},log:function(e){go.Logging.logInfo(e)},ping:function(e){var t=new Date,n=parseInt(go.prefs.pingTimeout),r=t.toISOString();logDebug("PING..."),e===undefined&&(e=!0),go.Net.logLatency=e,go.ws.send(JSON.stringify({"go:ping":r})),go.Utils.pingTimeout&&(clearTimeout(go.Utils.pingTimeout),go.Utils.pingTimeout=null),go.Utils.pingTimeout=setTimeout(function(){logError("Pinging Gate One server took longer than "+n+"ms.  Attempting to reconnect..."),go.ws.close(),go.Events.trigger("go:ping_timeout")},n)},pong:function(e){var t=new Date(e),n=new Date,r=n.getMilliseconds()-t.getMilliseconds();return go.Net.logLatency&&logInfo("PONG: Gate One server round-trip latency: "+r+"ms"),go.Utils.pingTimeout&&(clearTimeout(go.Utils.pingTimeout),go.Utils.pingTimeout=null),r},reauthenticate:function(){var e=GateOne,t=e.prefs.prefix,n=e.Utils,r=e.Visual,i=function(){window.location.href.indexOf("@")!=-1?window.location.href=window.location.href.replace(/:\/\/(.*@)?/g,"://"+n.randomString(8)+"@"):window.location.reload()};n.deleteCookie("gateone_user","/",""),delete localStorage[t+"gateone_user"],setTimeout(function(){e.Net.reconnectTimeout&&clearTimeout(e.Net.reconnectTimeout)},500),e.prefs.auth?r.alert(gettext("API Authentication Failure"),gettext("The API authentication object was denied by the server.  Click OK to reload the page."),i):r.alert(gettext("Authentication Failure"),gettext("You must re-authenticate with the Gate One server.  The page will now be reloaded."),i)},sendDimensions:function(e,t){GateOne.Logging.deprecated("GateOne.Net.sendDimensions","Use GateOne.Terminal.sendDimensions() instead."),GateOne.Terminal.sendDimensions(e,t)},connectionError:function(e){go.Net.connectionProblem=!0,clearInterval(go.Net.keepalivePing);var t=go.Utils,n=go.Visual,r=t.createElement("div",{id:"error_message"}),i=t.toArray(t.getNodes(".✈workspace")),s="<p>The WebSocket connection was closed.  Will attempt to reconnect every 5 seconds...</p><p>NOTE: Some web proxies do not work properly with WebSockets.</p>";logError("Error communicating with server... "),i.forEach(function(e){n.closeWorkspace(e.id.split("workspace")[1])}),n.lastWorkspaceNumber=0,e&&(s="<p>"+e+"</p>"),r.innerHTML=s,go.node.appendChild(r),go.Events.trigger("go:connection_error"),go.Net.reconnectTimeout=setTimeout(go.Net.connect,5e3)},sslError:function(e){GateOne.Net.connectionProblem=!0;if(GateOne.Net.sslDialogOpened)return;GateOne.Net.sslDialogOpened=!0;var t=GateOne,n=t.Utils,r=t.prefs.url+"static/accept_certificate.html";t.Visual.displayMessage(gettext("An SSL certificate must be accepted by your browser to continue.  Please click <a href='"+r+"' target='_blank'>here</a> to be redirected."))},connect:function(e){go.Net.connectionProblem=!1;var t=go.Utils,n=t.getNode("#"+go.prefs.prefix+"error_message"),r="";return n&&t.removeElement(n),t.startsWith("https:",go.prefs.url)?(r=go.prefs.url.split("https://")[1],t.endsWith("/",r)&&(r=r.slice(0,-1)),go.wsURL="wss://"+r+"/ws"):(r=go.prefs.url.split("http://")[1],t.endsWith("/",r)&&(r=r.slice(0,-1)),go.wsURL="ws://"+r+"/ws"),logDebug("GateOne.Net.connect("+go.wsURL+")"),go.ws=new WebSocket(go.wsURL),go.ws.binaryType="arraybuffer",go.ws.onopen=function(t){go.Net.onOpen(e)},go.ws.onclose=function(e){logDebug("WebSocket Closed"),go.Net.connectionError()},go.ws.onerror=function(e){logError("ERROR on WebSocket: "+e.data)},go.ws.onmessage=go.Net.onMessage,go.Net.connectionSuccess||(go.Net.sslErrorTimeout=setTimeout(function(){go.Net.sslError(go.Net.connect)},5e3)),go.ws},onOpen:function(callback){logDebug("onOpen()");var u=go.Utils,prefix=go.prefs.prefix,gridwrapper=u.getNode("#"+prefix+"gridwrapper"),settings={auth:go.prefs.auth,container:go.prefs.goDiv.split("#")[1],prefix:prefix,location:go.location};clearTimeout(go.Net.sslErrorTimeout),go.Net.connectionSuccess=!0,go.Net.connectionProblem||setTimeout(function(){u.loadTheme(go.prefs.theme),gridwrapper&&(gridwrapper.innerHTML="");if(!go.prefs.auth){var goCookie=u.getCookie("gateone_user");goCookie?(logDebug("Using cookie for auth"),goCookie[0]=='"'&&(goCookie=eval(goCookie)),go.prefs.auth=goCookie,settings.auth=go.prefs.auth):localStorage[prefix+"gateone_user"]&&(logDebug("Using localStorage for auth"),go.prefs.auth=localStorage[prefix+"gateone_user"],settings.auth=go.prefs.auth)}go.ws.send(JSON.stringify({"go:authenticate":settings})),go.Events.trigger("go:connnection_established"),go.initialize(),callback&&callback(),setTimeout(function(){go.Net.ping(!0)},4e3),go.Net.keepalivePing=setInterval(function(){go.Net.ping(!1)},go.prefs.keepaliveInterval)},100)},onMessage:function(e){logDebug("message: "+e.data);var t=GateOne.prefs.prefix,n=GateOne.Visual,r=GateOne.Net,i=GateOne.Utils,s=null;if(typeof e.data!="string"){var o=new Uint8Array(e.data),u=String.fromCharCode.apply(null,o.subarray(0,1));GateOne.Net.binaryBuffer[u]=o.subarray(1);return}try{s=JSON.parse(e.data)}catch(a){var f=i.getNode("#"+t+"noticecontainer"),l="<b>Message From Gate One Server:</b> "+e.data;n.displayMessage(l,1e4)}for(var c in s){var h=s[c];r.actions[c]&&r.actions[c](h)}},timeoutAction:function(){var e=go.Utils;logError("Session timed out."),e.getNode(go.prefs.goDiv).innerHTML="Your session has timed out.  Reload the page to reconnect to Gate One.",go.ws.onclose=function(){logDebug("WebSocket Closed")},go.ws.close(),E.trigger("go:timeout")},addAction:function(e,t){GateOne.Net.actions[e]=t},setTerminal:function(e){GateOne.Logging.deprecated("GateOne.Net.setTerminal","Use GateOne.Terminal.setTerminal() instead."),GateOne.Terminal.setTerminal(e)},killTerminal:function(e){GateOne.Logging.deprecated("GateOne.Net.killTerminal","Use GateOne.Terminal.killTerminal() instead."),GateOne.Terminal.killTerminal(e)},refresh:function(e){GateOne.Logging.deprecated("GateOne.Net.refresh","Use GateOne.Terminal.refresh() instead."),GateOne.Terminal.refresh(e)},fullRefresh:function(e){GateOne.Logging.deprecated("GateOne.Net.fullRefresh","Use GateOne.Terminal.fullRefresh() instead."),GateOne.Terminal.fullRefresh(e)}}),GateOne.Net.actions={"go:log":GateOne.Net.log,"go:ping":GateOne.Net.ping,"go:pong":GateOne.Net.pong,"go:reauthenticate":GateOne.Net.reauthenticate,"go:register_translation":GateOne.i18n.registerTranslationAction},GateOne.Base.module(GateOne,"Input","1.1",["Base","Utils"]),GateOne.Input.metaHeld=!1,GateOne.Input.shortcuts={},GateOne.Input.globalShortcuts={},GateOne.Input.handledGlobal=!1,GateOne.Base.update(GateOne.Input,{init:function(){var e=go.Utils,t=go.Visual;window.addEventListener("keydown",go.Input.onGlobalKeyDown,!0),go.node.addEventListener("keydown",go.Input.onKeyDown,!0),go.node.addEventListener("keyup",go.Input.onKeyUp,!0);if("ontouchstart"in document.documentElement){t.displayMessage("Touch screen detected:<br>Swipe left/right/up/down to switch workspaces.");var n=window.getComputedStyle(go.node,null);go.node.addEventListener("touchstart",function(e){t.displayMessage("touchstart");var n=e.touches[0];go.Input.touchstartX=n.pageX,go.Input.touchstartY=n.pageY},!0),go.node.addEventListener("touchmove",function(e){t.displayMessage("touchmove");var n=e.touches[0];n.pageX<go.Input.touchstartX&&go.Input.touchstartX-n.pageX>20?t.slideRight():n.pageX>go.Input.touchstartX&&n.pageX-go.Input.touchstartX>20?t.slideLeft():n.pageY<go.Input.touchstartY&&go.Input.touchstartY-n.pageY>20?t.slideDown():n.pageY>go.Input.touchstartY&&n.pageY-go.Input.touchstartY>20&&t.slideUp(),e.preventDefault()},!0),setTimeout(function(){e.hideElements(".✈pastearea")},3e3)}},modifiers:function(e){var t={shift:!1,alt:!1,ctrl:!1,meta:!1};return e.altKey&&(t.alt=!0),e.shiftKey&&(t.shift=!0),e.ctrlKey&&(t.ctrl=!0),e.metaKey&&(t.meta=!0),t.meta==0&&GateOne.Input.metaHeld&&(t.meta=!0),t},specialKeys:{8:"KEY_BACKSPACE",9:"KEY_TAB",12:"KEY_NUM_PAD_CLEAR",13:"KEY_ENTER",16:"KEY_SHIFT",17:"KEY_CTRL",18:"KEY_ALT",19:"KEY_PAUSE",20:"KEY_CAPS_LOCK",27:"KEY_ESCAPE",32:"KEY_SPACEBAR",33:"KEY_PAGE_UP",34:"KEY_PAGE_DOWN",35:"KEY_END",36:"KEY_HOME",37:"KEY_ARROW_LEFT",38:"KEY_ARROW_UP",39:"KEY_ARROW_RIGHT",40:"KEY_ARROW_DOWN",42:"KEY_PRINT_SCREEN",44:"KEY_PRINT_SCREEN",45:"KEY_INSERT",46:"KEY_DELETE",59:"KEY_SEMICOLON",61:"KEY_EQUALS_SIGN",91:"KEY_WINDOWS_LEFT",92:"KEY_WINDOWS_RIGHT",93:"KEY_SELECT",106:"KEY_NUM_PAD_ASTERISK",107:"KEY_NUM_PAD_PLUS_SIGN",109:"KEY_NUM_PAD_HYPHEN-MINUS",110:"KEY_NUM_PAD_FULL_STOP",111:"KEY_NUM_PAD_SOLIDUS",144:"KEY_NUM_LOCK",145:"KEY_SCROLL_LOCK",186:"KEY_SEMICOLON",187:"KEY_EQUALS_SIGN",188:"KEY_COMMA",189:"KEY_HYPHEN-MINUS",190:"KEY_FULL_STOP",191:"KEY_SOLIDUS",192:"KEY_GRAVE_ACCENT",219:"KEY_LEFT_SQUARE_BRACKET",220:"KEY_REVERSE_SOLIDUS",221:"KEY_RIGHT_SQUARE_BRACKET",222:"KEY_APOSTROPHE",229:"KEY_COMPOSE"},specialMacKeys:{3:"KEY_ENTER",63289:"KEY_NUM_PAD_CLEAR",63276:"KEY_PAGE_UP",63277:"KEY_PAGE_DOWN",63275:"KEY_END",63273:"KEY_HOME",63234:"KEY_ARROW_LEFT",63232:"KEY_ARROW_UP",63235:"KEY_ARROW_RIGHT",63233:"KEY_ARROW_DOWN",63302:"KEY_INSERT",63272:"KEY_DELETE"},key:function(e){var t=GateOne.Input,n={type:e.type};return e.type=="keydown"||e.type=="keyup"?(n.code=e.keyCode,n.string=t.specialKeys[n.code]||t.specialMacKeys[n.code]||"KEY_UNKNOWN",n):typeof e.charCode!="undefined"&&e.charCode!==0&&!t.specialMacKeys[e.charCode]?(n.code=e.charCode,n.string=String.fromCharCode(n.code),n):e.keyCode&&typeof e.charCode=="undefined"?(n.code=e.keyCode,n.string=String.fromCharCode(n.code),n):undefined},mouse:function(e){var t={type:e.type,button:{}};e.type!="mousemove"&&e.type!="mousewheel"&&(e.which?(t.button.left=e.which==1,t.button.middle=e.which==2,t.button.right=e.which==3):(t.button.left=!!(e.button&1),t.button.right=!!(e.button&2),t.button.middle=!!(e.button&4)));if(e.type=="mousewheel"||e.type=="DOMMouseScroll")t.wheel={x:0,y:0},e.wheelDeltaX||e.wheelDeltaY?(t.wheel.x=e.wheelDeltaX/-40||0,t.wheel.y=e.wheelDeltaY/-40||0):e.wheelDelta?t.wheel.y=e.wheelDelta/-40:t.wheel.y=e.detail||0;return t},onKeyUp:function(e){var t=go.Input,n=t.key(e);logDebug("onKeyUp()");if(n.string=="KEY_WINDOWS_LEFT"||n.string=="KEY_WINDOWS_RIGHT")t.metaHeld=!1;if(t.handledShortcut){t.handledShortcut=!1;return}},onKeyDown:function(e){var t=go.Input,n=go.Utils,r=go.node,i=t.key(e),s=t.modifiers(e);logDebug("onKeyDown() key.string: "+i.string+", key.code: "+i.code+", modifiers: "+go.Utils.items(s));if(t.handledGlobal)return;r&&t.execKeystroke(e)},onGlobalKeyDown:function(e){var t=go.Input,n=t.key(e),r=t.modifiers(e);logDebug("onGlobalKeyDown() key.string: "+n.string+", key.code: "+n.code+", modifiers: "+go.Utils.items(r)),t.execKeystroke(e,!0)},execKeystroke:function(e,global){logDebug("execKeystroke(global=="+global+")");var goIn=go.Input,key=goIn.key(e),modifiers=goIn.modifiers(e),shortcuts=goIn.shortcuts;global&&(shortcuts=goIn.globalShortcuts);if(key.string=="KEY_WINDOWS_LEFT"||key.string=="KEY_WINDOWS_RIGHT")return goIn.metaHeld=!0,setTimeout(function(){goIn.metaHeld=!1},3e3),!0;if(goIn.composition)return!0;for(var k in shortcuts)if(key.string==k){var matched=!1;shortcuts[k].forEach(function(shortcut){var match=!0;for(var mod in modifiers)modifiers[mod]!=shortcut.modifiers[mod]&&(match=!1);match&&(typeof shortcut.preventDefault=="undefined"?e.preventDefault():shortcut.preventDefault==1&&e.preventDefault(),typeof shortcut["action"]=="string"?eval(shortcut.action):typeof shortcut["action"]=="function"&&shortcut.action(e),goIn.handledShortcut=!0,goIn.handledGlobal=!0,matched=!0)});if(matched)return setTimeout(function(){goIn.handledGlobal=!1},250),!0}},registerShortcut:function(e,t){if(GateOne.Input.shortcuts[e]){var n=!1;GateOne.Input.shortcuts[e].forEach(function(r){var i=!0;for(var s in t.modifiers)t.modifiers[s]!=r.modifiers[s]&&(i=!1);i&&(logWarning("Overwriting existing shortcut for: "+e),r=t,n=!0)}),n||GateOne.Input.shortcuts[e].push(t)}else GateOne.Input.shortcuts[e]=[t]},registerGlobalShortcut:function(e,t){if(GateOne.Input.globalShortcuts[e]){var n=!1;GateOne.Input.globalShortcuts[e].forEach(function(r){var i=!0;for(var s in t.modifiers)t.modifiers[s]!=r.modifiers[s]&&(i=!1);i&&(logWarning("Overwriting existing shortcut for: "+e),r=t,n=!0)}),n||GateOne.Input.globalShortcuts[e].push(t)}else GateOne.Input.globalShortcuts[e]=[t]},humanReadableShortcuts:function(){var e=GateOne.Input,t=[];for(var n in e.shortcuts){console.log("i: "+n);var r=n.split("_"),i="",s="";r.splice(0,1);for(var o in r)i+=r[o].toLowerCase()+" ";i.trim();for(var o in e.shortcuts[n])e.shortcuts[n][o].modifiers&&(s+=o+"-");s+=i,t.push(s)}return t},handleVisibility:function(e){var t=GateOne,n=t.Utils;n.isPageHidden()?(logDebug("Ninja Mode!  Gate One has become hidden."),t.Events.trigger("go:invisible")):(logDebug("Ninja Mode disabled."),document.activeElement==t.node&&t.Events.trigger("go:visible"))}}),function(){var e=GateOne.Input.specialKeys;for(var t=48;t<=57;t++)e[t]="KEY_"+(t-48);for(var t=65;t<=90;t++)e[t]="KEY_"+String.fromCharCode(t);for(var t=96;t<=105;t++)e[t]="KEY_NUM_PAD_"+(t-96);for(var t=112;t<=123;t++)e[t]="KEY_F"+(t-112+1)}(),function(){var e=GateOne.Input.specialMacKeys;for(var t=63236;t<=63242;t++)e[t]="KEY_F"+(t-63236+1)}(),GateOne.Base.module(GateOne,"Visual","1.1",["Base","Net","Utils"]),GateOne.Visual.gridView=!1,GateOne.Visual.goDimensions={},GateOne.Visual.panelToggleCallbacks={"in":{},out:{}},GateOne.Visual.lastMessage="",GateOne.Visual.sinceLastMessage=new Date,GateOne.Visual.hidePanelsTimeout={},GateOne.Visual.togglingPanel=!1,GateOne.Base.update(GateOne.Visual,{init:function(){var e=go.Utils,t=go.Visual,n=e.createElement("div",{id:go.prefs.prefix+"icon_grid","class":"✈toolbar",title:"Grid View"}),r=e.getNode("#"+go.prefs.prefix+"toolbar");GateOne.Icons.grid='<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" height="18" width="18" version="1.1" xmlns:cc="http://creativecommons.org/ns#" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:dc="http://purl.org/dc/elements/1.1/"><defs><linearGradient id="gridGradient" y2="255.75" gradientUnits="userSpaceOnUse" x2="311.03" gradientTransform="matrix(0.70710678,0.70710678,-0.70710678,0.70710678,261.98407,-149.06549)" y1="227.75" x1="311.03"><stop class="✈stop1" offset="0"/><stop class="✈stop4" offset="1"/></linearGradient></defs><metadata><rdf:RDF><cc:Work rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/><dc:title/></cc:Work></rdf:RDF></metadata><g transform="matrix(0.66103562,-0.67114094,0.66103562,0.67114094,-611.1013,-118.18392)"><g fill="url(#gridGradient)" transform="translate(63.353214,322.07725)"><polygon points="311.03,255.22,304.94,249.13,311.03,243.03,317.13,249.13"/><polygon points="318.35,247.91,312.25,241.82,318.35,235.72,324.44,241.82"/><polygon points="303.52,247.71,297.42,241.61,303.52,235.52,309.61,241.61"/><polygon points="310.83,240.39,304.74,234.3,310.83,228.2,316.92,234.3"/></g></g></svg>',n.innerHTML=GateOne.Icons.grid;var i=function(){t.toggleGridView(!0)};try{n.onclick=i}finally{i=null}r.appendChild(n),go.prefs.embedded||(go.Input.registerShortcut("KEY_ARROW_LEFT",{modifiers:{ctrl:!1,alt:!1,meta:!1,shift:!0},action:"GateOne.Visual.slideLeft()"}),go.Input.registerShortcut("KEY_ARROW_RIGHT",{modifiers:{ctrl:!1,alt:!1,meta:!1,shift:!0},action:"GateOne.Visual.slideRight()"}),go.Input.registerShortcut("KEY_ARROW_UP",{modifiers:{ctrl:!1,alt:!1,meta:!1,shift:!0},action:"GateOne.Visual.slideUp()"}),go.Input.registerShortcut("KEY_ARROW_DOWN",{modifiers:{ctrl:!1,alt:!1,meta:!1,shift:!0},action:"GateOne.Visual.slideDown()"}),go.Input.registerShortcut("KEY_G",{modifiers:{ctrl:!0,alt:!0,meta:!1,shift:!1},action:"GateOne.Visual.toggleGridView()"})),go.Net.addAction("go:notice",t.serverMessageAction),go.Events.on("go:switch_workspace",t.slideToWorkspace),go.Events.on("go:cleanup_workspaces",t.cleanupWorkspaces),window.addEventListener("resize",function(){t.updateDimensionsDebounce&&clearTimeout(t.updateDimensionsDebounce),t.updateDimensionsDebounce=setTimeout(function(){t.updateDimensions()},250)},!1)},newWorkspaceWorkspace:function(){var e=go.Utils,t=go.Visual,n=go.Events,r=go.prefs.prefix,i=go.User.applications,s=e.createElement("h2",{"class":"✈new_workspace_workspace_title"}),o=e.createElement("div",{"class":"✈centertrans ✈sectrans ✈new_workspace_workspace"}),u=e.createElement("div",{"class":"✈app_grid"}),a=t.newWorkspace(),f=a.id.split(r+"workspace")[1];s.innerHTML="Gate One - Applications",o.style.opacity=0,o.appendChild(s),o.appendChild(u),i.forEach(function(t){var n,r=e.createElement("div",{"class":"✈superfasttrans ✈application"}),i=e.createElement("div",{"class":"✈appicon"}),s=e.createElement("p",{"class":"✈application_text"});s.innerHTML=t,go.loadedApplications[t]&&go.loadedApplications[t].__appinfo__&&(n=go.loadedApplications[t].__appinfo__.icon||go.Icons.application),i.innerHTML=n||go.Icons.application,r.appendChild(i),r.appendChild(s),u.appendChild(r)}),a.appendChild(o),setTimeout(function(){o.style.opacity=1},1),t.switchWorkspace(f),n.trigger("go:new_workspace_workspace",a)},updateDimensions:function(){var e=go.Utils,t=go.prefs.prefix,n=go.node,r=e.toArray(e.getNodes(".✈workspace")),i=e.getNode("#"+t+"gridwrapper"),s=0,o=function(e){go.Visual.updateDimensionsTimer&&(clearTimeout(go.Visual.updateDimensionsTimer),go.Visual.updateDimensionsTimer=null);var t=window.getComputedStyle(n,null),s=t["padding-right"]||t.paddingRight;if(t["padding-right"])var u=parseInt(s.split("px")[0]);go.Visual.goDimensions.w=parseInt(t.width.split("px")[0]),go.Visual.goDimensions.h=parseInt(t.height.split("px")[0]),i&&(i.style.width=(go.Visual.goDimensions.w+u)*2+"px",r.length&&r.forEach(function(e){e.style.height=go.Visual.goDimensions.h+"px",e.style.width=go.Visual.goDimensions.w+"px"})),go.Events.trigger("go:update_dimensions",go.Visual.goDimensions),go.node.removeEventListener(transitionEndName,o,!1)};go.node.addEventListener(transitionEndName,o,!1),go.Visual.updateDimensionsTimer=setTimeout(function(){o()},1100)},applyTransform:function(e,t){var n={"-webkit-transform":"","-moz-transform":"","-o-transform":"","-ms-transform":"","-khtml-transform":"",transform:""};if(GateOne.Utils.isNodeList(e)||GateOne.Utils.isHTMLCollection(e)||GateOne.Utils.isArray(e))GateOne.Utils.toArray(e).forEach(function(e){e=GateOne.Utils.getNode(e);for(var r in n)e.style[r]=t;e.style.MozTransform!=undefined&&(e.style.MozTransform=t)});else if(typeof e=="string"||GateOne.Utils.isElement(e)){var r=GateOne.Utils.getNode(e);for(var i in n)r.style[i]=t;r.style.MozTransform!=undefined&&(r.style.MozTransform=t)}},applyStyle:function(e,t){var n=GateOne.Utils.getNode(e);for(var r in t)n.style[r]=t[r]},getTransform:function(e){var t=GateOne.Utils.getNode(e);if(t.style.transform)return t.style.transform;if(t.style["-webkit-transform"])return t.style["-webkit-transform"];if(t.style.MozTransform)return t.style.MozTransform;if(t.style["-khtml-transform"])return t.style["-khtml-transform"];if(t.style["-ms-transform"])return t.style["-ms-transform"];if(t.style["-o-transform"])return t.style["-o-transform"]},togglePanel:function(e){var t=go.Visual,n=go.Utils,r=go.Events,i=e,e=n.getNode(e),s=null,o=n.getNodes(".✈panel"),u="Use GateOne.Events.on('go:panel_toggle:in', func) or GateOne.Events.on('go:panel_toggle:out', func) instead.",a=function(e){t.hidePanelsTimeout[e.id]&&(clearTimeout(t.hidePanelsTimeout[f]),t.hidePanelsTimeout[e.id]=null),t.hidePanelsTimeout[e.id]=setTimeout(function(){n.hideElement(e),t.hidePanelsTimeout[e.id]=null},1250)};if(t.togglingPanel)return;t.togglingPanel=!0,e&&(s=t.getTransform(e));for(var f in n.toArray(o))if(o[f]&&t.getTransform(o[f])=="scale(1)"){t.applyTransform(o[f],"scale(0)"),r.trigger("panel_toggle:out",e);if(t.panelToggleCallbacks.out["#"+o[f].id])for(var l in t.panelToggleCallbacks.out["#"+o[f].id])typeof t.panelToggleCallbacks["out"]["#"+o[f].id][l]=="function"&&(deprecated("panelToggleCallbacks",u),t.panelToggleCallbacks.out["#"+o[f].id][l]());a(o[f])}if(!e){t.togglingPanel=!1;return}if(s!="scale(1)"){n.showElement(e),setTimeout(function(){t.applyTransform(e,"scale(1)")},1),r.trigger("go:panel_toggle:in",e);if(t.panelToggleCallbacks["in"]["#"+e.id])for(var l in t.panelToggleCallbacks["in"]["#"+e.id])typeof t.panelToggleCallbacks["in"]["#"+e.id][l]=="function"&&(t.panelToggleCallbacks["in"]["#"+e.id][l](),deprecated("panelToggleCallbacks",u));e.onkeyup=function(n){if(n.keyCode==27)return n.preventDefault(),t.togglePanel(e),e.onkeyup=null,!1},t.togglingPanel=!1}else{t.applyTransform(e,"scale(0)"),r.trigger("go:panel_toggle:out",e);if(t.panelToggleCallbacks.out["#"+e.id])for(var l in t.panelToggleCallbacks.out["#"+e.id])typeof t.panelToggleCallbacks["out"]["#"+e.id][l]=="function"&&(t.panelToggleCallbacks.out["#"+e.id][l](),deprecated("panelToggleCallbacks",u));setTimeout(function(){n.hideElement(e),t.togglingPanel=!1},1100)}},displayMessage:function(e,t,n,r){logInfo("displayMessage(): "+e),r||(r="notice");var i=go.Utils,s=go.Visual,o=go.prefs.prefix,u=new Date,a=u-go.Visual.sinceLastMessage,f=i.getNode("#"+o+"noticecontainer"),l=i.createElement("div",{id:o+r,"class":"✈notice"}),c=i.createElement("span"),h=i.createElement("span",{"class":"✈close_notice"}),p=i.randomPrime(),d=function(e){s.noticeTimers[p]=setTimeout(function(){go.Visual.applyStyle(l,{opacity:0}),s.noticeTimers[p]=setTimeout(function(){i.removeElement(l),delete s.noticeTimers[p]},t+n)},t)};if(e==go.Visual.lastMessage&&a<2e3)return;t||(t=1e3),n||(n=5e3);if(!f){var v=i.createElement("div",{id:"noticecontainer",style:{"font-size":"1.5em","background-color":"#000",color:"#fff",display:"block",position:"fixed",bottom:"1em",right:"2em","z-index":999999}});v.innerHTML=e,document.body.appendChild(v),setTimeout(function(){i.removeElement(v)},1e4);return}c.innerHTML=e,h.innerHTML=go.Icons.close.replace("closeGradient","miniClose"),h.onclick=function(e){s.noticeTimers[p]&&clearTimeout(s.noticeTimers[p]),i.removeElement(l)},l.appendChild(c),l.appendChild(h),f.appendChild(l),s.noticeTimers||(s.noticeTimers={}),d(),l.onmouseover=function(e){clearTimeout(s.noticeTimers[p]),s.disableTransitions(l),s.applyStyle(l,{opacity:1})},l.onmouseout=function(e){s.enableTransitions(l),d()},s.lastMessage=e,s.sinceLastMessage=new Date},disableTransitions:function(e){var t=GateOne,n=t.Utils,r=n.getNode(e);r.className.indexOf("✈noanimate")==-1&&(r.className+=" ✈noanimate")},enableTransitions:function(e){var t=GateOne,n=t.Utils,r=n.getNode(e);r.className=r.className.replace(/(?:^|\s)✈noanimate(?!\S)/,"")},newWorkspace:function(){var e=go.Utils,t=go.Visual,n=0,r=go.prefs.prefix,i=localStorage[r+"selectedWorkspace"],s=e.getNode("#"+r+"gridwrapper");return t.lastWorkspaceNumber||(t.lastWorkspaceNumber=0),t.lastWorkspaceNumber=t.lastWorkspaceNumber+1,n=t.lastWorkspaceNumber,i=r+"workspace"+t.lastWorkspaceNumber,go.prefs.embedded?n=e.createElement("div",{id:i,"class":"✈workspace"}):n=e.createElement("div",{id:i,"class":"✈workspace",style:{width:t.goDimensions.w+"px",height:t.goDimensions.h+"px"}}),s.appendChild(n),n.focus(),go.Events.trigger("go:new_workspace",n),n},closeWorkspace:function(e,t){var n=go.Utils,r=go.Visual,i=go.prefs.prefix;n.removeElement("#"+i+"workspace"+e);var s=n.toArray(n.getNodes(".✈workspace"));t&&r.displayMessage(t),s.forEach(function(e){r.lastWorkspaceNumber=parseInt(e.id.split("workspace")[1])}),r.lastWorkspaceNumber?r.switchWorkspace(r.lastWorkspaceNumber):go.prefs.embedded||go.ws.readyState==1&&(go.User.applications.length>1?r.newWorkspaceWorkspace():go.applicationModules[go.User.applications[0]].__new__()),go.Events.trigger("go:workspace_closed",e)},switchWorkspace:function(e){go.Events.trigger("go:switch_workspace",e),localStorage[go.prefs.prefix+"selectedWorkspace"]=e},cleanupWorkspaces:function(){var e=go.Utils,t=e.toArray(e.getNodes(".✈workspace"));t.forEach(function(e){var t=e.id.split(go.prefs.prefix+"workspace")[1];e.innerHTML.length||go.Visual.closeWorkspace(t)})},slideToWorkspace:function(e){logDebug("slideToWorkspace("+e+")");var t=go.Utils,n=go.Visual,r=go.prefs.prefix,i=0,s=0,o=0,u=t.toArray(t.getNodes(".✈workspace")),a=window.getComputedStyle(go.node,null),f=0,l=0,c=a["padding-right"]||a.paddingRight,h=a["padding-bottom"]||a.paddingBottom;c!="0px"&&(f=parseInt(c.split("px")[0])),c!="0px"&&(l=parseInt(c.split("px")[0])),n.noReset?n.noReset=!1:n.resetGrid(),u.forEach(function(e){n.disableTransitions(e)}),setTimeout(function(){u.forEach(function(u){n.enableTransitions(u),i+=1,u.id==r+"workspace"+e&&(t.isEven(i)?(s=(n.goDimensions.w+f)*2-(n.goDimensions.w+f),o=(n.goDimensions.h+l)*i/2-(n.goDimensions.h+l*Math.floor(i/2))):(s=0,o=(n.goDimensions.h+l)*(i+1)/2-(n.goDimensions.h+l*Math.floor(i/2))))}),u.forEach(function(t){t.id==r+"workspace"+e?n.applyTransform(t,"translate(-"+s+"px, -"+o+"px)"):n.applyTransform(t,"translate(-"+s+"px, -"+o+"px) scale(0.5)")})},1),n.hiddenWorkspacesTimer&&(clearTimeout(n.hiddenWorkspacesTimer),n.hiddenWorkspacesTimer=null),n.hiddenWorkspacesTimer=setTimeout(function(){u.forEach(function(t){n.disableTransitions(t),t.id==r+"workspace"+e?(n.applyTransform(t,"translate(0px, 0px)"),t.style.display=""):t.style.display="none"})},1e3)},slideLeft:function(){var e=go.Utils,t=go.prefs.prefix,n=0,r=0,i=e.toArray(e.getNodes(".✈workspace"));if(i.length>1){i.forEach(function(e){e.id==t+"workspace"+localStorage[t+"selectedWorkspace"]&&(r=n),n+=1});if(e.isEven(r+1)){var s=i[r-1].id.split(t+"workspace")[1];go.Visual.switchWorkspace(s)}}},slideRight:function(){var e=go.Utils,t=go.prefs.prefix,n=e.toArray(e.getNodes(".✈workspace")),r=0,i=0;if(n.length>1){n.forEach(function(e){e.id==t+"workspace"+localStorage[t+"selectedWorkspace"]&&(i=r),r+=1});if(!e.isEven(i+1)){var s=n[i+1].id.split(t+"workspace")[1];go.Visual.switchWorkspace(s)}}},slideDown:function(){var e=go.Utils,t=go.prefs.prefix,n=e.toArray(e.getNodes(".✈workspace")),r=0,i=0;if(n.length>2){n.forEach(function(e){e.id==t+"workspace"+localStorage[t+"selectedWorkspace"]&&(i=r),r+=1});if(n[i+2]){var s=n[i+2].id.split(t+"workspace")[1];go.Visual.switchWorkspace(s)}}},slideUp:function(){var e=go.Utils,t=go.prefs.prefix,n=e.toArray(e.getNodes(".✈workspace")),r=0,i=0;if(localStorage[t+"selectedWorkspace"]>1){n.forEach(function(e){e.id==t+"workspace"+localStorage[t+"selectedWorkspace"]&&(i=r),r+=1});if(n[i-2]){var s=n[i-2].id.split(t+"workspace")[1];go.Visual.switchWorkspace(Math.max(s,1))}}},resetGrid:function(){logDebug("resetGrid()");var e=GateOne,t=e.Utils,n=e.Visual,r=e.prefs.prefix,i=0,s=0,o=0,u=localStorage[r+"selectedWorkspace"],a=t.toArray(t.getNodes(".✈workspace")),f=window.getComputedStyle(e.node,null),l=0,c=0,h=f["padding-right"]||f.paddingRight,p=f["padding-bottom"]||f.paddingBottom;h!="0px"&&(l=parseInt(h.split("px")[0])),h!="0px"&&(c=parseInt(h.split("px")[0])),e.node.scrollTop=0,a.forEach(function(e){o+=1,e.id==r+"workspace"+u&&(t.isEven(o)?(i=(n.goDimensions.w+l)*2-(n.goDimensions.w+l),s=(n.goDimensions.h+c)*o/2-(n.goDimensions.h+c*Math.floor(o/2))):(i=0,s=(n.goDimensions.h+c)*(o+1)/2-(n.goDimensions.h+c*Math.floor(o/2)))),n.disableTransitions(e)}),a.forEach(function(e){e.id==r+"workspace"+u?n.applyTransform(e,"translate(-"+i+"px, -"+s+"px)"):n.applyTransform(e,"translate(-"+i+"px, -"+s+"px) scale(0.5)"),e.style.display=""})},toggleGridView:function(e){var t=go.Utils,n=go.Visual,r=go.prefs.prefix,i=t.toArray(t.getNodes(".✈workspace"));e==null&&e==1,n.gridView?(n.gridView=!1,i.forEach(function(e){e.onclick=undefined,e.onmouseover=undefined,e.classList.remove("✈wsshadow")}),go.node.style.overflow="hidden",n.noReset=!0,e&&n.switchWorkspace(localStorage[r+"selectedWorkspace"]),go.Events.trigger("go:grid_view:close")):(n.gridView=!0,setTimeout(function(){go.node.style.overflowY="visible",t.getNode("#"+r+"gridwrapper").style.width=n.goDimensions.w,go.Events.trigger("go:grid_view:open")},1e3),n.resetGrid(),setTimeout(function(){i.forEach(function(e){e.style.display="",e.classList.add("✈wsshadow"),n.enableTransitions(e)}),n.applyTransform(i,"translate(0px, 0px)");var e=!0,t=1,s=0,o=0,u="";i.forEach(function(i){var a=i.id.split(r+"workspace")[1],f=function(e){localStorage[r+"selectedWorkspace"]=a,n.toggleGridView(!1),n.noReset=!0,n.switchWorkspace(a)};e?(t==1?s=50:s+=100,u="scale(0.5, 0.5) translate(-50%, -"+s+"%)",n.applyTransform(i,u),e=!1):(t==2?o=50:o+=100,u="scale(0.5, 0.5) translate(-150%, -"+o+"%)",n.applyTransform(i,u),e=!0),t+=1,i.onclick=f})},1))},addSquare:function(e){logDebug("creating: "+e);var t=GateOne.Utils.createElement("div",{id:e,"class":"✈workspace",style:{width:GateOne.Visual.goDimensions.w+"px",height:GateOne.Visual.goDimensions.h+"px"}});GateOne.Visual.squares.push(t)},createGrid:function(e,t){var n=GateOne.Utils,r=GateOne.Visual,i=null;return r.squares=[],t?(t.forEach(addSquare),i=n.createElement("div",{id:e}),r.squares.forEach(function(e){i.appendChild(e)})):i=n.createElement("div",{id:e}),r.squares=null,i},serverMessageAction:function(e){GateOne.Visual.displayMessage(e)},dialog:function(e,t,n){var r=go.prefs.prefix,i=go.Utils,s=go.Visual,o=go.node,u=document.activeElement,a=i.randomPrime(),f=i.createElement("div",{id:"dialogcontainer_"+a,"class":"✈halfsectrans ✈dialogcontainer",title:e}),l=i.createElement("div",{id:"dialogdiv","class":"✈dialogdiv"}),c=i.createElement("div",{id:"dialogcontent","class":"✈dialogcontent"}),h=i.createElement("h3",{id:"dialogtitle","class":"✈dialogtitle"}),p=i.createElement("div",{id:"dialog_close","class":"✈dialog_close"}),d=function(e){for(var t in s.dialogs)f==s.dialogs[t]&&(s.dialogs.splice(t,1),s.dialogs.unshift(f),f.style.opacity=1,f.onkeyup=function(e){if(e.keyCode==27)return e.preventDefault(),y(),f.onkeyup=null,!1});for(var t in s.dialogs)t!=0&&(s.dialogs[t].style.opacity=.75),s.dialogs[t].style.zIndex=s.dialogZIndex-t;f.removeEventListener("mousedown",d,!0),go.Events.trigger("go:dialog_to_foreground",f)},v=function(e){f.addEventListener("mousedown",d,!0),f.style.opacity=1},m=function(e){var t=go.Input.mouse(e);if(t.button.left){var n=window.getComputedStyle(f,null).left,r=window.getComputedStyle(f,null).top;f.dragging=!0,e.preventDefault(),s.dragOrigin.X=e.clientX+window.scrollX,s.dragOrigin.Y=e.clientY+window.scrollY;if(n.indexOf("%")!=-1){var i=parseInt(n.substring(0,n.length-1)),o=window.getComputedStyle(document.body,null).width,o=parseInt(o.substring(0,o.length-2));s.dragOrigin.dialogX=Math.floor(o*i*.01)}else s.dragOrigin.dialogX=parseInt(n.substring(0,n.length-2));if(r.indexOf("%")!=-1){var i=parseInt(r.substring(0,r.length-1)),u=document.body.scrollHeight;s.dragOrigin.dialogY=Math.floor(u*i*.01)}else s.dragOrigin.dialogY=parseInt(r.substring(0,r.length-2));f.style.opacity=.75}},g=function(e){if(f.dragging){f.className="✈dialogcontainer";var t=e.clientX+window.scrollX,n=e.clientY+window.scrollY,r=t-s.dragOrigin.X,i=n-s.dragOrigin.Y,o=0,u=0;isNaN(s.dragOrigin.dialogX)&&(s.dragOrigin.dialogX=0),isNaN(s.dragOrigin.dialogY)&&(s.dragOrigin.dialogY=0),o=s.dragOrigin.dialogX+r,u=s.dragOrigin.dialogY+i,f.dragging&&(f.style.left=o+"px",f.style.top=u+"px")}},y=function(e){e&&e.preventDefault(),f.className="✈halfsectrans ✈dialogcontainer",f.style.opacity=0,setTimeout(function(){i.removeElement(f)},1e3),document.body.removeEventListener("mousemove",g,!0),document.body.removeEventListener("mouseup",function(e){f.dragging=!1},!0),f.removeEventListener("mousedown",d,!0),h.removeEventListener("mousedown",m,!0);for(var t in s.dialogs)f==s.dialogs[t]&&s.dialogs.splice(t,1);s.dialogs.length&&(s.dialogs[0].style.opacity=1),u.focus()};return s.dialogs||(s.dialogs=[]),s.dialogs.push(f),l.appendChild(c),f.dragging||(f.dragging=!1,s.dragOrigin={}),h.addEventListener("mousedown",m,!0),document.body.addEventListener("mousemove",g,!0),document.body.addEventListener("mouseup",function(e){f.dragging=!1},!0),f.addEventListener("mousedown",d,!0),f.addEventListener("mouseup",v,!0),f.style.opacity=0,setTimeout(function(){f.style.opacity=1},50),p.innerHTML=go.Icons.panelclose,p.onclick=y,h.innerHTML=e,f.appendChild(h),h.appendChild(p),typeof t=="string"?c.innerHTML=t:c.appendChild(t),f.appendChild(l),o.appendChild(f),s.dialogZIndex=parseInt(getComputedStyle(f).zIndex),d(),y},alert:function(e,t,n){var r=GateOne,i=GateOne.Utils,s=GateOne.Visual,o=i.createElement("button",{id:"ok_button",type:"reset",value:"OK","class":"✈button ✈black",style:{"margin-top":"1em","margin-left":"auto","margin-right":"auto",width:"4em"}}),u=i.createElement("p",{id:"ok_message",style:{"text-align":"center"}});o.innerHTML="OK",t instanceof HTMLElement?u.appendChild(t):u.innerHTML="<p>"+t+"</p>",u.appendChild(o);var a=r.Visual.dialog(e,u);o.tabIndex=1,o.onclick=function(e){e.preventDefault(),a(),n&&n()},setTimeout(function(){o.focus()},250),r.Events.trigger("go:alert",e,t,a)},widget:function(e,t,n){n=n||{},n.onopen=n.onopen||null,n.onclose=n.onclose||null,n.onconfig=n.onconfig||null,n.where=n.where||localStorage[GateOne.prefs.prefix+"selectedWorkspace"];var r=go.prefs.prefix,i=go.Utils,s=go.Visual,o=i.getNode(go.prefs.goDiv),u=i.randomPrime(),a=i.createElement("div",{id:"widgetcontainer_"+u,"class":"✈halfsectrans ✈widgetcontainer",name:"widget",title:e}),f=i.createElement("div",{id:"widgetdiv","class":"✈widgetdiv"}),l=i.createElement("div",{id:"widgetcontent","class":"✈widgetcontent"}),c=i.createElement("h3",{id:"widgettitle","class":"✈halfsectrans ✈originbottommiddle ✈widgettitle"}),h=i.createElement("div",{id:"widget_close","class":"✈widget_close"}),p=i.createElement("div",{id:"widget_configure","class":"✈widget_configure"}),d=function(e){for(var t in s.widgets)a==s.widgets[t]&&(s.widgets.splice(t,1),s.widgets.unshift(a),a.style.opacity=1);for(var t in s.widgets)t!=0&&(s.widgets[t].style.opacity=.75),s.widgets[t].style.zIndex=s.widgetZIndex-t;a.removeEventListener("mousedown",d,!0)},v=function(e){a.addEventListener("mousedown",d,!0),a.style.opacity=1},m=function(e){var t=go.Visual;t.widgetHoverTimeout&&(clearTimeout(t.widgetHoverTimeout),t.widgetHoverTimeout=null),t.widgetHoverTimeout=setTimeout(function(){c.style.opacity=1,t.widgetHoverTimeout=null},1e3)},g=function(e){var t=go.Visual;a.dragging||(t.widgetHoverTimeout&&(clearTimeout(t.widgetHoverTimeout),t.widgetHoverTimeout=null),t.widgetHoverTimeout=setTimeout(function(){c.style.opacity=0,t.widgetHoverTimeout=null},500))},y=function(e){var t=go.Input.mouse(e);if(t.button.left){var n=window.getComputedStyle(a,null).left,r=window.getComputedStyle(a,null).top;a.dragging=!0,e.preventDefault(),s.dragOrigin.X=e.clientX+window.scrollX,s.dragOrigin.Y=e.clientY+window.scrollY;if(n.indexOf("%")!=-1){var i=parseInt(n.substring(0,n.length-1)),o=window.getComputedStyle(document.body,null).width,o=parseInt(o.substring(0,o.length-2));s.dragOrigin.widgetX=Math.floor(o*i*.01)}else s.dragOrigin.widgetX=parseInt(n.substring(0,n.length-2));if(r.indexOf("%")!=-1){var i=parseInt(r.substring(0,r.length-1)),u=document.body.scrollHeight;s.dragOrigin.widgetY=Math.floor(u*i*.01)}else s.dragOrigin.widgetY=parseInt(r.substring(0,r.length-2));a.style.opacity=.75}},b=function(e){if(a.dragging){a.className="✈widgetcontainer";var t=e.clientX+window.scrollX,n=e.clientY+window.scrollY,r=t-s.dragOrigin.X,i=n-s.dragOrigin.Y,o=0,u=0;isNaN(s.dragOrigin.widgetX)&&(s.dragOrigin.widgetX=0),isNaN(s.dragOrigin.widgetY)&&(s.dragOrigin.widgetY=0),o=s.dragOrigin.widgetX+r,u=s.dragOrigin.widgetY+i,a.dragging&&(a.style.left=o+"px",a.style.top=u+"px")}},w=function(e){e&&e.preventDefault(),a.className="✈halfsectrans ✈widgetcontainer",a.style.opacity=0,setTimeout(function(){i.removeElement(a)},1e3),document.body.removeEventListener("mousemove",b,!0),document.body.removeEventListener("mouseup",function(e){a.dragging=!1},!0),a.removeEventListener("mousedown",d,!0),c.removeEventListener("mousedown",y,!0);for(var t in s.widgets)a==s.widgets[t]&&s.widgets.splice(t,1);s.widgets.length&&(s.widgets[0].style.opacity=1),n.onclose&&n.onclose()};return s.widgets||(s.widgets=[]),s.widgets.push(a),f.appendChild(l),a.dragging||(a.dragging=!1,s.dragOrigin={}),a.addEventListener("mousedown",y,!0),a.addEventListener("mouseover",m,!0),a.addEventListener("mouseout",g,!0),document.body.addEventListener("mousemove",b,!0),document.body.addEventListener("mouseup",function(e){a.dragging=!1},!0),a.addEventListener("mousedown",d,!0),a.addEventListener("mouseup",v,!0),a.style.opacity=0,setTimeout(function(){a.style.opacity=1},50),h.innerHTML=go.Icons.panelclose,h.onclick=w,p.innerHTML=go.Icons.prefs.replace("prefsGradient","widgetGradient"+i.randomPrime()),c.innerHTML=e,n.onconfig&&(p.onclick=n.onconfig,c.appendChild(p)),a.appendChild(c),c.appendChild(h),typeof t=="string"?l.innerHTML=t:l.appendChild(t),a.appendChild(f),n["where"]=="global"?document.body.appendChild(a):n.where&&i.getNode(n.where).appendChild(a),s.widgetZIndex=parseInt(getComputedStyle(a).zIndex),d(),n.onopen&&n.onopen(a),w},Pane:function(e,t){if(this instanceof GateOne.Visual.Pane){t=t||{};var n=this,r=GateOne.Utils;return n.node=r.getNode(e),n.title=t.title||null,n.scroll=t.scroll||!1,n.split=function(e,t,i){var s=6,o=n.node,a=r.createElement("div",{"class":"✈pane"}),f=parseInt(o.clientWidth/2)-parseInt(s/2),l=parseInt(o.clientHeight/2)-parseInt(s/2),c=r.createElement("div");return o.style.position="absolute",o.style.top=0,o.style.left=0,e=="vertical"?(c.className="✈vsplitbar",t=t||"left",o.style.width=f+"px"):(c.className="✈hsplitbar",t=t||"top",o.style.height=l+"px"),i||(i=o.cloneNode(!1)),t=="left"?(i.style.left=f+s+"px",c.style.left=f+"px"):(i.style.top=l+s+"px",c.style.left=l+"px"),o.parentNode.appendChild(a),t=="left"||t=="top"?(a.appendChild(o),a.appendChild(c),a.appendChild(i)):(a.appendChild(i),a.appendChild(c),a.appendChild(o)),setTimeout(function(){r.scrollToBottom(o),r.scrollToBottom(i)},10),i},n.vsplit=function(e){go.Visual.Pane.split("vertical",null,e)},n.hsplit=function(e){go.Visual.Pane.split("horizontal",null,e)},n.relocate=function(e,t){},n.minimize=function(e){},n.remove=function(){r.removeElement(n.node)},n}return new GateOne.Visual.Pane(e,t)},pane:function(e,t,n){},toggleOverlay:function(){logDebug("toggleOverlay()");var e=go.Visual;e.overlay?e.disableOverlay():e.enableOverlay()},enableOverlay:function(){logDebug("enableOverlay()");var e=GateOne,t=e.Utils,n=e.Visual,r=t.getNode("#"+e.prefs.prefix+"overlay"),i=t.createElement("div",{id:"overlay","class":"✈overlay"});if(r)return!0;i.onmousedown=function(e){t.removeElement(i),n.overlay=!1},e.node.appendChild(i),n.overlay=!0,e.Events.trigger("go:overlay_enabled")},disableOverlay:function(){logDebug("disableOverlay()");var e=GateOne,t=e.Utils,n=e.Visual,r=t.getNode("#"+e.prefs.prefix+"overlay");r&&(t.removeElement(r),n.overlay=!1,e.Events.trigger("go:overlay_disabled"))},fitWindow:function(e){var t=GateOne.Terminal.terminals[e].node,n=GateOne.Terminal.terminals[e].screenNode;if(GateOne.prefs.rows){var r=n.offsetHeight;if(r<document.documentElement.clientHeight){var i=document.documentElement.clientHeight/(document.documentElement.clientHeight-r),s="scale("+i+", "+i+")";GateOne.Visual.applyTransform(t,s)}else r>document.documentElement.clientHeight}},nodeThumb:function(e,t){var n=go.Utils,r=n.getNode(e).cloneNode(!0);return go.Visual.applyTransform(r,"scale("+t+")"),r.id=r.id+"_mini",r}}),GateOne.Base.module(GateOne,"Storage","1.0",["Base"]),GateOne.Storage.databases={},GateOne.Storage._models={},GateOne.Storage.dbObject=function(e){if(this instanceof GateOne.Storage.dbObject){var t=this;return t.DB=e,t.get=function(e,n,r){if(indexedDB){var i=GateOne.Storage.databases[t.DB],s=i.transaction(e,"readonly"),o=s.objectStore(e),u=o.get(n);s.oncomplete=function(e){r(u.result)}}else{var o=JSON.parse(localStorage[go.prefs.prefix+t.DB])[e],a=o.data[n];r(a)}},t.put=function(e,n,r){if(indexedDB){var i=GateOne.Storage.databases[t.DB],s=i.transaction([e],"readwrite"),o=s.objectStore(e),u=o.put(n);u.onsuccess=function(e){r&&r(n)},u.onerror=GateOne.Storage.onerror}else{var i=JSON.parse(localStorage[go.prefs.prefix+t.DB]),a=[];for(var f in i[e].data)a.push(i[e].data[f]);r&&r(a)}},t.del=function(e,n,r){if(indexedDB)try{var i=GateOne.Storage.databases[t.DB],s=i.transaction(e,"readwrite").objectStore(e)["delete"](n)}catch(o){logDebug(n+" does not exist in "+e)}else{var i=JSON.parse(localStorage[go.prefs.prefix+t.DB]);delete i[e].data[n],localStorage[go.prefs.prefix+t.DB]==JSON.stringify(i)}r&&r()},t.dump=function(e,n){if(indexedDB){var r=GateOne.Storage.databases[t.DB],i=r.transaction(e,"readonly"),s=i.objectStore(e),o=IDBKeyRange.lowerBound(0),u=s.openCursor(o),a=[];u.onsuccess=function(e){var t=e.target.result;if(!t)return;a.push(t.value),t["continue"]()},i.oncomplete=function(e){n(a)},u.onerror=GateOne.Storage.onerror}else{var r=JSON.parse(localStorage[go.prefs.prefix+t.DB]);n(r[e].data)}},t}return new GateOne.Storage.dbObject(e)},GateOne.Storage.fileCacheModel={js:{keyPath:"filename"},css:{keyPath:"filename"},theme:{keyPath:"filename"},print:{keypath:"filename"}},GateOne.Storage.deferLoadingTimers={},GateOne.Storage.loadedFiles={},GateOne.Storage.failedRequirementsCounter={},GateOne.Storage.fileCacheReady=!1,GateOne.Base.update(GateOne.Storage,{init:function(){go.Net.addAction("go:file_sync",go.Storage.fileSyncAction),go.Net.addAction("go:cache_expired",go.Storage.cacheExpiredAction),go.Storage.openDB("fileCache",go.Storage.cacheReady,go.Storage.fileCacheModel)},cacheReady:function(){go.Storage.fileCacheReady=!0},cacheJS:function(e){if(!go.Storage.databases.fileCache){setTimeout(function(){go.Storage.cacheJS(e)},10);return}logDebug("cacheJS caching "+e.filename);var t=GateOne.Storage.dbObject("fileCache");t.put("js",e)},uncacheJS:function(e){if(!go.Storage.databases.fileCache){setTimeout(function(){go.Storage.uncacheJS(e)},10);return}var t=GateOne.Storage.dbObject("fileCache");t.del("js",e.filename)},cacheStyle:function(e,t){if(!go.Storage.databases.fileCache){setTimeout(function(){go.Storage.cacheStyle(e,t)},10);return}logDebug("cacheStyle caching "+e.filename);var n=GateOne.Storage.dbObject("fileCache");n.put(t,e)},uncacheStyle:function(e,t){if(!go.Storage.databases.fileCache){setTimeout(function(){go.Storage.uncacheStyle(e,t)},10);return}var n=GateOne.Storage.dbObject("fileCache");n.del(t,e.filename)},cacheExpiredAction:function(e){var t=GateOne.Storage.dbObject("fileCache"),n=e.filenames,r=e.kind;n.forEach(function(e){logDebug("Deleting expired file: "+e),t.del(r,e)})},fileSyncAction:function(e){var t=go.Storage,n=go.Utils;if(!go.Storage.fileCacheReady){t.deferLoadingTimers[e.files[0].filename]&&(clearTimeout(t.deferLoadingTimers[e.files[0].filename]),t.deferLoadingTimers[e.files[0].filename]=null),t.deferLoadingTimers[e.files[0].filename]=setTimeout(function(){t.fileSyncAction(e),t.deferLoadingTimers[e.files[0].filename]=null},10);return}var r=e.files,i=t.dbObject("fileCache"),s=function(r,i){if(i)if(r["mtime"]!=i["mtime"])logDebug(r.filename+" is cached but is older than what's on the server.  Requesting an updated version..."),go.ws.send(JSON.stringify({"go:file_request":r.filename}));else{logDebug("Loading "+r.filename+" from the cache...");if(r["kind"]=="js")if(r.requires){logDebug("This file requires a certain script be loaded first: "+r.requires),t.failedRequirementsCounter[r.filename]||(t.failedRequirementsCounter[r.filename]=0);if(!t.loadedFiles[r.requires]){setTimeout(function(){if(t.failedRequirementsCounter[r.filename]>=20){logError("Failed to load "+r.filename+".  Took too long waiting for "+r.requires);return}t.fileSyncAction(e),t.failedRequirementsCounter[r.filename]+=1},100);return}logDebug("Dependency loaded!");var s={result:"Success",filename:i.filename,data:i.data,element_id:r.element_id};n.loadJSAction(s,!0)}else{var s={result:"Success",filename:i.filename,data:i.data,element_id:r.element_id};n.loadJSAction(s,!0)}else if(r["kind"]=="css"){var s={result:"Success",css:!0,kind:i.kind,filename:i.filename,data:i.data,element_id:r.element_id,media:i.media};n.loadStyleAction(s,!0)}}else logDebug(r.filename+" is not cached.  Requesting..."),go.ws.send(JSON.stringify({"go:file_request":r.filename}))};r.forEach(function(e){logDebug("fileSyncAction() checking: "+e.filename);var t=n.partial(s,e);i.get(e.kind,e.filename,t)});var o=function(e,t){logDebug("cleanupFiles()");var n=[];t.forEach(function(e){n.push(e.filename)}),n.length&&go.ws.send(JSON.stringify({"go:cache_cleanup":{filenames:n,kind:e}}))},u=n.partial(o,"js"),a=n.partial(o,"css");t.cacheCleanupTimer&&(clearTimeout(t.cacheCleanupTimer),t.cacheCleanupTimer=null),t.cacheCleanupTimer=setTimeout(function(){i.dump("js",u),i.dump("css",a),t.cacheCleanupTimer=null},1e3)},onerror:function(e){logError("GateOne.Storage.onerror:"),logError(e)},_upgradeDB:function(e,t,n){logDebug("upgradeDB("+e+")");try{var r=GateOne.Storage._models[e];if(!r)return logError("You must create a database model before creating a new database."),!1;for(var i in r)var s=GateOne.Storage.databases[e].createObjectStore(i,r[i])}catch(o){}t.oncomplete=function(t){n&&n(GateOne.Storage.dbObject(e))}},openDB:function(e,t,n,r){GateOne.Storage._models[e]?GateOne.Storage._models[e]!=n&&(logDebug("Model difference!"),logDebug(n),logDebug(GateOne.Storage._models[e])):GateOne.Storage._models[e]=n;if(indexedDB){logDebug("GateOne.Storage.openDB(): Opening indexedDB: "+e);var i=r||1,s=indexedDB.open(e,i);s.onsuccess=function(r){logDebug("GateOne.Storage.openDB(): openRequest.onsuccess"),GateOne.Storage.databases[e]=r.target.result;var s;for(var o in n)if(!GateOne.Storage.databases[e].objectStoreNames.contains(o)){s=!0;break}i!=GateOne.Storage.databases[e].version&&(s=!0);if(s){logInfo("GateOne.Storage.openDB(): Database version mismatch or missing store.  Creating/upgrading Database.");if(typeof GateOne.Storage.databases[e].setVersion=="function"){logDebug("GateOne.Storage.openDB(): Using db.setVersion()");var u=GateOne.Storage.databases[e].setVersion(i);u.onfailure=GateOne.Storage.onerror,u.onsuccess=function(n){logDebug("GateOne.Storage.openDB(): setVrequest success"),GateOne.Storage._upgradeDB(e,u.transaction,t)}}}else t&&(logDebug("GateOne.Storage.openDB(): No database upgrade necessary.  Calling callback..."),t(GateOne.Storage.dbObject(e)))},s.onupgradeneeded=function(n){logDebug("GateOne.Storage.openDB(): openRequest.onupgradeneeded()"),GateOne.Storage.databases[e]=n.target.result,GateOne.Storage._upgradeDB(e,s.transaction,t)},s.onfailure=GateOne.Storage.onerror}else{logDebug("GateOne.Storage.openDB(): IndexedDB is unavailable.  Falling back to localStorage...");if(!localStorage[go.prefs.prefix+e]){var o={};for(var u in n)o[u]={autoIncrement:0,data:{}};localStorage[go.prefs.prefix+e]=JSON.stringify(o)}t&&t(GateOne.Storage.dbObject(e))}},clearDatabase:function(e,t){logDebug("clearDatabase()");if(indexedDB){logDebug("clearing indexedDB: "+e);var n=GateOne.Storage.databases[e],r=n.transaction(t,"readwrite"),i=r.objectStore(t),s=i.clear();r.oncomplete=function(t){logDebug("store deleted");var n=indexedDB.deleteDatabase(e);n.onsuccess=function(e){logDebug("database deleted")},n.onerror=GateOne.Storage.onerror}}else delete localStorage[go.prefs.prefix+e]}}),window.GateOne=GateOne}(window),function(e,t){"use strict";var n=GateOne,r=n.Utils,i=n.Visual,s=n.prefs.prefix,o=n.i18n.gettext,u=n.Logging.logFatal,a=n.Logging.logError,f=n.Logging.logWarning,l=n.Logging.logInfo,c=n.Logging.logDebug;GateOne.Base.module(GateOne,"User","1.1",["Base","Utils","Visual"]),GateOne.User.userLoginCallbacks=[],GateOne.Base.update(GateOne.User,{init:function(){s=n.prefs.prefix;var e=r.getNode("#"+s+"panel_prefs"),t=r.getNode("#"+s+"prefs_form"),i=r.createElement("div",{id:"user_info","class":"✈user_info"}),o=r.createElement("span",{id:"user_info_id"}),u=r.createElement("a",{id:"user_info_logout"});t&&(u.innerHTML="Sign Out",u.onclick=function(e){e.preventDefault(),n.User.logout()},i.appendChild(o),i.appendChild(u),e.insertBefore(i,t),u.insertAdjacentHTML("beforeBegin","("),u.insertAdjacentHTML("afterEnd",")")),n.Net.addAction("go:gateone_user",n.User.storeSession),n.Net.addAction("go:set_username",n.User.setUsername),n.Net.addAction("go:applications",n.User.applicationsAction)},setUsername:function(e){var t=r.getNode("#"+s+"user_info_id");c("setUsername("+e+")"),n.User.username=e,t&&(t.innerHTML=e+" "),n.Events.trigger("go:user_login",e),n.User.userLoginCallbacks.length&&(n.Logging.deprecated("userLoginCallbacks","Use GateOne.Events.on('go:user_login', func) instead."),n.User.userLoginCallbacks.forEach(function(t){t(e)}))},logout:function(t){for(var o in localStorage)r.startsWith(s,o)&&delete localStorage[o];t?t="":t=n.prefs.url,n.Events.trigger("go:user_logout",n.User.username),r.xhrGet(n.prefs.url+"auth?logout=True&redirect="+t,function(t){c("Logout Response: "+t);var n=t.replace(/:\/\/(.*@)?/g,"://"+r.randomString(8)+"@");i.displayMessage("You have been logged out.  Redirecting to: "+n),setTimeout(function(){e.location.href=n},2e3)})},storeSession:function(e){localStorage[GateOne.prefs.prefix+"gateone_user"]=e},applicationsAction:function(e){GateOne.User.applications=e,GateOne.Events.trigger("go:applications",e)},preference:function(e,t,r){var i,s,o,u=n.Utils,a=n.User,f=n.Events,l=n.prefs.prefix,c=u.getNode("#"+l+"prefs_list"),h=u.getNode("#"+l+"prefs_list_ul"),p=u.createElement("ul",{"class":"✈sub1"}),d=u.getNode("#"+l+"prefs_content"),v=u.createElement("div",{"class":"✈prefs_content_item"}),m=u.createElement("li"),g=function(e){var t=this,n=a.prefsItems[t.title],r=u.toArray(u.getNodes(".✈prefs_content_item")),i=u.toArray(u.getNodes("#"+l+"prefs_list_ul li"));r.forEach(function(e){e.style.display="none"}),i.forEach(function(e){e.classList.remove("✈active")}),setTimeout(function(){v.style.display="",t.classList.add("✈active")},10)};e.split(":").length>1&&(i=e.split(":")[0],e=e.split(":")[1]),m.innerHTML=e,m.title=e,m.addEventListener("click",g,!1),i?(s=u.getNode("#"+l+"prefs_list_ul [title="+i+"]"),o=s.querySelector("ul"),o||(u.insertAfter(p,s),o=p),o.appendChild(m)):h.appendChild(m),a.prefsItems||(a.prefsItems={}),v.style.display="none",a.prefsItems[e]=v,typeof t=="string"?v.innerHTML=t:v.appendChild(t),d.appendChild(v),r&&f.on("go:save_prefs",r)}}),GateOne.Base.module(GateOne,"Events","1.0",["Base","Utils"]),GateOne.Events.callbacks={},GateOne.Base.update(GateOne.Events,{init:{},_setupCallbacks:function(e){var n=this;e.__parent__||a("_setupCallbacks: Cannot attach to provided function (no __parent__!).");var r=function(){var i=arguments,s=null;r.callBefore.forEach(function(e){var n=e.context||this,r=e.callback.apply(n,i);r!==t&&(i=r)});var o=e.apply(n,i);return r.callAfter.forEach(function(e){var t=e.context||this;typeof e.callback=="function"&&(s=e.callback.call(t,o))}),s!==t&&(o=s),o};return r.callBefore=[],r.callAfter=[],e.__parent__[e.__name__]=r,r},before:function(e,t,n){var r=GateOne.Events,i={callback:t,context:n};return e.callBefore||(e=r._setupCallbacks(e)),e.callBefore.push(i),e},after:function(e,t,n){var r=GateOne.Events,i={callback:t,context:n};return e.callAfter||(e=r._setupCallbacks(e)),e.callAfter.push(i),e},on:function(e,t,n,r){var i=GateOne.Events;return e.split(/\s+/).forEach(function(e){var s=i.callbacks[e],o={callback:t,context:n,times:r};s||(s=i.callbacks[e]=[]),s.push(o)}),this},off:function(e,t,n){var r=GateOne.Events,i,s,o;if(!arguments.length)r.callbacks={};else{i=e?e.split(/\s+/):keys(r.callbacks);for(s in i){var u=i[s],a=r.callbacks[u];if(a){var f=[];for(o in a)t&&a[o].callback.toString()==t.toString()?n&&a[o].context!=n?f.push(a[o]):n==null&&a[o].context&&f.push(a[o]):n&&a[o].context!=n&&f.push(a[o])}r.callbacks[u]=f}}return this},once:function(e,t,n){return GateOne.Events.on(e,t,n,1)},trigger:function(e){c("Triggering "+e);var t=GateOne.Events,n=Array.prototype.slice.call(arguments,1);return e.split(/\s+/).forEach(function(r){var i=t.callbacks[r];i||(r=r.split(":")[1],r&&(i=t.callbacks[r]),i&&GateOne.Logging.deprecated("Event: "+r,"Events now use prefixes such as 'go:' or 'terminal:'.")),i&&i.forEach(function(r){r.callback.apply(r.context||this,n),r.times&&(r.times-=1,r.times==0&&t.off(e,r.callback,r.context))})}),this}}),n.Icons.close='<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" height="18" width="18" viewBox="0 0 18 18" version="1.1" xmlns:cc="http://creativecommons.org/ns#" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:dc="http://purl.org/dc/elements/1.1/"><defs><linearGradient id="closeGradient" y2="252.75" gradientUnits="userSpaceOnUse" y1="232.75" x2="487.8" x1="487.8"><stop class="✈stop1" offset="0"/><stop class="✈stop2" offset="0.4944"/><stop class="✈stop3" offset="0.5"/><stop class="✈stop4" offset="1"/></linearGradient></defs><metadata><rdf:RDF><cc:Work rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/><dc:title/></cc:Work></rdf:RDF></metadata><g transform="matrix(1.115933,0,0,1.1152416,-461.92317,-695.12248)"><g transform="translate(-61.7655,388.61318)" fill="url(#closeGradient)"><polygon points="483.76,240.02,486.5,242.75,491.83,237.42,489.1,234.68"/><polygon points="478.43,250.82,483.77,245.48,481.03,242.75,475.7,248.08"/><polygon points="491.83,248.08,486.5,242.75,483.77,245.48,489.1,250.82"/><polygon points="475.7,237.42,481.03,242.75,483.76,240.02,478.43,234.68"/><polygon points="483.77,245.48,486.5,242.75,483.76,240.02,481.03,242.75"/><polygon points="483.77,245.48,486.5,242.75,483.76,240.02,481.03,242.75"/></g></g></svg>',n.Icons.application='<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" height="18" width="18" viewBox="0 0 18 18" version="1.1" xmlns:cc="http://creativecommons.org/ns#" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:dc="http://purl.org/dc/elements/1.1/"><defs><linearGradient id="infoGradient" y2="294.5" gradientUnits="userSpaceOnUse" x2="253.59" gradientTransform="translate(244.48201,276.279)" y1="276.28" x1="253.59"><stop class="✈stop1" offset="0"/><stop class="✈stop2" offset="0.4944"/><stop class="✈stop3" offset="0.5"/><stop class="✈stop4" offset="1"/></linearGradient></defs><metadata><rdf:RDF><cc:Work rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/><dc:title/></cc:Work></rdf:RDF></metadata><g transform="translate(-396.60679,-820.39654)"><g transform="translate(152.12479,544.11754)"><path fill="url(#infoGradient)" d="m257.6,278.53c-3.001-3-7.865-3-10.867,0-3,3.001-3,7.868,0,10.866,2.587,2.59,6.561,2.939,9.53,1.062l4.038,4.039,2.397-2.397-4.037-4.038c1.878-2.969,1.527-6.943-1.061-9.532zm-1.685,9.18c-2.07,2.069-5.426,2.069-7.494,0-2.071-2.069-2.071-5.425,0-7.494,2.068-2.07,5.424-2.07,7.494,0,2.068,2.069,2.068,5.425,0,7.494z"/></g></g></svg>',GateOne.Icons.prefs='<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" height="18" width="18" viewBox="0 0 18 18" version="1.1" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/"><defs><linearGradient id="prefsGradient" x1="85.834" gradientUnits="userSpaceOnUse" x2="85.834" gradientTransform="translate(288.45271,199.32483)" y1="363.23" y2="388.56"><stop class="✈stop1" offset="0"/><stop class="✈stop2" offset="0.4944"/><stop class="✈stop3" offset="0.5"/><stop class="✈stop4" offset="1"/></linearGradient></defs><metadata><rdf:RDF><cc:Work rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/><dc:title/></cc:Work></rdf:RDF></metadata><g transform="matrix(0.71050762,0,0,0.71053566,-256.93092,-399.71681)"><path fill="url(#prefsGradient)" d="m386.95,573.97c0-0.32-0.264-0.582-0.582-0.582h-1.069c-0.324,0-0.662-0.25-0.751-0.559l-1.455-3.395c-0.155-0.277-0.104-0.69,0.123-0.918l0.723-0.723c0.227-0.228,0.227-0.599,0-0.824l-1.74-1.741c-0.226-0.228-0.597-0.228-0.828,0l-0.783,0.787c-0.23,0.228-0.649,0.289-0.931,0.141l-2.954-1.18c-0.309-0.087-0.561-0.423-0.561-0.742v-1.096c0-0.319-0.264-0.581-0.582-0.581h-2.464c-0.32,0-0.583,0.262-0.583,0.581v1.096c0,0.319-0.252,0.657-0.557,0.752l-3.426,1.467c-0.273,0.161-0.683,0.106-0.912-0.118l-0.769-0.77c-0.226-0.226-0.597-0.226-0.824,0l-1.741,1.742c-0.229,0.228-0.229,0.599,0,0.825l0.835,0.839c0.23,0.228,0.293,0.642,0.145,0.928l-1.165,2.927c-0.085,0.312-0.419,0.562-0.742,0.562h-1.162c-0.319,0-0.579,0.262-0.579,0.582v2.463c0,0.322,0.26,0.585,0.579,0.585h1.162c0.323,0,0.66,0.249,0.753,0.557l1.429,3.369c0.164,0.276,0.107,0.688-0.115,0.916l-0.802,0.797c-0.226,0.227-0.226,0.596,0,0.823l1.744,1.741c0.227,0.228,0.598,0.228,0.821,0l0.856-0.851c0.227-0.228,0.638-0.289,0.925-0.137l2.987,1.192c0.304,0.088,0.557,0.424,0.557,0.742v1.141c0,0.32,0.263,0.582,0.583,0.582h2.464c0.318,0,0.582-0.262,0.582-0.582v-1.141c0-0.318,0.25-0.654,0.561-0.747l3.34-1.418c0.278-0.157,0.686-0.103,0.916,0.122l0.753,0.758c0.227,0.225,0.598,0.225,0.825,0l1.743-1.744c0.227-0.226,0.227-0.597,0-0.822l-0.805-0.802c-0.223-0.228-0.285-0.643-0.134-0.926l1.21-3.013c0.085-0.31,0.423-0.559,0.747-0.562h1.069c0.318,0,0.582-0.262,0.582-0.582v-2.461zm-12.666,5.397c-2.29,0-4.142-1.855-4.142-4.144s1.852-4.142,4.142-4.142c2.286,0,4.142,1.854,4.142,4.142s-1.855,4.144-4.142,4.144z"/></g></svg>',GateOne.Icons.back_arrow='<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" height="18" width="18" viewBox="0 0 18 18" version="1.1" xmlns:cc="http://creativecommons.org/ns#" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:dc="http://purl.org/dc/elements/1.1/"><defs><linearGradient id="backGradient" y2="449.59" gradientUnits="userSpaceOnUse" x2="235.79" y1="479.59" x1="235.79"><stop class="✈panelstop1" offset="0"/><stop class="✈panelstop2" offset="0.4944"/><stop class="✈panelstop3" offset="0.5"/><stop class="✈panelstop4" offset="1"/></linearGradient></defs><metadata><rdf:RDF><cc:Work rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/><dc:title/></cc:Work></rdf:RDF></metadata><g transform="translate(-360.00001,-529.36218)"><g transform="matrix(0.6,0,0,0.6,227.52721,259.60639)"><circle d="m 250.78799,464.59299 c 0,8.28427 -6.71572,15 -15,15 -8.28427,0 -15,-6.71573 -15,-15 0,-8.28427 6.71573,-15 15,-15 8.28428,0 15,6.71573 15,15 z" cy="464.59" cx="235.79" r="15" fill="url(#backGradient)"/><path fill="#FFF" d="m224.38,464.18,11.548,6.667v-3.426h5.003c2.459,0,5.24,3.226,5.24,3.226s-0.758-7.587-3.54-8.852c-2.783-1.265-6.703-0.859-6.703-0.859v-3.425l-11.548,6.669z"/></g></g></svg>',GateOne.Icons.panelclose='<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" height="18" width="18" viewBox="0 0 18 18" version="1.1" xmlns:cc="http://creativecommons.org/ns#" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:dc="http://purl.org/dc/elements/1.1/"><metadata><rdf:RDF><cc:Work rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/><dc:title/></cc:Work></rdf:RDF></metadata><g transform="matrix(1.115933,0,0,1.1152416,-461.92317,-695.12248)"><g transform="translate(-61.7655,388.61318)" class="✈svgplain"><polygon points="483.76,240.02,486.5,242.75,491.83,237.42,489.1,234.68"/><polygon points="478.43,250.82,483.77,245.48,481.03,242.75,475.7,248.08"/><polygon points="491.83,248.08,486.5,242.75,483.77,245.48,489.1,250.82"/><polygon points="475.7,237.42,481.03,242.75,483.76,240.02,478.43,234.68"/><polygon points="483.77,245.48,486.5,242.75,483.76,240.02,481.03,242.75"/><polygon points="483.77,245.48,486.5,242.75,483.76,240.02,481.03,242.75"/></g></g></svg>'}(window),GateOne.exportShortcuts=function(){window.go=GateOne,window.prefix=GateOne.prefs.prefix,window.u=GateOne.Utils,window.v=GateOne.Visual,window.E=GateOne.Events,window.t=GateOne.Terminal},!function(e,t,n){function o(e,n){var r=t.createElement(e||"div"),i;for(i in n)r[i]=n[i];return r}function u(e){for(var t=1,n=arguments.length;t<n;t++)e.appendChild(arguments[t]);return e}function f(e,t,n,r){var o=["opacity",t,~~(e*100),n,r].join("-"),u=.01+n/r*100,f=Math.max(1-(1-e)/t*(100-u),e),l=s.substring(0,s.indexOf("Animation")).toLowerCase(),c=l&&"-"+l+"-"||"";return i[o]||(a.insertRule("@"+c+"keyframes "+o+"{"+"0%{opacity:"+f+"}"+u+"%{opacity:"+e+"}"+(u+.01)+"%{opacity:1}"+(u+t)%100+"%{opacity:"+e+"}"+"100%{opacity:"+f+"}"+"}",a.cssRules.length),i[o]=1),o}function l(e,t){var i=e.style,s,o;if(i[t]!==n)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(o=0;o<r.length;o++){s=r[o]+t;if(i[s]!==n)return s}}function c(e,t){for(var n in t)e.style[l(e,n)||n]=t[n];return e}function h(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)e[i]===n&&(e[i]=r[i])}return e}function p(e){var t={x:e.offsetLeft,y:e.offsetTop};while(e=e.offsetParent)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}function v(e){if(!this.spin)return new v(e);this.opts=h(e||{},v.defaults,d)}var r=["webkit","Moz","ms","O"],i={},s,a=function(){var e=o("style",{type:"text/css"});return u(t.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet}(),d={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};v.defaults={},h(v.prototype,{spin:function(e){this.stop();var t=this,n=t.opts,r=t.el=c(o(0,{className:n.className}),{position:n.position,width:0,zIndex:n.zIndex}),i=n.radius+n.length+n.width,u,a;e&&(e.insertBefore(r,e.firstChild||null),a=p(e),u=p(r),c(r,{left:(n.left=="auto"?a.x-u.x+(e.offsetWidth>>1):parseInt(n.left,10)+i)+"px",top:(n.top=="auto"?a.y-u.y+(e.offsetHeight>>1):parseInt(n.top,10)+i)+"px"})),r.setAttribute("aria-role","progressbar"),t.lines(r,t.opts);if(!s){var f=0,l=n.fps,h=l/n.speed,d=(1-n.opacity)/(h*n.trail/100),v=h/n.lines;(function m(){f++;for(var e=n.lines;e;e--){var i=Math.max(1-(f+e*v)%h*d,n.opacity);t.opacity(r,n.lines-e,i,n)}t.timeout=t.el&&setTimeout(m,~~(1e3/l))})()}return t},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=n),this},lines:function(e,t){function i(e,r){return c(o(),{position:"absolute",width:t.length+t.width+"px",height:t.width+"px",background:e,boxShadow:r,transformOrigin:"left",transform:"rotate("+~~(360/t.lines*n+t.rotate)+"deg) translate("+t.radius+"px"+",0)",borderRadius:(t.corners*t.width>>1)+"px"})}var n=0,r;for(;n<t.lines;n++)r=c(o(),{position:"absolute",top:1+~(t.width/2)+"px",transform:t.hwaccel?"translate3d(0,0,0)":"",opacity:t.opacity,animation:s&&f(t.opacity,t.trail,n,t.lines)+" "+1/t.speed+"s linear infinite"}),t.shadow&&u(r,c(i("#000","0 0 4px #000"),{top:"2px"})),u(e,u(r,i(t.color,"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}}),function(){function e(e,t){return o("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}var t=c(o("group"),{behavior:"url(#default#VML)"});!l(t,"transform")&&t.adj?(a.addRule(".spin-vml","behavior:url(#default#VML)"),v.prototype.lines=function(t,n){function s(){return c(e("group",{coordsize:i+" "+i,coordorigin:-r+" "+ -r}),{width:i,height:i})}function l(t,i,o){u(a,u(c(s(),{rotation:360/n.lines*t+"deg",left:~~i}),u(c(e("roundrect",{arcsize:n.corners}),{width:r,height:n.width,left:n.radius,top:-n.width>>1,filter:o}),e("fill",{color:n.color,opacity:n.opacity}),e("stroke",{opacity:0}))))}var r=n.length+n.width,i=2*r,o=-(n.width+n.length)*2+"px",a=c(s(),{position:"absolute",top:o,left:o}),f;if(n.shadow)for(f=1;f<=n.lines;f++)l(f,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(f=1;f<=n.lines;f++)l(f);return u(t,a)},v.prototype.opacity=function(e,t,n,r){var i=e.firstChild;r=r.shadow&&r.lines||0,i&&t+r<i.childNodes.length&&(i=i.childNodes[t+r],i=i&&i.firstChild,i=i&&i.firstChild,i&&(i.opacity=n))}):s=l(t,"animation")}(),typeof define=="function"&&define.amd?define(function(){return v}):e.Spinner=v}(window,document);if(typeof YAHOO=="undefined"||!YAHOO)var YAHOO={};YAHOO.namespace=function(){var e=arguments,t=null,n,r,i;for(n=0;n<e.length;n+=1){i=(""+e[n]).split("."),t=YAHOO;for(r=i[0]=="YAHOO"?1:0;r<i.length;r+=1)t[i[r]]=t[i[r]]||{},t=t[i[r]]}return t},YAHOO.log=function(e,t,n){var r=YAHOO.widget.Logger;return r&&r.log?r.log(e,t,n):!1},YAHOO.register=function(e,t,n){var r=YAHOO.env.modules,i,s,o,u,a;r[e]||(r[e]={versions:[],builds:[]}),i=r[e],s=n.version,o=n.build,u=YAHOO.env.listeners,i.name=e,i.version=s,i.build=o,i.versions.push(s),i.builds.push(o),i.mainClass=t;for(a=0;a<u.length;a+=1)u[a](i);t?(t.VERSION=s,t.BUILD=o):YAHOO.log("mainClass is undefined for module "+e,"warn")},YAHOO.env=YAHOO.env||{modules:[],listeners:[]},YAHOO.env.getVersion=function(e){return YAHOO.env.modules[e]||null},YAHOO.env.parseUA=function(e){var t=function(e){var t=0;return parseFloat(e.replace(/\./g,function(){return t++==1?"":"."}))},n=navigator,r={ie:0,opera:0,gecko:0,webkit:0,chrome:0,mobile:null,air:0,ipad:0,iphone:0,ipod:0,ios:null,android:0,webos:0,caja:n&&n.cajaVersion,secure:!1,os:null},i=e||navigator&&navigator.userAgent,s=window&&window.location,o=s&&s.href,u;return r.secure=o&&o.toLowerCase().indexOf("https")===0,i&&(/windows|win32/i.test(i)?r.os="windows":/macintosh/i.test(i)?r.os="macintosh":/rhino/i.test(i)&&(r.os="rhino"),/KHTML/.test(i)&&(r.webkit=1),u=i.match(/AppleWebKit\/([^\s]*)/),u&&u[1]&&(r.webkit=t(u[1]),/ Mobile\//.test(i)?(r.mobile="Apple",u=i.match(/OS ([^\s]*)/),u&&u[1]&&(u=t(u[1].replace("_","."))),r.ios=u,r.ipad=r.ipod=r.iphone=0,u=i.match(/iPad|iPod|iPhone/),u&&u[0]&&(r[u[0].toLowerCase()]=r.ios)):(u=i.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/),u&&(r.mobile=u[0]),/webOS/.test(i)&&(r.mobile="WebOS",u=i.match(/webOS\/([^\s]*);/),u&&u[1]&&(r.webos=t(u[1]))),/ Android/.test(i)&&(r.mobile="Android",u=i.match(/Android ([^\s]*);/),u&&u[1]&&(r.android=t(u[1])))),u=i.match(/Chrome\/([^\s]*)/),u&&u[1]?r.chrome=t(u[1]):(u=i.match(/AdobeAIR\/([^\s]*)/),u&&(r.air=u[0]))),r.webkit||(u=i.match(/Opera[\s\/]([^\s]*)/),u&&u[1]?(r.opera=t(u[1]),u=i.match(/Version\/([^\s]*)/),u&&u[1]&&(r.opera=t(u[1])),u=i.match(/Opera Mini[^;]*/),u&&(r.mobile=u[0])):(u=i.match(/MSIE\s([^;]*)/),u&&u[1]?r.ie=t(u[1]):(u=i.match(/Gecko\/([^\s]*)/),u&&(r.gecko=1,u=i.match(/rv:([^\s\)]*)/),u&&u[1]&&(r.gecko=t(u[1]))))))),r},YAHOO.env.ua=YAHOO.env.parseUA(),function(){YAHOO.namespace("util","widget","example");if("undefined"!=typeof YAHOO_config){var e=YAHOO_config.listener,t=YAHOO.env.listeners,n=!0,r;if(e){for(r=0;r<t.length;r++)if(t[r]==e){n=!1;break}n&&t.push(e)}}}(),YAHOO.lang=YAHOO.lang||{},function(){var e=YAHOO.lang,t=Object.prototype,n="[object Array]",r="[object Function]",i="[object Object]",s=[],o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&#x60;"},u=["toString","valueOf"],a={isArray:function(e){return t.toString.apply(e)===n},isBoolean:function(e){return typeof e=="boolean"},isFunction:function(e){return typeof e=="function"||t.toString.apply(e)===r},isNull:function(e){return e===null},isNumber:function(e){return typeof e=="number"&&isFinite(e)},isObject:function(t){return t&&(typeof t=="object"||e.isFunction(t))||!1},isString:function(e){return typeof e=="string"},isUndefined:function(e){return typeof e=="undefined"},_IEEnumFix:YAHOO.env.ua.ie?function(n,r){var i,s,o;for(i=0;i<u.length;i+=1)s=u[i],o=r[s],e.isFunction(o)&&o!=t[s]&&(n[s]=o)}:function(){},escapeHTML:function(e){return e.replace(/[&<>"'\/`]/g,function(e){return o[e]})},extend:function(n,r,i){if(!r||!n)throw new Error("extend failed, please check that all dependencies are included.");var s=function(){},o;s.prototype=r.prototype,n.prototype=new s,n.prototype.constructor=n,n.superclass=r.prototype,r.prototype.constructor==t.constructor&&(r.prototype.constructor=r);if(i){for(o in i)e.hasOwnProperty(i,o)&&(n.prototype[o]=i[o]);e._IEEnumFix(n.prototype,i)}},augmentObject:function(t,n){if(!n||!t)throw new Error("Absorb failed, verify dependencies.");var r=arguments,i,s,o=r[2];if(o&&o!==!0)for(i=2;i<r.length;i+=1)t[r[i]]=n[r[i]];else{for(s in n)if(o||!(s in t))t[s]=n[s];e._IEEnumFix(t,n)}return t},augmentProto:function(t,n){if(!n||!t)throw new Error("Augment failed, verify dependencies.");var r=[t.prototype,n.prototype],i;for(i=2;i<arguments.length;i+=1)r.push(arguments[i]);return e.augmentObject.apply(this,r),t},dump:function(t,n){var r,i,s=[],o="{...}",u="f(){...}",a=", ",f=" => ";if(!e.isObject(t))return t+"";if(t instanceof Date||"nodeType"in t&&"tagName"in t)return t;if(e.isFunction(t))return u;n=e.isNumber(n)?n:3;if(e.isArray(t)){s.push("[");for(r=0,i=t.length;r<i;r+=1)e.isObject(t[r])?s.push(n>0?e.dump(t[r],n-1):o):s.push(t[r]),s.push(a);s.length>1&&s.pop(),s.push("]")}else{s.push("{");for(r in t)e.hasOwnProperty(t,r)&&(s.push(r+f),e.isObject(t[r])?s.push(n>0?e.dump(t[r],n-1):o):s.push(t[r]),s.push(a));s.length>1&&s.pop(),s.push("}")}return s.join("")},substitute:function(t,n,r,s){var o,u,a,f,l,c,h=[],p,d=t.length,v="dump",m=" ",g="{",y="}",b,w;for(;;){o=t.lastIndexOf(g,d);if(o<0)break;u=t.indexOf(y,o);if(o+1>u)break;p=t.substring(o+1,u),f=p,c=null,a=f.indexOf(m),a>-1&&(c=f.substring(a+1),f=f.substring(0,a)),l=n[f],r&&(l=r(f,l,c)),e.isObject(l)?e.isArray(l)?l=e.dump(l,parseInt(c,10)):(c=c||"",b=c.indexOf(v),b>-1&&(c=c.substring(4)),w=l.toString(),w===i||b>-1?l=e.dump(l,parseInt(c,10)):l=w):!e.isString(l)&&!e.isNumber(l)&&(l="~-"+h.length+"-~",h[h.length]=p),t=t.substring(0,o)+l+t.substring(u+1),s===!1&&(d=o-1)}for(o=h.length-1;o>=0;o-=1)t=t.replace(new RegExp("~-"+o+"-~"),"{"+h[o]+"}","g");return t},trim:function(e){try{return e.replace(/^\s+|\s+$/g,"")}catch(t){return e}},merge:function(){var t={},n=arguments,r=n.length,i;for(i=0;i<r;i+=1)e.augmentObject(t,n[i],!0);return t},later:function(t,n,r,i,o){t=t||0,n=n||{};var u=r,a=i,f,l;e.isString(r)&&(u=n[r]);if(!u)throw new TypeError("method undefined");return!e.isUndefined(i)&&!e.isArray(a)&&(a=[i]),f=function(){u.apply(n,a||s)},l=o?setInterval(f,t):setTimeout(f,t),{interval:o,cancel:function(){this.interval?clearInterval(l):clearTimeout(l)}}},isValue:function(t){return e.isObject(t)||e.isString(t)||e.isNumber(t)||e.isBoolean(t)}};e.hasOwnProperty=t.hasOwnProperty?function(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}:function(t,n){return!e.isUndefined(t[n])&&t.constructor.prototype[n]!==t[n]},a.augmentObject(e,a,!0),YAHOO.util.Lang=e,e.augment=e.augmentProto,YAHOO.augment=e.augmentProto,YAHOO.extend=e.extend}(),YAHOO.register("yahoo",YAHOO,{version:"2.9.0",build:"2800"}),YAHOO.util.CustomEvent=function(e,t,n,r,i){this.type=e,this.scope=t||window,this.silent=n,this.fireOnce=i,this.fired=!1,this.firedWith=null,this.signature=r||YAHOO.util.CustomEvent.LIST,this.subscribers=[],!this.silent;var s="_YUICEOnSubscribe";e!==s&&(this.subscribeEvent=new YAHOO.util.CustomEvent(s,this,!0)),this.lastError=null},YAHOO.util.CustomEvent.LIST=0,YAHOO.util.CustomEvent.FLAT=1,YAHOO.util.CustomEvent.prototype={subscribe:function(e,t,n){if(!e)throw new Error("Invalid callback for subscriber to '"+this.type+"'");this.subscribeEvent&&this.subscribeEvent.fire(e,t,n);var r=new YAHOO.util.Subscriber(e,t,n);this.fireOnce&&this.fired?this.notify(r,this.firedWith):this.subscribers.push(r)},unsubscribe:function(e,t){if(!e)return this.unsubscribeAll();var n=!1;for(var r=0,i=this.subscribers.length;r<i;++r){var s=this.subscribers[r];s&&s.contains(e,t)&&(this._delete(r),n=!0)}return n},fire:function(){this.lastError=null;var e=[],t=this.subscribers.length,n=[].slice.call(arguments,0),r=!0,i,s=!1;if(this.fireOnce){if(this.fired)return!0;this.firedWith=n}this.fired=!0;if(!t&&this.silent)return!0;!this.silent;var o=this.subscribers.slice();for(i=0;i<t;++i){var u=o[i];if(!u||!u.fn)s=!0;else{r=this.notify(u,n);if(!1===r){!this.silent;break}}}return r!==!1},notify:function(e,t){var n,r=null,i=e.getScope(this.scope),s=YAHOO.util.Event.throwErrors;!this.silent;if(this.signature==YAHOO.util.CustomEvent.FLAT){t.length>0&&(r=t[0]);try{n=e.fn.call(i,r,e.obj)}catch(o){this.lastError=o;if(s)throw o}}else try{n=e.fn.call(i,this.type,t,e.obj)}catch(u){this.lastError=u;if(s)throw u}return n},unsubscribeAll:function(){var e=this.subscribers.length,t;for(t=e-1;t>-1;t--)this._delete(t);return this.subscribers=[],e},_delete:function(e){var t=this.subscribers[e];t&&(delete t.fn,delete t.obj),this.subscribers.splice(e,1)},toString:function(){return"CustomEvent: '"+this.type+"', "+"context: "+this.scope}},YAHOO.util.Subscriber=function(e,t,n){this.fn=e,this.obj=YAHOO.lang.isUndefined(t)?null:t,this.overrideContext=n},YAHOO.util.Subscriber.prototype.getScope=function(e){return this.overrideContext?this.overrideContext===!0?this.obj:this.overrideContext:e},YAHOO.util.Subscriber.prototype.contains=function(e,t){return t?this.fn==e&&this.obj==t:this.fn==e},YAHOO.util.Subscriber.prototype.toString=function(){return"Subscriber { obj: "+this.obj+", overrideContext: "+(this.overrideContext||"no")+" }"},YAHOO.util.Event||(YAHOO.util.Event=function(){var e=!1,t=[],n=[],r=0,i=[],s=0,o={63232:38,63233:40,63234:37,63235:39,63276:33,63277:34,25:9},u=YAHOO.env.ua.ie,a="focusin",f="focusout";return{POLL_RETRYS:500,POLL_INTERVAL:40,EL:0,TYPE:1,FN:2,WFN:3,UNLOAD_OBJ:3,ADJ_SCOPE:4,OBJ:5,OVERRIDE:6,CAPTURE:7,lastError:null,isSafari:YAHOO.env.ua.webkit,webkit:YAHOO.env.ua.webkit,isIE:u,_interval:null,_dri:null,_specialTypes:{focusin:u?"focusin":"focus",focusout:u?"focusout":"blur"},DOMReady:!1,throwErrors:!1,startInterval:function(){this._interval||(this._interval=YAHOO.lang.later(this.POLL_INTERVAL,this,this._tryPreloadAttach,null,!0))},onAvailable:function(e,t,n,s,o){var u=YAHOO.lang.isString(e)?[e]:e;for(var a=0;a<u.length;a+=1)i.push({id:u[a],fn:t,obj:n,overrideContext:s,checkReady:o});r=this.POLL_RETRYS,this.startInterval()},onContentReady:function(e,t,n,r){this.onAvailable(e,t,n,r,!0)},onDOMReady:function(){this.DOMReadyEvent.subscribe.apply(this.DOMReadyEvent,arguments)},_addListener:function(e,r,i,s,o,u){if(!i||!i.call)return!1;if(this._isValidCollection(e)){var a=!0;for(var f=0,l=e.length;f<l;++f)a=this.on(e[f],r,i,s,o)&&a;return a}if(YAHOO.lang.isString(e)){var c=this.getEl(e);if(!c)return this.onAvailable(e,function(){YAHOO.util.Event._addListener(e,r,i,s,o,u)}),!0;e=c}if(!e)return!1;if("unload"==r&&s!==this)return n[n.length]=[e,r,i,s,o],!0;var h=e;o&&(o===!0?h=s:h=o);var p=function(t){return i.call(h,YAHOO.util.Event.getEvent(t,e),s)},d=[e,r,i,p,h,s,o,u],v=t.length;t[v]=d;try{this._simpleAdd(e,r,p,u)}catch(m){return this.lastError=m,this.removeListener(e,r,i),!1}return!0},_getType:function(e){return this._specialTypes[e]||e},addListener:function(e,t,n,r,i){var s=t!=a&&t!=f||!!YAHOO.env.ua.ie?!1:!0;return this._addListener(e,this._getType(t),n,r,i,s)},addFocusListener:function(e,t,n,r){return this.on(e,a,t,n,r)},removeFocusListener:function(e,t){return this.removeListener(e,a,t)},addBlurListener:function(e,t,n,r){return this.on(e,f,t,n,r)},removeBlurListener:function(e,t){return this.removeListener(e,f,t)},removeListener:function(e,r,i){var s,o,u;r=this._getType(r);if(typeof e=="string")e=this.getEl(e);else if(this._isValidCollection(e)){var a=!0;for(s=e.length-1;s>-1;s--)a=this.removeListener(e[s],r,i)&&a;return a}if(!i||!i.call)return this.purgeElement(e,!1,r);if("unload"==r){for(s=n.length-1;s>-1;s--){u=n[s];if(u&&u[0]==e&&u[1]==r&&u[2]==i)return n.splice(s,1),!0}return!1}var f=null,l=arguments[3];"undefined"==typeof l&&(l=this._getCacheIndex(t,e,r,i)),l>=0&&(f=t[l]);if(!e||!f)return!1;var c=f[this.CAPTURE]===!0?!0:!1;try{this._simpleRemove(e,r,f[this.WFN],c)}catch(h){return this.lastError=h,!1}return delete t[l][this.WFN],delete t[l][this.FN],t.splice(l,1),!0},getTarget:function(e,t){var n=e.target||e.srcElement;return this.resolveTextNode(n)},resolveTextNode:function(e){try{if(e&&3==e.nodeType)return e.parentNode}catch(t){return null}return e},getPageX:function(e){var t=e.pageX;return!t&&0!==t&&(t=e.clientX||0,this.isIE&&(t+=this._getScrollLeft())),t},getPageY:function(e){var t=e.pageY;return!t&&0!==t&&(t=e.clientY||0,this.isIE&&(t+=this._getScrollTop())),t},getXY:function(e){return[this.getPageX(e),this.getPageY(e)]},getRelatedTarget:function(e){var t=e.relatedTarget;return t||(e.type=="mouseout"?t=e.toElement:e.type=="mouseover"&&(t=e.fromElement)),this.resolveTextNode(t)},getTime:function(e){if(!e.time){var t=(new Date).getTime();try{e.time=t}catch(n){return this.lastError=n,t}}return e.time},stopEvent:function(e){this.stopPropagation(e),this.preventDefault(e)},stopPropagation:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},getEvent:function(e,t){var n=e||window.event;if(!n){var r=this.getEvent.caller;while(r){n=r.arguments[0];if(n&&Event==n.constructor)break;r=r.caller}}return n},getCharCode:function(e){var t=e.keyCode||e.charCode||0;return YAHOO.env.ua.webkit&&t in o&&(t=o[t]),t},_getCacheIndex:function(e,t,n,r){for(var i=0,s=e.length;i<s;i+=1){var o=e[i];if(o&&o[this.FN]==r&&o[this.EL]==t&&o[this.TYPE]==n)return i}return-1},generateId:function(e){var t=e.id;return t||(t="yuievtautoid-"+s,++s,e.id=t),t},_isValidCollection:function(e){try{return e&&typeof e!="string"&&e.length&&!e.tagName&&!e.alert&&typeof e[0]!="undefined"}catch(t){return!1}},elCache:{},getEl:function(e){return typeof e=="string"?document.getElementById(e):e},clearCache:function(){},DOMReadyEvent:new YAHOO.util.CustomEvent("DOMReady",YAHOO,0,0,1),_load:function(t){if(!e){e=!0;var n=YAHOO.util.Event;n._ready(),n._tryPreloadAttach()}},_ready:function(e){var t=YAHOO.util.Event;t.DOMReady||(t.DOMReady=!0,t.DOMReadyEvent.fire(),t._simpleRemove(document,"DOMContentLoaded",t._ready))},_tryPreloadAttach:function(){if(i.length===0){r=0,this._interval&&(this._interval.cancel(),this._interval=null);return}if(this.locked)return;if(this.isIE&&!this.DOMReady){this.startInterval();return}this.locked=!0;var t=!e;t||(t=r>0&&i.length>0);var n=[],s=function(e,t){var n=e;t.overrideContext&&(t.overrideContext===!0?n=t.obj:n=t.overrideContext),t.fn.call(n,t.obj)},o,u,a,f,l=[];for(o=0,u=i.length;o<u;o+=1){a=i[o];if(a){f=this.getEl(a.id);if(f)if(a.checkReady){if(e||f.nextSibling||!t)l.push(a),i[o]=null}else s(f,a),i[o]=null;else n.push(a)}}for(o=0,u=l.length;o<u;o+=1)a=l[o],s(this.getEl(a.id),a);r--;if(t){for(o=i.length-1;o>-1;o--)a=i[o],(!a||!a.id)&&i.splice(o,1);this.startInterval()}else this._interval&&(this._interval.cancel(),this._interval=null);this.locked=!1},purgeElement:function(e,t,n){var r=YAHOO.lang.isString(e)?this.getEl(e):e,i=this.getListeners(r,n),s,o;if(i)for(s=i.length-1;s>-1;s--){var u=i[s];this.removeListener(r,u.type,u.fn)}if(t&&r&&r.childNodes)for(s=0,o=r.childNodes.length;s<o;++s)this.purgeElement(r.childNodes[s],t,n)},getListeners:function(e,r){var i=[],s;r?r==="unload"?s=[n]:(r=this._getType(r),s=[t]):s=[t,n];var o=YAHOO.lang.isString(e)?this.getEl(e):e;for(var u=0;u<s.length;u+=1){var a=s[u];if(a)for(var f=0,l=a.length;f<l;++f){var c=a[f];c&&c[this.EL]===o&&(!r||r===c[this.TYPE])&&i.push({type:c[this.TYPE],fn:c[this.FN],obj:c[this.OBJ],adjust:c[this.OVERRIDE],scope:c[this.ADJ_SCOPE],index:f})}}return i.length?i:null},_unload:function(e){var r=YAHOO.util.Event,i,s,o,u,a,f=n.slice(),l;for(i=0,u=n.length;i<u;++i){o=f[i];if(o){try{l=window,o[r.ADJ_SCOPE]&&(o[r.ADJ_SCOPE]===!0?l=o[r.UNLOAD_OBJ]:l=o[r.ADJ_SCOPE]),o[r.FN].call(l,r.getEvent(e,o[r.EL]),o[r.UNLOAD_OBJ])}catch(c){}f[i]=null}}o=null,l=null,n=null;if(t){for(s=t.length-1;s>-1;s--){o=t[s];if(o)try{r.removeListener(o[r.EL],o[r.TYPE],o[r.FN],s)}catch(h){}}o=null}try{r._simpleRemove(window,"unload",r._unload),r._simpleRemove(window,"load",r._load)}catch(p){}},_getScrollLeft:function(){return this._getScroll()[1]},_getScrollTop:function(){return this._getScroll()[0]},_getScroll:function(){var e=document.documentElement,t=document.body;return e&&(e.scrollTop||e.scrollLeft)?[e.scrollTop,e.scrollLeft]:t?[t.scrollTop,t.scrollLeft]:[0,0]},regCE:function(){},_simpleAdd:function(){return window.addEventListener?function(e,t,n,r){e.addEventListener(t,n,r)}:window.attachEvent?function(e,t,n,r){e.attachEvent("on"+t,n)}:function(){}}(),_simpleRemove:function(){return window.removeEventListener?function(e,t,n,r){e.removeEventListener(t,n,r)}:window.detachEvent?function(e,t,n){e.detachEvent("on"+t,n)}:function(){}}()}}(),function(){var e=YAHOO.util.Event;e.on=e.addListener,e.onFocus=e.addFocusListener,e.onBlur=e.addBlurListener;if(e.isIE)if(self!==self.top)document.onreadystatechange=function(){document.readyState=="complete"&&(document.onreadystatechange=null,e._ready())};else{YAHOO.util.Event.onDOMReady(YAHOO.util.Event._tryPreloadAttach,YAHOO.util.Event,!0);var t=document.createElement("p");e._dri=setInterval(function(){try{t.doScroll("left"),clearInterval(e._dri),e._dri=null,e._ready(),t=null}catch(r){}},e.POLL_INTERVAL)}else e.webkit&&e.webkit<525?e._dri=setInterval(function(){var t=document.readyState;if("loaded"==t||"complete"==t)clearInterval(e._dri),e._dri=null,e._ready()},e.POLL_INTERVAL):e._simpleAdd(document,"DOMContentLoaded",e._ready);e._simpleAdd(window,"load",e._load),e._simpleAdd(window,"unload",e._unload),e._tryPreloadAttach()}()),YAHOO.util.EventProvider=function(){},YAHOO.util.EventProvider.prototype={__yui_events:null,__yui_subscribers:null,subscribe:function(e,t,n,r){this.__yui_events=this.__yui_events||{};var i=this.__yui_events[e];if(i)i.subscribe(t,n,r);else{this.__yui_subscribers=this.__yui_subscribers||{};var s=this.__yui_subscribers;s[e]||(s[e]=[]),s[e].push({fn:t,obj:n,overrideContext:r})}},unsubscribe:function(e,t,n){this.__yui_events=this.__yui_events||{};var r=this.__yui_events;if(!e){var s=!0;for(var o in r)YAHOO.lang.hasOwnProperty(r,o)&&(s=s&&r[o].unsubscribe(t,n));return s}var i=r[e];return i?i.unsubscribe(t,n):!1},unsubscribeAll:function(e){return this.unsubscribe(e)},createEvent:function(e,t){this.__yui_events=this.__yui_events||{};var n=t||{},r=this.__yui_events,i;if(!r[e]){i=new YAHOO.util.CustomEvent(e,n.scope||this,n.silent,YAHOO.util.CustomEvent.FLAT,n.fireOnce),r[e]=i,n.onSubscribeCallback&&i.subscribeEvent.subscribe(n.onSubscribeCallback),this.__yui_subscribers=this.__yui_subscribers||{};var s=this.__yui_subscribers[e];if(s)for(var o=0;o<s.length;++o)i.subscribe(s[o].fn,s[o].obj,s[o].overrideContext)}return r[e]},fireEvent:function(e){this.__yui_events=this.__yui_events||{};var t=this.__yui_events[e];if(!t)return null;var n=[];for(var r=1;r<arguments.length;++r)n.push(arguments[r]);return t.fire.apply(t,n)},hasEvent:function(e){return this.__yui_events&&this.__yui_events[e]?!0:!1}},function(){var e=YAHOO.util.Event,t=YAHOO.lang;YAHOO.util.KeyListener=function(n,r,i,s){function u(t,n){r.shift||(r.shift=!1),r.alt||(r.alt=!1),r.ctrl||(r.ctrl=!1);if(t.shiftKey==r.shift&&t.altKey==r.alt&&t.ctrlKey==r.ctrl){var i,s=r.keys,u;if(YAHOO.lang.isArray(s))for(var a=0;a<s.length;a++){i=s[a],u=e.getCharCode(t);if(i==u){o.fire(u,t);break}}else u=e.getCharCode(t),s==u&&o.fire(u,t)}}!n||!r||!i,s||(s=YAHOO.util.KeyListener.KEYDOWN);var o=new YAHOO.util.CustomEvent("keyPressed");this.enabledEvent=new YAHOO.util.CustomEvent("enabled"),this.disabledEvent=new YAHOO.util.CustomEvent("disabled"),t.isString(n)&&(n=document.getElementById(n)),t.isFunction(i)?o.subscribe(i):o.subscribe(i.fn,i.scope,i.correctScope),this.enable=function(){this.enabled||(e.on(n,s,u),this.enabledEvent.fire(r)),this.enabled=!0},this.disable=function(){this.enabled&&(e.removeListener(n,s,u),this.disabledEvent.fire(r)),this.enabled=!1},this.toString=function(){return"KeyListener ["+r.keys+"] "+n.tagName+(n.id?"["+n.id+"]":"")}};var n=YAHOO.util.KeyListener;n.KEYDOWN="keydown",n.KEYUP="keyup",n.KEY={ALT:18,BACK_SPACE:8,CAPS_LOCK:20,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,META:224,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PRINTSCREEN:44,RIGHT:39,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,UP:38}}(),YAHOO.register("event",YAHOO.util.Event,{version:"2.9.0",build:"2800"}),function(){YAHOO.env._id_counter=YAHOO.env._id_counter||0;var e=YAHOO.util,t=YAHOO.lang,n=YAHOO.env.ua,r=YAHOO.lang.trim,i={},s={},o=/^t(?:able|d|h)$/i,u=/color$/i,a=window.document,f=a.documentElement,l="ownerDocument",c="defaultView",h="documentElement",p="compatMode",d="offsetLeft",v="offsetTop",m="offsetParent",g="parentNode",y="nodeType",b="tagName",w="scrollLeft",E="scrollTop",S="getBoundingClientRect",x="getComputedStyle",T="currentStyle",N="CSS1Compat",C="BackCompat",k="class",L="className",A="",O=" ",M="(?:^|\\s)",_="(?= |$)",D="g",P="position",H="fixed",B="relative",j="left",F="top",I="medium",q="borderLeftWidth",R="borderTopWidth",U=n.opera,z=n.webkit,W=n.gecko,X=n.ie;e.Dom={CUSTOM_ATTRIBUTES:f.hasAttribute?{htmlFor:"for",className:k}:{"for":"htmlFor","class":L},DOT_ATTRIBUTES:{checked:!0},get:function(t){var n,r,i,s,o,u,f=null;if(t){if(typeof t=="string"||typeof t=="number"){n=t+"",t=a.getElementById(t),u=t?t.attributes:null;if(t&&u&&u.id&&u.id.value===n)return t;if(t&&a.all){t=null,r=a.all[n];if(r&&r.length)for(s=0,o=r.length;s<o;++s)if(r[s].id===n)return r[s]}}else if(e.Element&&t instanceof e.Element)t=t.get("element");else if(!t.nodeType&&"length"in t){i=[];for(s=0,o=t.length;s<o;++s)i[i.length]=e.Dom.get(t[s]);t=i}f=t}return f},getComputedStyle:function(t,n){if(window[x])return t[l][c][x](t,null)[n];if(t[T])return e.Dom.IE_ComputedStyle.get(t,n)},getStyle:function(t,n){return e.Dom.batch(t,e.Dom._getStyle,n)},_getStyle:function(){if(window[x])return function(t,n){n=n==="float"?n="cssFloat":e.Dom._toCamel(n);var r=t.style[n],i;return r||(i=t[l][c][x](t,null),i&&(r=i[n])),r};if(f[T])return function(t,n){var r;switch(n){case"opacity":r=100;try{r=t.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(i){try{r=t.filters("alpha").opacity}catch(s){}}return r/100;case"float":n="styleFloat";default:return n=e.Dom._toCamel(n),r=t[T]?t[T][n]:null,t.style[n]||r}}}(),setStyle:function(t,n,r){e.Dom.batch(t,e.Dom._setStyle,{prop:n,val:r})},_setStyle:function(){return!window.getComputedStyle&&a.documentElement.currentStyle?function(n,r){var i=e.Dom._toCamel(r.prop),s=r.val;if(n)switch(i){case"opacity":if(s===""||s===null||s===1)n.style.removeAttribute("filter");else if(t.isString(n.style.filter)){n.style.filter="alpha(opacity="+s*100+")";if(!n[T]||!n[T].hasLayout)n.style.zoom=1}break;case"float":i="styleFloat";default:n.style[i]=s}}:function(t,n){var r=e.Dom._toCamel(n.prop),i=n.val;t&&(r=="float"&&(r="cssFloat"),t.style[r]=i)}}(),getXY:function(t){return e.Dom.batch(t,e.Dom._getXY)},_canPosition:function(t){return e.Dom._getStyle(t,"display")!=="none"&&e.Dom._inDoc(t)},_getXY:function(t){var n,r,i,s,o,u,a=Math.round,f=!1;if(e.Dom._canPosition(t)){i=t[S](),s=t[l],n=e.Dom.getDocumentScrollLeft(s),r=e.Dom.getDocumentScrollTop(s),f=[i[j],i[F]];if(o||u)f[0]-=u,f[1]-=o;if(r||n)f[0]+=n,f[1]+=r;f[0]=a(f[0]),f[1]=a(f[1])}return f},getX:function(t){var n=function(t){return e.Dom.getXY(t)[0]};return e.Dom.batch(t,n,e.Dom,!0)},getY:function(t){var n=function(t){return e.Dom.getXY(t)[1]};return e.Dom.batch(t,n,e.Dom,!0)},setXY:function(t,n,r){e.Dom.batch(t,e.Dom._setXY,{pos:n,noRetry:r})},_setXY:function(t,n){var r=e.Dom._getStyle(t,P),i=e.Dom.setStyle,s=n.pos,o=n.noRetry,u=[parseInt(e.Dom.getComputedStyle(t,j),10),parseInt(e.Dom.getComputedStyle(t,F),10)],a,f;a=e.Dom._getXY(t);if(!s||a===!1)return!1;r=="static"&&(r=B,i(t,P,r)),isNaN(u[0])&&(u[0]=r==B?0:t[d]),isNaN(u[1])&&(u[1]=r==B?0:t[v]),s[0]!==null&&i(t,j,s[0]-a[0]+u[0]+"px"),s[1]!==null&&i(t,F,s[1]-a[1]+u[1]+"px"),o||(f=e.Dom._getXY(t),(s[0]!==null&&f[0]!=s[0]||s[1]!==null&&f[1]!=s[1])&&e.Dom._setXY(t,{pos:s,noRetry:!0}))},setX:function(t,n){e.Dom.setXY(t,[n,null])},setY:function(t,n){e.Dom.setXY(t,[null,n])},getRegion:function(t){var n=function(t){var n=!1;return e.Dom._canPosition(t)&&(n=e.Region.getRegion(t)),n};return e.Dom.batch(t,n,e.Dom,!0)},getClientWidth:function(){return e.Dom.getViewportWidth()},getClientHeight:function(){return e.Dom.getViewportHeight()},getElementsByClassName:function(t,n,r,i,s,o){n=n||"*",r=r?e.Dom.get(r):a;if(!r)return[];var u=[],f=r.getElementsByTagName(n),l=e.Dom.hasClass;for(var c=0,h=f.length;c<h;++c)l(f[c],t)&&(u[u.length]=f[c]);return i&&e.Dom.batch(u,i,s,o),u},hasClass:function(t,n){return e.Dom.batch(t,e.Dom._hasClass,n)},_hasClass:function(t,n){var r=!1,i;return t&&n&&(i=e.Dom._getAttribute(t,L)||A,i&&(i=i.replace(/\s+/g,O)),n.exec?r=n.test(i):r=n&&(O+i+O).indexOf(O+n+O)>-1),r},addClass:function(t,n){return e.Dom.batch(t,e.Dom._addClass,n)},_addClass:function(t,n){var i=!1,s;return t&&n&&(s=e.Dom._getAttribute(t,L)||A,e.Dom._hasClass(t,n)||(e.Dom.setAttribute(t,L,r(s+O+n)),i=!0)),i},removeClass:function(t,n){return e.Dom.batch(t,e.Dom._removeClass,n)},_removeClass:function(t,n){var i=!1,s,o,u;return t&&n&&(s=e.Dom._getAttribute(t,L)||A,e.Dom.setAttribute(t,L,s.replace(e.Dom._getClassRegex(n),A)),o=e.Dom._getAttribute(t,L),s!==o&&(e.Dom.setAttribute(t,L,r(o)),i=!0,e.Dom._getAttribute(t,L)===""&&(u=t.hasAttribute&&t.hasAttribute(k)?k:L,t.removeAttribute(u)))),i},replaceClass:function(t,n,r){return e.Dom.batch(t,e.Dom._replaceClass,{from:n,to:r})},_replaceClass:function(t,n){var i,s,o,u=!1,a;return t&&n&&(s=n.from,o=n.to,o?s?s!==o&&(a=e.Dom._getAttribute(t,L)||A,i=(O+a.replace(e.Dom._getClassRegex(s),O+o).replace(/\s+/g,O)).split(e.Dom._getClassRegex(o)),i.splice(1,0,O+o),e.Dom.setAttribute(t,L,r(i.join(A))),u=!0):u=e.Dom._addClass(t,n.to):u=!1),u},generateId:function(t,n){n=n||"yui-gen";var r=function(t){if(t&&t.id)return t.id;var r=n+YAHOO.env._id_counter++;if(t){if(t[l]&&t[l].getElementById(r))return e.Dom.generateId(t,r+n);t.id=r}return r};return e.Dom.batch(t,r,e.Dom,!0)||r.apply(e.Dom,arguments)},isAncestor:function(t,n){t=e.Dom.get(t),n=e.Dom.get(n);var r=!1;return t&&n&&t[y]&&n[y]&&(t.contains&&t!==n?r=t.contains(n):t.compareDocumentPosition&&(r=!!(t.compareDocumentPosition(n)&16))),r},inDocument:function(t,n){return e.Dom._inDoc(e.Dom.get(t),n)},_inDoc:function(t,n){var r=!1;return t&&t[b]&&(n=n||t[l],r=e.Dom.isAncestor(n[h],t)),r},getElementsBy:function(t,n,r,i,s,o,u){n=n||"*",r=r?e.Dom.get(r):a;var f=u?null:[],l;if(r){l=r.getElementsByTagName(n);for(var c=0,h=l.length;c<h;++c)if(t(l[c])){if(u){f=l[c];break}f[f.length]=l[c]}i&&e.Dom.batch(f,i,s,o)}return f},getElementBy:function(t,n,r){return e.Dom.getElementsBy(t,n,r,null,null,null,!0)},batch:function(t,n,r,i){var s=[],o=i?r:null;t=t&&(t[b]||t.item)?t:e.Dom.get(t);if(!t||!n)return!1;if(t[b]||t.length===undefined)return n.call(o,t,r);for(var u=0;u<t.length;++u)s[s.length]=n.call(o||t[u],t[u],r);return s},getDocumentHeight:function(){var t=a[p]!=N||z?a.body.scrollHeight:f.scrollHeight,n=Math.max(t,e.Dom.getViewportHeight());return n},getDocumentWidth:function(){var t=a[p]!=N||z?a.body.scrollWidth:f.scrollWidth,n=Math.max(t,e.Dom.getViewportWidth());return n},getViewportHeight:function(){var e=self.innerHeight,t=a[p];return(t||X)&&!U&&(e=t==N?f.clientHeight:a.body.clientHeight),e},getViewportWidth:function(){var e=self.innerWidth,t=a[p];if(t||X)e=t==N?f.clientWidth:a.body.clientWidth;return e},getAncestorBy:function(t,n){while(t=t[g])if(e.Dom._testElement(t,n))return t;return null},getAncestorByClassName:function(t,n){t=e.Dom.get(t);if(!t)return null;var r=function(t){return e.Dom.hasClass(t,n)};return e.Dom.getAncestorBy(t,r)},getAncestorByTagName:function(t,n){t=e.Dom.get(t);if(!t)return null;var r=function(e){return e[b]&&e[b].toUpperCase()==n.toUpperCase()};return e.Dom.getAncestorBy(t,r)},getPreviousSiblingBy:function(t,n){while(t){t=t.previousSibling;if(e.Dom._testElement(t,n))return t}return null},getPreviousSibling:function(t){return t=e.Dom.get(t),t?e.Dom.getPreviousSiblingBy(t):null},getNextSiblingBy:function(t,n){while(t){t=t.nextSibling;if(e.Dom._testElement(t,n))return t}return null},getNextSibling:function(t){return t=e.Dom.get(t),t?e.Dom.getNextSiblingBy(t):null},getFirstChildBy:function(t,n){var r=e.Dom._testElement(t.firstChild,n)?t.firstChild:null;return r||e.Dom.getNextSiblingBy(t.firstChild,n)},getFirstChild:function(t,n){return t=e.Dom.get(t),t?e.Dom.getFirstChildBy(t):null},getLastChildBy:function(t,n){if(!t)return null;var r=e.Dom._testElement(t.lastChild,n)?t.lastChild:null;return r||e.Dom.getPreviousSiblingBy(t.lastChild,n)},getLastChild:function(t){return t=e.Dom.get(t),e.Dom.getLastChildBy(t)},getChildrenBy:function(t,n){var r=e.Dom.getFirstChildBy(t,n),i=r?[r]:[];return e.Dom.getNextSiblingBy(r,function(e){if(!n||n(e))i[i.length]=e;return!1}),i},getChildren:function(t){return t=e.Dom.get(t),!t,e.Dom.getChildrenBy(t)},getDocumentScrollLeft:function(e){return e=e||a,Math.max(e[h].scrollLeft,e.body.scrollLeft)},getDocumentScrollTop:function(e){return e=e||a,Math.max(e[h].scrollTop,e.body.scrollTop)},insertBefore:function(t,n){return t=e.Dom.get(t),n=e.Dom.get(n),!t||!n||!n[g]?null:n[g].insertBefore(t,n)},insertAfter:function(t,n){return t=e.Dom.get(t),n=e.Dom.get(n),!t||!n||!n[g]?null:n.nextSibling?n[g].insertBefore(t,n.nextSibling):n[g].appendChild(t)},getClientRegion:function(){var t=e.Dom.getDocumentScrollTop(),n=e.Dom.getDocumentScrollLeft(),r=e.Dom.getViewportWidth()+n,i=e.Dom.getViewportHeight()+t;return new e.Region(t,r,i,n)},setAttribute:function(t,n,r){e.Dom.batch(t,e.Dom._setAttribute,{attr:n,val:r})},_setAttribute:function(t,n){var r=e.Dom._toCamel(n.attr),i=n.val;t&&t.setAttribute&&(e.Dom.DOT_ATTRIBUTES[r]&&t.tagName&&t.tagName!="BUTTON"?t[r]=i:(r=e.Dom.CUSTOM_ATTRIBUTES[r]||r,t.setAttribute(r,i)))},getAttribute:function(t,n){return e.Dom.batch(t,e.Dom._getAttribute,n)},_getAttribute:function(t,n){var r;return n=e.Dom.CUSTOM_ATTRIBUTES[n]||n,e.Dom.DOT_ATTRIBUTES[n]?r=t[n]:t&&"getAttribute"in t&&(/^(?:href|src)$/.test(n)?r=t.getAttribute(n,2):r=t.getAttribute(n)),r},_toCamel:function(e){function n(e,t){return t.toUpperCase()}var t=i;return t[e]||(t[e]=e.indexOf("-")===-1?e:e.replace(/-([a-z])/gi,n))},_getClassRegex:function(t){var n;return t!==undefined&&(t.exec?n=t:(n=s[t],n||(t=t.replace(e.Dom._patterns.CLASS_RE_TOKENS,"\\$1"),t=t.replace(/\s+/g,O),n=s[t]=new RegExp(M+t+_,D)))),n},_patterns:{ROOT_TAG:/^body|html$/i,CLASS_RE_TOKENS:/([\.\(\)\^\$\*\+\?\|\[\]\{\}\\])/g},_testElement:function(e,t){return e&&e[y]==1&&(!t||t(e))},_calcBorders:function(t,n){var r=parseInt(e.Dom[x](t,R),10)||0,i=parseInt(e.Dom[x](t,q),10)||0;return W&&o.test(t[b])&&(r=0,i=0),n[0]+=i,n[1]+=r,n}};var V=e.Dom[x];n.opera&&(e.Dom[x]=function(t,n){var r=V(t,n);return u.test(n)&&(r=e.Dom.Color.toRGB(r)),r}),n.webkit&&(e.Dom[x]=function(e,t){var n=V(e,t);return n==="rgba(0, 0, 0, 0)"&&(n="transparent"),n}),n.ie&&n.ie>=8&&(e.Dom.DOT_ATTRIBUTES.type=!0)}(),YAHOO.util.Region=function(e,t,n,r){this.top=e,this.y=e,this[1]=e,this.right=t,this.bottom=n,this.left=r,this.x=r,this[0]=r,this.width=this.right-this.left,this.height=this.bottom-this.top},YAHOO.util.Region.prototype.contains=function(e){return e.left>=this.left&&e.right<=this.right&&e.top>=this.top&&e.bottom<=this.bottom},YAHOO.util.Region.prototype.getArea=function(){return(this.bottom-this.top)*(this.right-this.left)},YAHOO.util.Region.prototype.intersect=function(e){var t=Math.max(this.top,e.top),n=Math.min(this.right,e.right),r=Math.min(this.bottom,e.bottom),i=Math.max(this.left,e.left);return r>=t&&n>=i?new YAHOO.util.Region(t,n,r,i):null},YAHOO.util.Region.prototype.union=function(e){var t=Math.min(this.top,e.top),n=Math.max(this.right,e.right),r=Math.max(this.bottom,e.bottom),i=Math.min(this.left,e.left);return new YAHOO.util.Region(t,n,r,i)},YAHOO.util.Region.prototype.toString=function(){return"Region {top: "+this.top+", right: "+this.right+", bottom: "+this.bottom+", left: "+this.left+", height: "+this.height+", width: "+this.width+"}"},YAHOO.util.Region.getRegion=function(e){var t=YAHOO.util.Dom.getXY(e),n=t[1],r=t[0]+e.offsetWidth,i=t[1]+e.offsetHeight,s=t[0];return new YAHOO.util.Region(n,r,i,s)},YAHOO.util.Point=function(e,t){YAHOO.lang.isArray(e)&&(t=e[1],e=e[0]),YAHOO.util.Point.superclass.constructor.call(this,t,e,t,e)},YAHOO.extend(YAHOO.util.Point,YAHOO.util.Region),function(){var e=YAHOO.util,t="clientTop",n="clientLeft",r="parentNode",i="right",s="hasLayout",o="px",u="opacity",a="auto",f="borderLeftWidth",l="borderTopWidth",c="borderRightWidth",h="borderBottomWidth",p="visible",d="transparent",v="height",m="width",g="style",y="currentStyle",b=/^width|height$/,w=/^(\d[.\d]*)+(em|ex|px|gd|rem|vw|vh|vm|ch|mm|cm|in|pt|pc|deg|rad|ms|s|hz|khz|%){1}?/i,E={get:function(t,n){var r="",i=t[y][n];return n===u?r=e.Dom.getStyle(t,u):!i||i.indexOf&&i.indexOf(o)>-1?r=i:e.Dom.IE_COMPUTED[n]?r=e.Dom.IE_COMPUTED[n](t,n):w.test(i)?r=e.Dom.IE.ComputedStyle.getPixel(t,n):r=i,r},getOffset:function(e,t){var n=e[y][t],r=t.charAt(0).toUpperCase()+t.substr(1),i="offset"+r,s="pixel"+r,u="",f;return n==a?(f=e[i],f===undefined&&(u=0),u=f,b.test(t)&&(e[g][t]=f,e[i]>f&&(u=f-(e[i]-f)),e[g][t]=a)):(!e[g][s]&&!e[g][t]&&(e[g][t]=n),u=e[g][s]),u+o},getBorderWidth:function(e,r){var i=null;e[y][s]||(e[g].zoom=1);switch(r){case l:i=e[t];break;case h:i=e.offsetHeight-e.clientHeight-e[t];break;case f:i=e[n];break;case c:i=e.offsetWidth-e.clientWidth-e[n]}return i+o},getPixel:function(e,t){var n=null,r=e[y][i],s=e[y][t];return e[g][i]=s,n=e[g].pixelRight,e[g][i]=r,n+o},getMargin:function(t,n){var r;return t[y][n]==a?r=0+o:r=e.Dom.IE.ComputedStyle.getPixel(t,n),r},getVisibility:function(e,t){var n;while((n=e[y])&&n[t]=="inherit")e=e[r];return n?n[t]:p},getColor:function(t,n){return e.Dom.Color.toRGB(t[y][n])||d},getBorderColor:function(t,n){var r=t[y],i=r[n]||r.color;return e.Dom.Color.toRGB(e.Dom.Color.toHex(i))}},S={};S.top=S.right=S.bottom=S.left=S[m]=S[v]=E.getOffset,S.color=E.getColor,S[l]=S[c]=S[h]=S[f]=E.getBorderWidth,S.marginTop=S.marginRight=S.marginBottom=S.marginLeft=E.getMargin,S.visibility=E.getVisibility,S.borderColor=S.borderTopColor=S.borderRightColor=S.borderBottomColor=S.borderLeftColor=E.getBorderColor,e.Dom.IE_COMPUTED=S,e.Dom.IE_ComputedStyle=E}(),function(){var e="toString",t=parseInt,n=RegExp,r=YAHOO.util;r.Dom.Color={KEYWORDS:{black:"000",silver:"c0c0c0",gray:"808080",white:"fff",maroon:"800000",red:"f00",purple:"800080",fuchsia:"f0f",green:"008000",lime:"0f0",olive:"808000",yellow:"ff0",navy:"000080",blue:"00f",teal:"008080",aqua:"0ff"},re_RGB:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,re_hex:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,re_hex3:/([0-9A-F])/gi,toRGB:function(e){return r.Dom.Color.re_RGB.test(e)||(e=r.Dom.Color.toHex(e)),r.Dom.Color.re_hex.exec(e)&&(e="rgb("+[t(n.$1,16),t(n.$2,16),t(n.$3,16)].join(", ")+")"),e},toHex:function(e){e=r.Dom.Color.KEYWORDS[e]||e;if(r.Dom.Color.re_RGB.exec(e)){e=[Number(n.$1).toString(16),Number(n.$2).toString(16),Number(n.$3).toString(16)];for(var t=0;t<e.length;t++)e[t].length<2&&(e[t]="0"+e[t]);e=e.join("")}return e.length<6&&(e=e.replace(r.Dom.Color.re_hex3,"$1$1")),e!=="transparent"&&e.indexOf("#")<0&&(e="#"+e),e.toUpperCase()}}}(),YAHOO.register("dom",YAHOO.util.Dom,{version:"2.9.0",build:"2800"}),YAHOO.widget.LogMsg=function(e){this.msg=this.time=this.category=this.source=this.sourceDetail=null;if(e&&e.constructor==Object)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},YAHOO.widget.LogWriter=function(e){if(!e){YAHOO.log("Could not instantiate LogWriter due to invalid source.","error","LogWriter");return}this._source=e},YAHOO.widget.LogWriter.prototype.toString=function(){return"LogWriter "+this._sSource},YAHOO.widget.LogWriter.prototype.log=function(e,t){YAHOO.widget.Logger.log(e,t,this._source)},YAHOO.widget.LogWriter.prototype.getSource=function(){return this._source},YAHOO.widget.LogWriter.prototype.setSource=function(e){if(!e){YAHOO.log("Could not set source due to invalid source.","error",this.toString());return}this._source=e},YAHOO.widget.LogWriter.prototype._source=null,YAHOO.widget.Logger||(YAHOO.widget.Logger={loggerEnabled:!0,_browserConsoleEnabled:!1,categories:["info","warn","error","time","window"],sources:["global"],_stack:[],maxStackEntries:2500,_startTime:(new Date).getTime(),_lastTime:null,_windowErrorsHandled:!1,_origOnWindowError:null},YAHOO.widget.Logger.log=function(e,t,n){if(this.loggerEnabled){t?(t=t.toLocaleLowerCase(),this._isNewCategory(t)&&this._createNewCategory(t)):t="info";var r="global",i=null;if(n){var s=n.indexOf(" ");s>0?(r=n.substring(0,s),i=n.substring(s,n.length)):r=n,this._isNewSource(r)&&this._createNewSource(r)}var o=new Date,u=new YAHOO.widget.LogMsg({msg:e,time:o,category:t,source:r,sourceDetail:i}),a=this._stack,f=this.maxStackEntries;return f&&!isNaN(f)&&a.length>=f&&a.shift(),a.push(u),this.newLogEvent.fire(u),this._browserConsoleEnabled&&this._printToBrowserConsole(u),!0}return!1},YAHOO.widget.Logger.reset=function(){this._stack=[],this._startTime=(new Date).getTime(),this.loggerEnabled=!0,this.log("Logger reset"),this.logResetEvent.fire()},YAHOO.widget.Logger.getStack=function(){return this._stack},YAHOO.widget.Logger.getStartTime=function(){return this._startTime},YAHOO.widget.Logger.disableBrowserConsole=function(){YAHOO.log("Logger output to the function console.log() has been disabled."),this._browserConsoleEnabled=!1},YAHOO.widget.Logger.enableBrowserConsole=function(){this._browserConsoleEnabled=!0,YAHOO.log("Logger output to the function console.log() has been enabled.")},YAHOO.widget.Logger.handleWindowErrors=function(){YAHOO.widget.Logger._windowErrorsHandled?YAHOO.log("Logger handling of window.onerror had already been enabled."):(window.error&&(YAHOO.widget.Logger._origOnWindowError=window.onerror),window.onerror=YAHOO.widget.Logger._onWindowError,YAHOO.widget.Logger._windowErrorsHandled=!0,YAHOO.log("Logger handling of window.onerror has been enabled."))},YAHOO.widget.Logger.unhandleWindowErrors=function(){YAHOO.widget.Logger._windowErrorsHandled?(YAHOO.widget.Logger._origOnWindowError?(window.onerror=YAHOO.widget.Logger._origOnWindowError,YAHOO.widget.Logger._origOnWindowError=null):window.onerror=null,YAHOO.widget.Logger._windowErrorsHandled=!1,YAHOO.log("Logger handling of window.onerror has been disabled.")):YAHOO.log("Logger handling of window.onerror had already been disabled.")},YAHOO.widget.Logger.categoryCreateEvent=new YAHOO.util.CustomEvent("categoryCreate",this,!0),YAHOO.widget.Logger.sourceCreateEvent=new YAHOO.util.CustomEvent("sourceCreate",this,!0),YAHOO.widget.Logger.newLogEvent=new YAHOO.util.CustomEvent("newLog",this,!0),YAHOO.widget.Logger.logResetEvent=new YAHOO.util.CustomEvent("logReset",this,!0),YAHOO.widget.Logger._createNewCategory=function(e){this.categories.push(e),this.categoryCreateEvent.fire(e)},YAHOO.widget.Logger._isNewCategory=function(e){for(var t=0;t<this.categories.length;t++)if(e==this.categories[t])return!1;return!0},YAHOO.widget.Logger._createNewSource=function(e){this.sources.push(e),this.sourceCreateEvent.fire(e)},YAHOO.widget.Logger._isNewSource=function(e){if(e){for(var t=0;t<this.sources.length;t++)if(e==this.sources[t])return!1;return!0}},YAHOO.widget.Logger._printToBrowserConsole=function(e){if(window.console&&console.log||window.opera&&opera.postError){var t=e.category,n=e.category.substring(0,4).toUpperCase(),r=e.time,i;r.toLocaleTimeString?i=r.toLocaleTimeString():i=r.toString();var s=r.getTime(),o=YAHOO.widget.Logger._lastTime?s-YAHOO.widget.Logger._lastTime:0;YAHOO.widget.Logger._lastTime=s;var u=i+" ("+o+"ms): "+e.source+": ";window.console?console.log(u,e.msg):opera.postError(u+e.msg)}},YAHOO.widget.Logger._onWindowError=function(e,t,n){try{YAHOO.widget.Logger.log(e+" ("+t+", line "+n+")","window"),YAHOO.widget.Logger._origOnWindowError&&YAHOO.widget.Logger._origOnWindowError()}catch(r){return!1}},YAHOO.widget.Logger.log("Logger initialized")),function(){function s(e,t){e=i.createElement(e);if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function o(e,t){this._sName=o._index,o._index++,this._init.apply(this,arguments),this.autoRender!==!1&&this.render()}var e=YAHOO.widget.Logger,t=YAHOO.util,n=t.Dom,r=t.Event,i=document;YAHOO.lang.augmentObject(o,{_index:0,ENTRY_TEMPLATE:function(){return s("pre",{className:"yui-log-entry"})}(),VERBOSE_TEMPLATE:"<p><span class='{category}'>{label}</span> {totalTime}ms (+{elapsedTime}) {localTime}:</p><p>{sourceAndDetail}</p><p>{message}</p>",BASIC_TEMPLATE:"<p><span class='{category}'>{label}</span> {totalTime}ms (+{elapsedTime}) {localTime}: {sourceAndDetail}: {message}</p>"}),o.prototype={logReaderEnabled:!0,width:null,height:null,top:null,left:null,right:null,bottom:null,fontSize:null,footerEnabled:!0,verboseOutput:!0,entryFormat:null,newestOnTop:!0,outputBuffer:100,thresholdMax:500,thresholdMin:100,isCollapsed:!1,isPaused:!1,draggable:!0,toString:function(){return"LogReader instance"+this._sName},pause:function(){this.isPaused=!0,this._timeout=null,this.logReaderEnabled=!1,this._btnPause&&(this._btnPause.value="Resume")},resume:function(){this.isPaused=!1,this.logReaderEnabled=!0,this._printBuffer(),this._btnPause&&(this._btnPause.value="Pause")},render:function(){if(this.rendered)return;this._initContainerEl(),this._initHeaderEl(),this._initConsoleEl(),this._initFooterEl(),this._initCategories(),this._initSources(),this._initDragDrop(),e.newLogEvent.subscribe(this._onNewLog,this),e.logResetEvent.subscribe(this._onReset,this),e.categoryCreateEvent.subscribe(this._onCategoryCreate,this),e.sourceCreateEvent.subscribe(this._onSourceCreate,this),this.rendered=!0,this._filterLogs()},destroy:function(){r.purgeElement(this._elContainer,!0),this._elContainer.innerHTML="",this._elContainer.parentNode.removeChild(this._elContainer),this.rendered=!1},hide:function(){this._elContainer.style.display="none"},show:function(){this._elContainer.style.display="block"},collapse:function(){this._elConsole.style.display="none",this._elFt&&(this._elFt.style.display="none"),this._btnCollapse.value="Expand",this.isCollapsed=!0},expand:function(){this._elConsole.style.display="block",this._elFt&&(this._elFt.style.display="block"),this._btnCollapse.value="Collapse",this.isCollapsed=!1},getCheckbox:function(e){return this._filterCheckboxes[e]},getCategories:function(){return this._categoryFilters},showCategory:function(e){var t=this._categoryFilters;if(t.indexOf){if(t.indexOf(e)>-1)return}else for(var n=0;n<t.length;n++)if(t[n]===e)return;this._categoryFilters.push(e),this._filterLogs();var r=this.getCheckbox(e);r&&(r.checked=!0)},hideCategory:function(e){var t=this._categoryFilters;for(var n=0;n<t.length;n++)if(e==t[n]){t.splice(n,1);break}this._filterLogs();var r=this.getCheckbox(e);r&&(r.checked=!1)},getSources:function(){return this._sourceFilters},showSource:function(e){var t=this._sourceFilters;if(t.indexOf){if(t.indexOf(e)>-1)return}else for(var n=0;n<t.length;n++)if(e==t[n])return;t.push(e),this._filterLogs();var r=this.getCheckbox(e);r&&(r.checked=!0)},hideSource:function(e){var t=this._sourceFilters;for(var n=0;n<t.length;n++)if(e==t[n]){t.splice(n,1);break}this._filterLogs();var r=this.getCheckbox(e);r&&(r.checked=!1)},clearConsole:function(){this._timeout=null,this._buffer=[],this._consoleMsgCount=0;var e=this._elConsole;e.innerHTML=""},setTitle:function(e){this._title.innerHTML=this.html2Text(e)},getLastTime:function(){return this._lastTime},formatMsg:function(t){var n=this.entryFormat||(this.verboseOutput?o.VERBOSE_TEMPLATE:o.BASIC_TEMPLATE),r={category:t.category,label:t.category.substring(0,4).toUpperCase(),sourceAndDetail:t.sourceDetail?t.source+" "+t.sourceDetail:t.source,message:this.html2Text(t.msg||t.message||"")};t.time&&t.time.getTime&&(r.localTime=t.time.toLocaleTimeString?t.time.toLocaleTimeString():t.time.toString(),r.elapsedTime=t.time.getTime()-this.getLastTime(),r.totalTime=t.time.getTime()-e.getStartTime());var i=o.ENTRY_TEMPLATE.cloneNode(!0);return this.verboseOutput&&(i.className+=" yui-log-verbose"),i.innerHTML=n.replace(/\{(\w+)\}/g,function(e,t){return t in r?r[t]:""}),i},html2Text:function(e){return e?(e+="",e.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;")):""},_sName:null,_buffer:null,_consoleMsgCount:0,_lastTime:null,_timeout:null,_filterCheckboxes:null,_categoryFilters:null,_sourceFilters:null,_elContainer:null,_elHd:null,_elCollapse:null,_btnCollapse:null,_title:null,_elConsole:null,_elFt:null,_elBtns:null,_elCategoryFilters:null,_elSourceFilters:null,_btnPause:null,_btnClear:null,_init:function(t,r){this._buffer=[],this._filterCheckboxes={},this._lastTime=e.getStartTime();if(r&&r.constructor==Object)for(var i in r)r.hasOwnProperty(i)&&(this[i]=r[i]);this._elContainer=n.get(t),YAHOO.log("LogReader initialized",null,this.toString())},_initContainerEl:function(){if(!this._elContainer||!/div$/i.test(this._elContainer.tagName))this._elContainer=i.body.insertBefore(s("div"),i.body.firstChild),n.addClass(this._elContainer,"yui-log-container");n.addClass(this._elContainer,"yui-log");var e=this._elContainer.style,t=["width","right","top","fontSize"],r,o;for(o=t.length-1;o>=0;--o)r=t[o],this[r]&&(e[r]=this[r]);this.left&&(e.left=this.left,e.right="auto"),this.bottom&&(e.bottom=this.bottom,e.top="auto"),YAHOO.env.ua.opera&&(i.body.style+="")},_initHeaderEl:function(){this._elHd&&(r.purgeElement(this._elHd,!0),this._elHd.innerHTML=""),this._elHd=s("div",{className:"yui-log-hd"}),n.generateId(this._elHd,"yui-log-hd"+this._sName),this._elCollapse=s("div",{className:"yui-log-btns"}),this._btnCollapse=s("input",{type:"button",className:"yui-log-button",value:"Collapse"}),r.on(this._btnCollapse,"click",this._onClickCollapseBtn,this),this._title=s("h4",{innerHTML:"Logger Console"}),this._elCollapse.appendChild(this._btnCollapse),this._elHd.appendChild(this._elCollapse),this._elHd.appendChild(this._title),this._elContainer.appendChild(this._elHd)},_initConsoleEl:function(){this._elConsole&&(r.purgeElement(this._elConsole,!0),this._elConsole.innerHTML=""),this._elConsole=s("div",{className:"yui-log-bd"}),this.height&&(this._elConsole.style.height=this.height),this._elContainer.appendChild(this._elConsole)},_initFooterEl:function(){this.footerEnabled&&(this._elFt&&(r.purgeElement(this._elFt,!0),this._elFt.innerHTML=""),this._elFt=s("div",{className:"yui-log-ft"}),this._elBtns=s("div",{className:"yui-log-btns"}),this._btnPause=s("input",{type:"button",className:"yui-log-button",value:"Pause"}),r.on(this._btnPause,"click",this._onClickPauseBtn,this),this._btnClear=s("input",{type:"button",className:"yui-log-button",value:"Clear"}),r.on(this._btnClear,"click",this._onClickClearBtn,this),this._elCategoryFilters=s("div",{className:"yui-log-categoryfilters"}),this._elSourceFilters=s("div",{className:"yui-log-sourcefilters"}),this._elBtns.appendChild(this._btnPause),this._elBtns.appendChild(this._btnClear),this._elFt.appendChild(this._elBtns),this._elFt.appendChild(this._elCategoryFilters),this._elFt.appendChild(this._elSourceFilters),this._elContainer.appendChild(this._elFt))},_initDragDrop:function(){if(t.DD&&this.draggable&&this._elHd){var e=new t.DD(this._elContainer);e.setHandleElId(this._elHd.id),this._elHd.style.cursor="move"}},_initCategories:function(){this._categoryFilters=[];var t=e.categories;for(var n=0;n<t.length;n++){var r=t[n];this._categoryFilters.push(r),this._elCategoryFilters&&this._createCategoryCheckbox(r)}},_initSources:function(){this._sourceFilters=[];var t=e.sources;for(var n=0;n<t.length;n++){var r=t[n];this._sourceFilters.push(r),this._elSourceFilters&&this._createSourceCheckbox(r)}},_createCategoryCheckbox:function(e){if(this._elFt){var t=s("span",{className:"yui-log-filtergrp"}),i=n.generateId(null,"yui-log-filter-"+e+this._sName),o=s("input",{id:i,className:"yui-log-filter-"+e,type:"checkbox",category:e}),u=s("label",{htmlFor:i,className:e,innerHTML:e});r.on(o,"click",this._onCheckCategory,this),this._filterCheckboxes[e]=o,t.appendChild(o),t.appendChild(u),this._elCategoryFilters.appendChild(t),o.checked=!0}},_createSourceCheckbox:function(e){if(this._elFt){var t=s("span",{className:"yui-log-filtergrp"}),i=n.generateId(null,"yui-log-filter-"+e+this._sName),o=s("input",{id:i,className:"yui-log-filter-"+e,type:"checkbox",source:e}),u=s("label",{htmlFor:i,className:e,innerHTML:e});r.on(o,"click",this._onCheckSource,this),this._filterCheckboxes[e]=o,t.appendChild(o),t.appendChild(u),this._elSourceFilters.appendChild(t),o.checked=!0}},_filterLogs:function(){this._elConsole!==null&&(this.clearConsole(),this._printToConsole(e.getStack()))},_printBuffer:function(){this._timeout=null;if(this._elConsole!==null){var e=this.thresholdMax;e=e&&!isNaN(e)?e:500;if(this._consoleMsgCount<e){var t=[];for(var n=0;n<this._buffer.length;n++)t[n]=this._buffer[n];this._buffer=[],this._printToConsole(t)}else this._filterLogs();this.newestOnTop||(this._elConsole.scrollTop=this._elConsole.scrollHeight)}},_printToConsole:function(e){var t=e.length,n=i.createDocumentFragment(),r=[],s=this.thresholdMin,o=this._sourceFilters.length,u=this._categoryFilters.length,a,f,l,c,h;if(isNaN(s)||s>this.thresholdMax)s=0;a=t>s?t-s:0;for(f=a;f<t;f++){var p=!1,v=!1,m=e[f],g=m.source,y=m.category;for(l=0;l<o;l++)if(g==this._sourceFilters[l]){v=!0;break}if(v)for(l=0;l<u;l++)if(y==this._categoryFilters[l]){p=!0;break}p&&(this._consoleMsgCount===0&&(this._lastTime=m.time.getTime()),c=this.formatMsg(m),typeof c=="string"?r[r.length]=c:n.insertBefore(c,this.newestOnTop?n.firstChild||null:null),this._consoleMsgCount++,this._lastTime=m.time.getTime())}r.length?(r.splice(0,0,this._elConsole.innerHTML),this._elConsole.innerHTML=this.newestOnTop?r.reverse().join(""):r.join("")):n.firstChild&&this._elConsole.insertBefore(n,this.newestOnTop?this._elConsole.firstChild||null:null)},_onCategoryCreate:function(e,t,n){var r=t[0];n._categoryFilters.push(r),n._elFt&&n._createCategoryCheckbox(r)},_onSourceCreate:function(e,t,n){var r=t[0];n._sourceFilters.push(r),n._elFt&&n._createSourceCheckbox(r)},_onCheckCategory:function(e,t){var n=this.category;this.checked?t.showCategory(n):t.hideCategory(n)},_onCheckSource:function(e,t){var n=this.source;this.checked?t.showSource(n):t.hideSource(n)},_onClickCollapseBtn:function(e,t){t.isCollapsed?t.expand():t.collapse()},_onClickPauseBtn:function(e,t){t.isPaused?t.resume():t.pause()},_onClickClearBtn:function(e,t){t.clearConsole()},_onNewLog:function(e,t,n){var r=t[0];n._buffer.push(r),n.logReaderEnabled===!0&&n._timeout===null&&(n._timeout=setTimeout(function(){n._printBuffer()},n.outputBuffer))},_onReset:function(e,t,n){n._filterLogs()}},YAHOO.widget.LogReader=o}(),YAHOO.register("logger",YAHOO.widget.Logger,{version:"2.9.0",build:"2800"}),YAHOO.namespace("tool"),function(){var e=0;YAHOO.tool.TestCase=function(t){this._should={};for(var n in t)this[n]=t[n];YAHOO.lang.isString(this.name)||(this.name="testCase"+e++)},YAHOO.tool.TestCase.prototype={resume:function(e){YAHOO.tool.TestRunner.resume(e)},wait:function(e,t){var n=arguments;throw YAHOO.lang.isFunction(n[0])?new YAHOO.tool.TestCase.Wait(n[0],n[1]):new YAHOO.tool.TestCase.Wait(function(){YAHOO.util.Assert.fail("Timeout: wait() called but resume() never called.")},YAHOO.lang.isNumber(n[0])?n[0]:1e4)},setUp:function(){},tearDown:function(){}},YAHOO.tool.TestCase.Wait=function(e,t){this.segment=YAHOO.lang.isFunction(e)?e:null,this.delay=YAHOO.lang.isNumber(t)?t:0}}(),YAHOO.namespace("tool"),YAHOO.tool.TestSuite=function(e){this.name="",this.items=[],YAHOO.lang.isString(e)?this.name=e:YAHOO.lang.isObject(e)&&YAHOO.lang.augmentObject(this,e,!0),this.name===""&&(this.name=YAHOO.util.Dom.generateId(null,"testSuite"))},YAHOO.tool.TestSuite.prototype={add:function(e){(e instanceof YAHOO.tool.TestSuite||e instanceof YAHOO.tool.TestCase)&&this.items.push(e)},setUp:function(){},tearDown:function(){}},YAHOO.namespace("tool"),YAHOO.tool.TestRunner=function(){function e(e){this.testObject=e,this.firstChild=null,this.lastChild=null,this.parent=null,this.next=null,this.results={passed:0,failed:0,total:0,ignored:0,duration:0},e instanceof YAHOO.tool.TestSuite?(this.results.type="testsuite",this.results.name=e.name):e instanceof YAHOO.tool.TestCase&&(this.results.type="testcase",this.results.name=e.name)}function t(){t.superclass.constructor.apply(this,arguments),this.masterSuite=new YAHOO.tool.TestSuite("yuitests"+(new Date).getTime()),this._cur=null,this._root=null,this._running=!1,this._lastResults=null;var e=[this.TEST_CASE_BEGIN_EVENT,this.TEST_CASE_COMPLETE_EVENT,this.TEST_SUITE_BEGIN_EVENT,this.TEST_SUITE_COMPLETE_EVENT,this.TEST_PASS_EVENT,this.TEST_FAIL_EVENT,this.TEST_IGNORE_EVENT,this.COMPLETE_EVENT,this.BEGIN_EVENT];for(var n=0;n<e.length;n++)this.createEvent(e[n],{scope:this})}return e.prototype={appendChild:function(t){var n=new e(t);return this.firstChild===null?this.firstChild=this.lastChild=n:(this.lastChild.next=n,this.lastChild=n),n.parent=this,n}},YAHOO.lang.extend(t,YAHOO.util.EventProvider,{TEST_CASE_BEGIN_EVENT:"testcasebegin",TEST_CASE_COMPLETE_EVENT:"testcasecomplete",TEST_SUITE_BEGIN_EVENT:"testsuitebegin",TEST_SUITE_COMPLETE_EVENT:"testsuitecomplete",TEST_PASS_EVENT:"pass",TEST_FAIL_EVENT:"fail",TEST_IGNORE_EVENT:"ignore",COMPLETE_EVENT:"complete",BEGIN_EVENT:"begin",getName:function(){return this.masterSuite.name},setName:function(e){this.masterSuite.name=e},isRunning:function(){return this._running},getResults:function(e){return!this._running&&this._lastResults?YAHOO.lang.isFunction(e)?e(this._lastResults):this._lastResults:null},getCoverage:function(e){return!this._running&&typeof _yuitest_coverage=="object"?YAHOO.lang.isFunction(e)?e(_yuitest_coverage):_yuitest_coverage:null},getName:function(){return this.masterSuite.name},setName:function(e){this.masterSuite.name=e},_addTestCaseToTestTree:function(e,t){var n=e.appendChild(t);for(var r in t)r.indexOf("test")===0&&YAHOO.lang.isFunction(t[r])&&n.appendChild(r)},_addTestSuiteToTestTree:function(e,t){var n=e.appendChild(t);for(var r=0;r<t.items.length;r++)t.items[r]instanceof YAHOO.tool.TestSuite?this._addTestSuiteToTestTree(n,t.items[r]):t.items[r]instanceof YAHOO.tool.TestCase&&this._addTestCaseToTestTree(n,t.items[r])},_buildTestTree:function(){this._root=new e(this.masterSuite);for(var t=0;t<this.masterSuite.items.length;t++)this.masterSuite.items[t]instanceof YAHOO.tool.TestSuite?this._addTestSuiteToTestTree(this._root,this.masterSuite.items[t]):this.masterSuite.items[t]instanceof YAHOO.tool.TestCase&&this._addTestCaseToTestTree(this._root,this.masterSuite.items[t])},_handleTestObjectComplete:function(e){YAHOO.lang.isObject(e.testObject)&&(e.parent.results.passed+=e.results.passed,e.parent.results.failed+=e.results.failed,e.parent.results.total+=e.results.total,e.parent.results.ignored+=e.results.ignored,e.parent.results[e.testObject.name]=e.results,e.testObject instanceof YAHOO.tool.TestSuite?(e.testObject.tearDown(),e.results.duration=new Date-e._start,this.fireEvent(this.TEST_SUITE_COMPLETE_EVENT,{testSuite:e.testObject,results:e.results})):e.testObject instanceof YAHOO.tool.TestCase&&(e.results.duration=new Date-e._start,this.fireEvent(this.TEST_CASE_COMPLETE_EVENT,{testCase:e.testObject,results:e.results})))},_next:function(){if(this._cur===null)this._cur=this._root;else if(this._cur.firstChild)this._cur=this._cur.firstChild;else if(this._cur.next)this._cur=this._cur.next;else{while(this._cur&&!this._cur.next&&this._cur!==this._root)this._handleTestObjectComplete(this._cur),this._cur=this._cur.parent;this._cur==this._root?(this._cur.results.type="report",this._cur.results.timestamp=(new Date).toLocaleString(),this._cur.results.duration=new Date-this._cur._start,this._lastResults=this._cur.results,this._running=!1,this.fireEvent(this.COMPLETE_EVENT,{results:this._lastResults}),this._cur=null):(this._handleTestObjectComplete(this._cur),this._cur=this._cur.next)}return this._cur},_run:function(){var e=!1,t=this._next();if(t!==null){this._running=!0,this._lastResult=null;var n=t.testObject;YAHOO.lang.isObject(n)?(n instanceof YAHOO.tool.TestSuite?(this.fireEvent(this.TEST_SUITE_BEGIN_EVENT,{testSuite:n}),t._start=new Date,n.setUp()):n instanceof YAHOO.tool.TestCase&&(this.fireEvent(this.TEST_CASE_BEGIN_EVENT,{testCase:n}),t._start=new Date),typeof setTimeout!="undefined"?setTimeout(function(){YAHOO.tool.TestRunner._run()},0):this._run()):this._runTest(t)}},_resumeTest:function(e){var t=this._cur,n=t.testObject,r=t.parent.testObject;r.__yui_wait&&(clearTimeout(r.__yui_wait),delete r.__yui_wait);var i=(r._should.fail||{})[n],s=(r._should.error||{})[n],o=!1,u=null;try{e.apply(r),i?(u=new YAHOO.util.ShouldFail,o=!0):s&&(u=new YAHOO.util.ShouldError,o=!0)}catch(a){if(a instanceof YAHOO.util.AssertionError)i||(u=a,o=!0);else{if(a instanceof YAHOO.tool.TestCase.Wait){if(YAHOO.lang.isFunction(a.segment)&&YAHOO.lang.isNumber(a.delay)){if(typeof setTimeout=="undefined")throw new Error("Asynchronous tests not supported in this environment.");r.__yui_wait=setTimeout(function(){YAHOO.tool.TestRunner._resumeTest(a.segment)},a.delay)}return}s?YAHOO.lang.isString(s)?a.message!=s&&(u=new YAHOO.util.UnexpectedError(a),o=!0):YAHOO.lang.isFunction(s)?a instanceof s||(u=new YAHOO.util.UnexpectedError(a),o=!0):YAHOO.lang.isObject(s)&&(!(a instanceof s.constructor)||a.message!=s.message)&&(u=new YAHOO.util.UnexpectedError(a),o=!0):(u=new YAHOO.util.UnexpectedError(a),o=!0)}}o?this.fireEvent(this.TEST_FAIL_EVENT,{testCase:r,testName:n,error:u}):this.fireEvent(this.TEST_PASS_EVENT,{testCase:r,testName:n}),r.tearDown();var f=new Date-t._start;t.parent.results[n]={result:o?"fail":"pass",message:u?u.getMessage():"Test passed",type:"test",name:n,duration:f},o?t.parent.results.failed++:t.parent.results.passed++,t.parent.results.total++,typeof setTimeout!="undefined"?setTimeout(function(){YAHOO.tool.TestRunner._run()},0):this._run()},_runTest:function(e){var t=e.testObject,n=e.parent.testObject,r=n[t],i=(n._should.ignore||{})[t];i?(e.parent.results[t]={result:"ignore",message:"Test ignored",type:"test",name:t},e.parent.results.ignored++,e.parent.results.total++,this.fireEvent(this.TEST_IGNORE_EVENT,{testCase:n,testName:t}),typeof setTimeout!="undefined"?setTimeout(function(){YAHOO.tool.TestRunner._run()},0):this._run()):(e._start=new Date,n.setUp(),this._resumeTest(r))},fireEvent:function(e,n){n=n||{},n.type=e,t.superclass.fireEvent.call(this,e,n)},add:function(e){this.masterSuite.add(e)},clear:function(){this.masterSuite=new YAHOO.tool.TestSuite("yuitests"+(new Date).getTime())},resume:function(e){this._resumeTest(e||function(){})},run:function(e){var t=YAHOO.tool.TestRunner;!e&&this.masterSuite.items.length==1&&this.masterSuite.items[0]instanceof YAHOO.tool.TestSuite&&(this.masterSuite=this.masterSuite.items[0]),t._buildTestTree(),t._root._start=new Date,t.fireEvent(t.BEGIN_EVENT),t._run()}}),new t}(),YAHOO.namespace("util"),YAHOO.util.Assert={_formatMessage:function(e,t){var n=e;return YAHOO.lang.isString(e)&&e.length>0?YAHOO.lang.substitute(e,{message:t}):t},fail:function(e){throw new YAHOO.util.AssertionError(this._formatMessage(e,"Test force-failed."))},areEqual:function(e,t,n){if(e!=t)throw new YAHOO.util.ComparisonFailure(this._formatMessage(n,"Values should be equal."),e,t)},areNotEqual:function(e,t,n){if(e==t)throw new YAHOO.util.UnexpectedValue(this._formatMessage(n,"Values should not be equal."),e)},areNotSame:function(e,t,n){if(e===t)throw new YAHOO.util.UnexpectedValue(this._formatMessage(n,"Values should not be the same."),e)},areSame:function(e,t,n){if(e!==t)throw new YAHOO.util.ComparisonFailure(this._formatMessage(n,"Values should be the same."),e,t)},isFalse:function(e,t){if(!1!==e)throw new YAHOO.util.ComparisonFailure(this._formatMessage(t,"Value should be false."),!1,e)},isTrue:function(e,t){if(!0!==e)throw new YAHOO.util.ComparisonFailure(this._formatMessage(t,"Value should be true."),!0,e)},isNaN:function(e,t){if(!isNaN(e))throw new YAHOO.util.ComparisonFailure(this._formatMessage(t,"Value should be NaN."),NaN,e)},isNotNaN:function(e,t){if(isNaN(e))throw new YAHOO.util.UnexpectedValue(this._formatMessage(t,"Values should not be NaN."),NaN)},isNotNull:function(e,t){if(YAHOO.lang.isNull(e))throw new YAHOO.util.UnexpectedValue(this._formatMessage(t,"Values should not be null."),null)},isNotUndefined:function(e,t){if(YAHOO.lang.isUndefined(e))throw new YAHOO.util.UnexpectedValue(this._formatMessage(t,"Value should not be undefined."),undefined)},isNull:function(e,t){if(!YAHOO.lang.isNull(e))throw new YAHOO.util.ComparisonFailure(this._formatMessage(t,"Value should be null."),null,e)},isUndefined:function(e,t){if(!YAHOO.lang.isUndefined(e))throw new YAHOO.util.ComparisonFailure(this._formatMessage(t,"Value should be undefined."),undefined,e)},isArray:function(e,t){if(!YAHOO.lang.isArray(e))throw new YAHOO.util.UnexpectedValue(this._formatMessage(t,"Value should be an array."),e)},isBoolean:function(e,t){if(!YAHOO.lang.isBoolean(e))throw new YAHOO.util.UnexpectedValue(this._formatMessage(t,"Value should be a Boolean."),e)},isFunction:function(e,t){if(!YAHOO.lang.isFunction(e))throw new YAHOO.util.UnexpectedValue(this._formatMessage(t,"Value should be a function."),e)},isInstanceOf:function(e,t,n){if(!(t instanceof e))throw new YAHOO.util.ComparisonFailure(this._formatMessage(n,"Value isn't an instance of expected type."),e,t)},isNumber:function(e,t){if(!YAHOO.lang.isNumber(e))throw new YAHOO.util.UnexpectedValue(this._formatMessage(t,"Value should be a number."),e)},isObject:function(e,t){if(!YAHOO.lang.isObject(e))throw new YAHOO.util.UnexpectedValue(this._formatMessage(t,"Value should be an object."),e)},isString:function(e,t){if(!YAHOO.lang.isString(e))throw new YAHOO.util.UnexpectedValue(this._formatMessage(t,"Value should be a string."),e)},isTypeOf:function(e,t,n){if(typeof t!=e)throw new YAHOO.util.ComparisonFailure(this._formatMessage(n,"Value should be of type "+e+"."),e,typeof t)}},YAHOO.util.AssertionError=function(e){this.message=e,this.name="AssertionError"},YAHOO.lang.extend(YAHOO.util.AssertionError,Object,{getMessage:function(){return this.message},toString:function(){return this.name+": "+this.getMessage()}}),YAHOO.util.ComparisonFailure=function(e,t,n){YAHOO.util.AssertionError.call(this,e),this.expected=t,this.actual=n,this.name="ComparisonFailure"},YAHOO.lang.extend(YAHOO.util.ComparisonFailure,YAHOO.util.AssertionError,{getMessage:function(){return this.message+"\nExpected: "+this.expected+" ("+typeof this.expected+")"+"\nActual:"+this.actual+" ("+typeof this.actual+")"}}),YAHOO.util.UnexpectedValue=function(e,t){YAHOO.util.AssertionError.call(this,e),this.unexpected=t,this.name="UnexpectedValue"},YAHOO.lang.extend(YAHOO.util.UnexpectedValue,YAHOO.util.AssertionError,{getMessage:function(){return this.message+"\nUnexpected: "+this.unexpected+" ("+typeof this.unexpected+") "}}),YAHOO.util.ShouldFail=function(e){YAHOO.util.AssertionError.call(this,e||"This test should fail but didn't."),this.name="ShouldFail"},YAHOO.lang.extend(YAHOO.util.ShouldFail,YAHOO.util.AssertionError),YAHOO.util.ShouldError=function(e){YAHOO.util.AssertionError.call(this,e||"This test should have thrown an error but didn't."),this.name="ShouldError"},YAHOO.lang.extend(YAHOO.util.ShouldError,YAHOO.util.AssertionError),YAHOO.util.UnexpectedError=function(e){YAHOO.util.AssertionError.call(this,"Unexpected error: "+e.message),this.cause=e,this.name="UnexpectedError",this.stack=e.stack},YAHOO.lang.extend(YAHOO.util.UnexpectedError,YAHOO.util.AssertionError),YAHOO.util.ArrayAssert={contains:function(e,t,n){var r=!1,i=YAHOO.util.Assert;for(var s=0;s<t.length&&!r;s++)t[s]===e&&(r=!0);r||i.fail(i._formatMessage(n,"Value "+e+" ("+typeof e+") not found in array ["+t+"]."))},containsItems:function(e,t,n){for(var r=0;r<e.length;r++)this.contains(e[r],t,n)},containsMatch:function(e,t,n){if(typeof e!="function")throw new TypeError("ArrayAssert.containsMatch(): First argument must be a function.");var r=!1,i=YAHOO.util.Assert;for(var s=0;s<t.length&&!r;s++)e(t[s])&&(r=!0);r||i.fail(i._formatMessage(n,"No match found in array ["+t+"]."))},doesNotContain:function(e,t,n){var r=!1,i=YAHOO.util.Assert;for(var s=0;s<t.length&&!r;s++)t[s]===e&&(r=!0);r&&i.fail(i._formatMessage(n,"Value found in array ["+t+"]."))},doesNotContainItems:function(e,t,n){for(var r=0;r<e.length;r++)this.doesNotContain(e[r],t,n)},doesNotContainMatch:function(e,t,n){if(typeof e!="function")throw new TypeError("ArrayAssert.doesNotContainMatch(): First argument must be a function.");var r=!1,i=YAHOO.util.Assert;for(var s=0;s<t.length&&!r;s++)e(t[s])&&(r=!0);r&&i.fail(i._formatMessage(n,"Value found in array ["+t+"]."))},indexOf:function(e,t,n,r){for(var i=0;i<t.length;i++)if(t[i]===e){YAHOO.util.Assert.areEqual(n,i,r||"Value exists at index "+i+" but should be at index "+n+".");return}var s=YAHOO.util.Assert;s.fail(s._formatMessage(r,"Value doesn't exist in array ["+t+"]."))},itemsAreEqual:function(e,t,n){var r=Math.max(e.length,t.length||0),i=YAHOO.util.Assert;for(var s=0;s<r;s++)i.areEqual(e[s],t[s],i._formatMessage(n,"Values in position "+s+" are not equal."))},itemsAreEquivalent:function(e,t,n,r){if(typeof n!="function")throw new TypeError("ArrayAssert.itemsAreEquivalent(): Third argument must be a function.");var i=Math.max(e.length,t.length||0);for(var s=0;s<i;s++)if(!n(e[s],t[s]))throw new YAHOO.util.ComparisonFailure(YAHOO.util.Assert._formatMessage(r,"Values in position "+s+" are not equivalent."),e[s],t[s])},isEmpty:function(e,t){if(e.length>0){var n=YAHOO.util.Assert;n.fail(n._formatMessage(t,"Array should be empty."))}},isNotEmpty:function(e,t){if(e.length===0){var n=YAHOO.util.Assert;n.fail(n._formatMessage(t,"Array should not be empty."))}},itemsAreSame:function(e,t,n){var r=Math.max(e.length,t.length||0),i=YAHOO.util.Assert;for(var s=0;s<r;s++)i.areSame(e[s],t[s],i._formatMessage(n,"Values in position "+s+" are not the same."))},lastIndexOf:function(e,t,n,r){var i=YAHOO.util.Assert;for(var s=t.length;s>=0;s--)if(t[s]===e){i.areEqual(n,s,i._formatMessage(r,"Value exists at index "+s+" but should be at index "+n+"."));return}i.fail(i._formatMessage(r,"Value doesn't exist in array."))}},YAHOO.namespace("util"),YAHOO.util.ObjectAssert={propertiesAreEqual:function(e,t,n){var r=YAHOO.util.Assert,i=[];for(var s in e)i.push(s);for(var o=0;o<i.length;o++)r.isNotUndefined(t[i[o]],r._formatMessage(n,"Property '"+i[o]+"' expected."))},hasProperty:function(e,t,n){if(!(e in t)){var r=YAHOO.util.Assert;r.fail(r._formatMessage(n,"Property '"+e+"' not found on object."))}},hasOwnProperty:function(e,t,n){if(!YAHOO.lang.hasOwnProperty(t,e)){var r=YAHOO.util.Assert;r.fail(r._formatMessage(n,"Property '"+e+"' not found on object instance."))}}},YAHOO.util.DateAssert={datesAreEqual:function(e,t,n){if(!(e instanceof Date&&t instanceof Date))throw new TypeError("DateAssert.datesAreEqual(): Expected and actual values must be Date objects.");var r=YAHOO.util.Assert;r.areEqual(e.getFullYear(),t.getFullYear(),r._formatMessage(n,"Years should be equal.")),r.areEqual(e.getMonth(),t.getMonth(),r._formatMessage(n,"Months should be equal.")),r.areEqual(e.getDate(),t.getDate(),r._formatMessage(n,"Day of month should be equal."))},timesAreEqual:function(e,t,n){if(!(e instanceof Date&&t instanceof Date))throw new TypeError("DateAssert.timesAreEqual(): Expected and actual values must be Date objects.");var r=YAHOO.util.Assert;r.areEqual(e.getHours(),t.getHours(),r._formatMessage(n,"Hours should be equal.")),r.areEqual(e.getMinutes(),t.getMinutes(),r._formatMessage(n,"Minutes should be equal.")),r.areEqual(e.getSeconds(),t.getSeconds(),r._formatMessage(n,"Seconds should be equal."))}},YAHOO.namespace("tool"),YAHOO.tool.TestManager={TEST_PAGE_BEGIN_EVENT:"testpagebegin",TEST_PAGE_COMPLETE_EVENT:"testpagecomplete",TEST_MANAGER_BEGIN_EVENT:"testmanagerbegin",TEST_MANAGER_COMPLETE_EVENT:"testmanagercomplete",_curPage:null,_frame:null,_logger:null,_timeoutId:0,_pages:[],_results:null,_handleTestRunnerComplete:function(e){this.fireEvent(this.TEST_PAGE_COMPLETE_EVENT,{page:this._curPage,results:e.results}),this._processResults(this._curPage,e.results),this._logger.clearTestRunner(),this._pages.length?this._timeoutId=setTimeout(function(){YAHOO.tool.TestManager._run()},1e3):this.fireEvent(this.TEST_MANAGER_COMPLETE_EVENT,this._results)},_processResults:function(e,t){var n=this._results;n.passed+=t.passed,n.failed+=t.failed,n.ignored+=t.ignored,n.total+=t.total,n.duration+=t.duration,t.failed?n.failedPages.push(e):n.passedPages.push(e),t.name=e,t.type="page",n[e]=t},_run:function(){this._curPage=this._pages.shift(),this.fireEvent(this.TEST_PAGE_BEGIN_EVENT,this._curPage),this._frame.location.replace(this._curPage)},load:function(){if(parent.YAHOO.tool.TestManager!==this)parent.YAHOO.tool.TestManager.load();else if(this._frame){var e=this._frame.YAHOO.tool.TestRunner;this._logger.setTestRunner(e),e.subscribe(e.COMPLETE_EVENT,this._handleTestRunnerComplete,this,!0),e.run()}},setPages:function(e){this._pages=e},start:function(){if(!this._initialized){this.createEvent(this.TEST_PAGE_BEGIN_EVENT),this.createEvent(this.TEST_PAGE_COMPLETE_EVENT),this.createEvent(this.TEST_MANAGER_BEGIN_EVENT),this.createEvent(this.TEST_MANAGER_COMPLETE_EVENT);if(!this._frame){var e=document.createElement("iframe");e.style.visibility="hidden",e.style.position="absolute",document.body.appendChild(e),this._frame=e.contentWindow||e.contentDocument.parentWindow}this._logger||(this._logger=new YAHOO.tool.TestLogger),this._initialized=!0}this._results={passed:0,failed:0,ignored:0,total:0,type:"report",name:"YUI Test Results",duration:0,failedPages:[],passedPages:[]},this.fireEvent(this.TEST_MANAGER_BEGIN_EVENT,null),this._run()},stop:function(){clearTimeout(this._timeoutId)}},YAHOO.lang.augmentObject(YAHOO.tool.TestManager,YAHOO.util.EventProvider.prototype),YAHOO.namespace("tool"),YAHOO.tool.TestLogger=function(e,t){YAHOO.tool.TestLogger.superclass.constructor.call(this,e,t),this.init()},YAHOO.lang.extend(YAHOO.tool.TestLogger,YAHOO.widget.LogReader,{footerEnabled:!0,newestOnTop:!1,formatMsg:function(e){var t=e.category,n=this.html2Text(e.msg);return'<pre><p><span class="'+t+'">'+t.toUpperCase()+"</span> "+n+"</p></pre>"},init:function(){YAHOO.tool.TestRunner&&this.setTestRunner(YAHOO.tool.TestRunner),this.hideSource("global"),this.hideSource("LogReader"),this.hideCategory("warn"),this.hideCategory("window"),this.hideCategory("time"),this.clearConsole()},clearTestRunner:function(){this._runner&&(this._runner.unsubscribeAll(),this._runner=null)},setTestRunner:function(e){this._runner&&this.clearTestRunner(),this._runner=e,e.subscribe(e.TEST_PASS_EVENT,this._handleTestRunnerEvent,this,!0),e.subscribe(e.TEST_FAIL_EVENT,this._handleTestRunnerEvent,this,!0),e.subscribe(e.TEST_IGNORE_EVENT,this._handleTestRunnerEvent,this,!0),e.subscribe(e.BEGIN_EVENT,this._handleTestRunnerEvent,this,!0),e.subscribe(e.COMPLETE_EVENT,this._handleTestRunnerEvent,this,!0),e.subscribe(e.TEST_SUITE_BEGIN_EVENT,this._handleTestRunnerEvent,this,!0),e.subscribe(e.TEST_SUITE_COMPLETE_EVENT,this._handleTestRunnerEvent,this,!0),e.subscribe(e.TEST_CASE_BEGIN_EVENT,this._handleTestRunnerEvent,this,!0),e.subscribe(e.TEST_CASE_COMPLETE_EVENT,this._handleTestRunnerEvent,this,!0)},_handleTestRunnerEvent:function(e){var t=YAHOO.tool.TestRunner,n="",r="";switch(e.type){case t.BEGIN_EVENT:n="Testing began at "+(new Date).toString()+".",r="info";break;case t.COMPLETE_EVENT:n="Testing completed at "+(new Date).toString()+".\nPassed:"+e.results.passed+" Failed:"+e.results.failed+" Total:"+e.results.total,r="info";break;case t.TEST_FAIL_EVENT:n=e.testName+": "+e.error.getMessage(),r="fail";break;case t.TEST_IGNORE_EVENT:n=e.testName+": ignored.",r="ignore";break;case t.TEST_PASS_EVENT:n=e.testName+": passed.",r="pass";break;case t.TEST_SUITE_BEGIN_EVENT:n='Test suite "'+e.testSuite.name+'" started.',r="info";break;case t.TEST_SUITE_COMPLETE_EVENT:n='Test suite "'+e.testSuite.name+'" completed.\nPassed:'+e.results.passed+" Failed:"+e.results.failed+" Total:"+e.results.total,r="info";break;case t.TEST_CASE_BEGIN_EVENT:n='Test case "'+e.testCase.name+'" started.',r="info";break;case t.TEST_CASE_COMPLETE_EVENT:n='Test case "'+e.testCase.name+'" completed.\nPassed:'+e.results.passed+" Failed:"+e.results.failed+" Total:"+e.results.total,r="info";break;default:n="Unexpected event "+e.type,n="info"}YAHOO.log(n,r,"TestRunner")}}),YAHOO.namespace("tool.TestFormat"),function(){function e(e){return e.replace(/["'<>&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&apos;";case"&":return"&amp;"}})}YAHOO.tool.TestFormat.JSON=function(e){return YAHOO.lang.JSON.stringify(e)},YAHOO.tool.TestFormat.XML=function(t){function n(t){var r=YAHOO.lang,i="<"+t.type+' name="'+e(t.name)+'"';r.isNumber(t.duration)&&(i+=' duration="'+t.duration+'"');if(t.type=="test")i+=' result="'+t.result+'" message="'+e(t.message)+'">';else{i+=' passed="'+t.passed+'" failed="'+t.failed+'" ignored="'+t.ignored+'" total="'+t.total+'">';for(var s in t)r.hasOwnProperty(t,s)&&r.isObject(t[s])&&!r.isArray(t[s])&&(i+=n(t[s]))}return i+="</"+t.type+">",i}return'<?xml version="1.0" encoding="UTF-8"?>'+n(t)},YAHOO.tool.TestFormat.JUnitXML=function(t){function n(t){var r=YAHOO.lang,i="",s;switch(t.type){case"test":t.result!="ignore"&&(i='<testcase name="'+e(t.name)+'">',t.result=="fail"&&(i+='<failure message="'+e(t.message)+'"><![CDATA['+t.message+"]]></failure>"),i+="</testcase>");break;case"testcase":i='<testsuite name="'+e(t.name)+'" tests="'+t.total+'" failures="'+t.failed+'">';for(s in t)r.hasOwnProperty(t,s)&&r.isObject(t[s])&&!r.isArray(t[s])&&(i+=n(t[s]));i+="</testsuite>";break;case"testsuite":for(s in t)r.hasOwnProperty(t,s)&&r.isObject(t[s])&&!r.isArray(t[s])&&(i+=n(t[s]));break;case"report":i="<testsuites>";for(s in t)r.hasOwnProperty(t,s)&&r.isObject(t[s])&&!r.isArray(t[s])&&(i+=n(t[s]));i+="</testsuites>"}return i}return'<?xml version="1.0" encoding="UTF-8"?>'+n(t)},YAHOO.tool.TestFormat.TAP=function(e){function n(e){var r=YAHOO.lang,i="";switch(e.type){case"test":e.result!="ignore"?(i="ok "+t++ +" - "+e.name,e.result=="fail"&&(i="not "+i+" - "+e.message),i+="\n"):i="#Ignored test "+e.name+"\n";break;case"testcase":i="#Begin testcase "+e.name+"("+e.failed+" failed of "+e.total+")\n";for(prop in e)r.hasOwnProperty(e,prop)&&r.isObject(e[prop])&&!r.isArray(e[prop])&&(i+=n(e[prop]));i+="#End testcase "+e.name+"\n";break;case"testsuite":i="#Begin testsuite "+e.name+"("+e.failed+" failed of "+e.total+")\n";for(prop in e)r.hasOwnProperty(e,prop)&&r.isObject(e[prop])&&!r.isArray(e[prop])&&(i+=n(e[prop]));i+="#End testsuite "+e.name+"\n";break;case"report":for(prop in e)r.hasOwnProperty(e,prop)&&r.isObject(e[prop])&&!r.isArray(e[prop])&&(i+=n(e[prop]))}return i}var t=1;return"1.."+e.total+"\n"+n(e)}}(),YAHOO.namespace("tool.CoverageFormat"),YAHOO.tool.CoverageFormat.JSON=function(e){return YAHOO.lang.JSON.stringify(e)},YAHOO.tool.CoverageFormat.XdebugJSON=function(e){var t={},n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n].lines);return YAHOO.lang.JSON.stringify(t)},YAHOO.namespace("tool"),YAHOO.tool.TestReporter=function(e,t){this.url=e,this.format=t||YAHOO.tool.TestFormat.XML,this._fields=new Object,this._form=null,this._iframe=null},YAHOO.tool.TestReporter.prototype={constructor:YAHOO.tool.TestReporter,_convertToISOString:function(e){function t(e){return e<10?"0"+e:e}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"Z"},addField:function(e,t){this._fields[e]=t},clearFields:function(){this._fields=new Object},destroy:function(){this._form&&(this._form.parentNode.removeChild(this._form),this._form=null),this._iframe&&(this._iframe.parentNode.removeChild(this._iframe),this._iframe=null),this._fields=null},report:function(e){this._form||(this._form=document.createElement("form"),this._form.method="post",this._form.style.visibility="hidden",this._form.style.position="absolute",this._form.style.top=0,document.body.appendChild(this._form),YAHOO.env.ua.ie?this._iframe=document.createElement('<iframe name="yuiTestTarget" />'):(this._iframe=document.createElement("iframe"),this._iframe.name="yuiTestTarget"),this._iframe.src="javascript:false",this._iframe.style.visibility="hidden",this._iframe.style.position="absolute",this._iframe.style.top=0,document.body.appendChild(this._iframe),this._form.target="yuiTestTarget"),this._form.action=this.url;while(this._form.hasChildNodes())this._form.removeChild(this._form.lastChild);this._fields.results=this.format(e),this._fields.useragent=navigator.userAgent,this._fields.timestamp=this._convertToISOString(new Date);for(var t in this._fields)YAHOO.lang.hasOwnProperty(this._fields,t)&&typeof this._fields[t]!="function"&&(YAHOO.env.ua.ie?input=document.createElement('<input name="'+t+'" >'):(input=document.createElement("input"),input.name=t),input.type="hidden",input.value=this._fields[t],this._form.appendChild(input));delete this._fields.results,delete this._fields.useragent,delete this._fields.timestamp,arguments[1]!==!1&&this._form.submit()}},YUITest={TestRunner:YAHOO.tool.TestRunner,ResultsFormat:YAHOO.tool.TestFormat,CoverageFormat:YAHOO.tool.CoverageFormat},YAHOO.register("yuitest",YAHOO.tool.TestRunner,{version:"2.9.0",build:"2800"}),function(){function o(e){var i=function(e,t){return r("",e,t)},s=t;e&&(t[e]||(t[e]={}),s=t[e]);if(!s.define||!s.define.packaged)n.original=s.define,s.define=n,s.define.packaged=!0;if(!s.require||!s.require.packaged)r.original=s.require,s.require=i,s.require.packaged=!0}var e="",t=function(){return this}();if(!e&&typeof requirejs!="undefined")return;var n=function(e,t,r){if(typeof e!="string"){n.original?n.original.apply(window,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(r=t),n.modules||(n.modules={}),n.modules[e]=r},r=function(e,t,n){if(Object.prototype.toString.call(t)==="[object Array]"){var i=[];for(var o=0,u=t.length;o<u;++o){var a=s(e,t[o]);if(!a&&r.original)return r.original.apply(window,arguments);i.push(a)}n&&n.apply(null,i)}else{if(typeof t=="string"){var f=s(e,t);return!f&&r.original?r.original.apply(window,arguments):(n&&n(),f)}if(r.original)return r.original.apply(window,arguments)}},i=function(e,t){if(t.indexOf("!")!==-1){var n=t.split("!");return i(e,n[0])+"!"+i(e,n[1])}if(t.charAt(0)=="."){var r=e.split("/").slice(0,-1).join("/");t=r+"/"+t;while(t.indexOf(".")!==-1&&s!=t){var s=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return t},s=function(e,t){t=i(e,t);var s=n.modules[t];if(!s)return null;if(typeof s=="function"){var o={},u={id:t,uri:"",exports:o,packaged:!0},a=function(e,n){return r(t,e,n)},f=s(a,o,u);return o=f||u.exports,n.modules[t]=o,o}return s};o(e)}(),define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/multi_select","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/mode/folding/fold_mode","ace/config"],function(e,t,n){e("./lib/fixoldbrowsers");var r=e("./lib/dom"),i=e("./lib/event"),s=e("./editor").Editor,o=e("./edit_session").EditSession,u=e("./undomanager").UndoManager,a=e("./virtual_renderer").VirtualRenderer,f=e("./multi_select").MultiSelect;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./mode/folding/fold_mode"),t.config=e("./config"),t.require=e,t.edit=function(e){if(typeof e=="string"){var n=e,e=document.getElementById(n);if(!e)throw"ace.edit can't find div #"+n}if(e.env&&e.env.editor instanceof s)return e.env.editor;var o=t.createEditSession(r.getInnerText(e));e.innerHTML="";var u=new s(new a(e));new f(u),u.setSession(o);var l={document:o,editor:u,onResize:u.resize.bind(u)};return i.addListener(window,"resize",l.onResize),e.env=u.env=l,u},t.createEditSession=function(e,t){var n=new o(e,n);return n.setUndoManager(new u),n},t.EditSession=o,t.UndoManager=u}),define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(e,t,n){e("./regexp"),e("./es5-shim")}),define("ace/lib/regexp",["require","exports","module"],function(e,t,n){function o(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}function u(e,t,n){if(Array.prototype.indexOf)return e.indexOf(t,n);for(var r=n||0;r<e.length;r++)if(e[r]===t)return r;return-1}var r={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},i=r.exec.call(/()??/,"")[1]===undefined,s=function(){var e=/^/g;return r.test.call(e,""),!e.lastIndex}();if(s&&i)return;RegExp.prototype.exec=function(e){var t=r.exec.apply(this,arguments),n,a;if(typeof e=="string"&&t){!i&&t.length>1&&u(t,"")>-1&&(a=RegExp(this.source,r.replace.call(o(this),"g","")),r.replace.call(e.slice(t.index),a,function(){for(var e=1;e<arguments.length-2;e++)arguments[e]===undefined&&(t[e]=undefined)}));if(this._xregexp&&this._xregexp.captureNames)for(var f=1;f<t.length;f++)n=this._xregexp.captureNames[f-1],n&&(t[n]=t[f]);!s&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--}return t},s||(RegExp.prototype.test=function(e){var t=r.exec.call(this,e);return t&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--,!!t})}),define("ace/lib/es5-shim",["require","exports","module"],function(e,t,n){function m(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(t){}}Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if(typeof n!="function")throw new TypeError;var r=o.call(arguments,1),i=function(){if(this instanceof i){var e=function(){};e.prototype=n.prototype;var s=new e,u=n.apply(s,r.concat(o.call(arguments)));return u!==null&&Object(u)===u?u:s}return n.apply(t,r.concat(o.call(arguments)))};return i});var r=Function.prototype.call,i=Array.prototype,s=Object.prototype,o=i.slice,u=r.bind(s.toString),a=r.bind(s.hasOwnProperty),f,l,c,h,p;if(p=a(s,"__defineGetter__"))f=r.bind(s.__defineGetter__),l=r.bind(s.__defineSetter__),c=r.bind(s.__lookupGetter__),h=r.bind(s.__lookupSetter__);Array.isArray||(Array.isArray=function(t){return u(t)=="[object Array]"}),Array.prototype.forEach||(Array.prototype.forEach=function(t){var n=D(this),r=arguments[1],i=0,s=n.length>>>0;if(u(t)!="[object Function]")throw new TypeError;while(i<s)i in n&&t.call(r,n[i],i,n),i++}),Array.prototype.map||(Array.prototype.map=function(t){var n=D(this),r=n.length>>>0,i=Array(r),s=arguments[1];if(u(t)!="[object Function]")throw new TypeError;for(var o=0;o<r;o++)o in n&&(i[o]=t.call(s,n[o],o,n));return i}),Array.prototype.filter||(Array.prototype.filter=function(t){var n=D(this),r=n.length>>>0,i=[],s=arguments[1];if(u(t)!="[object Function]")throw new TypeError;for(var o=0;o<r;o++)o in n&&t.call(s,n[o],o,n)&&i.push(n[o]);return i}),Array.prototype.every||(Array.prototype.every=function(t){var n=D(this),r=n.length>>>0,i=arguments[1];if(u(t)!="[object Function]")throw new TypeError;for(var s=0;s<r;s++)if(s in n&&!t.call(i,n[s],s,n))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t){var n=D(this),r=n.length>>>0,i=arguments[1];if(u(t)!="[object Function]")throw new TypeError;for(var s=0;s<r;s++)if(s in n&&t.call(i,n[s],s,n))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var n=D(this),r=n.length>>>0;if(u(t)!="[object Function]")throw new TypeError;if(!r&&arguments.length==1)throw new TypeError;var i=0,s;if(arguments.length>=2)s=arguments[1];else do{if(i in n){s=n[i++];break}if(++i>=r)throw new TypeError}while(!0);for(;i<r;i++)i in n&&(s=t.call(void 0,s,n[i],i,n));return s}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){var n=D(this),r=n.length>>>0;if(u(t)!="[object Function]")throw new TypeError;if(!r&&arguments.length==1)throw new TypeError;var i,s=r-1;if(arguments.length>=2)i=arguments[1];else do{if(s in n){i=n[s--];break}if(--s<0)throw new TypeError}while(!0);do s in this&&(i=t.call(void 0,i,n[s],s,n));while(s--);return i}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var n=D(this),r=n.length>>>0;if(!r)return-1;var i=0;arguments.length>1&&(i=M(arguments[1])),i=i>=0?i:Math.max(0,r+i);for(;i<r;i++)if(i in n&&n[i]===t)return i;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(t){var n=D(this),r=n.length>>>0;if(!r)return-1;var i=r-1;arguments.length>1&&(i=Math.min(i,M(arguments[1]))),i=i>=0?i:r-Math.abs(i);for(;i>=0;i--)if(i in n&&t===n[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(t){return t.__proto__||(t.constructor?t.constructor.prototype:s)});if(!Object.getOwnPropertyDescriptor){var d="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(t,n){if(typeof t!="object"&&typeof t!="function"||t===null)throw new TypeError(d+t);if(!a(t,n))return;var r,i,o;r={enumerable:!0,configurable:!0};if(p){var u=t.__proto__;t.__proto__=s;var i=c(t,n),o=h(t,n);t.__proto__=u;if(i||o)return i&&(r.get=i),o&&(r.set=o),r}return r.value=t[n],r}}Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(t){return Object.keys(t)});if(!Object.create){var v;Object.prototype.__proto__===null?v=function(){return{__proto__:null}}:v=function(){var e={};for(var t in e)e[t]=null;return e.constructor=e.hasOwnProperty=e.propertyIsEnumerable=e.isPrototypeOf=e.toLocaleString=e.toString=e.valueOf=e.__proto__=null,e},Object.create=function(t,n){var r;if(t===null)r=v();else{if(typeof t!="object")throw new TypeError("typeof prototype["+typeof t+"] != 'object'");var i=function(){};i.prototype=t,r=new i,r.__proto__=t}return n!==void 0&&Object.defineProperties(r,n),r}}if(Object.defineProperty){var g=m({}),y=typeof document=="undefined"||m(document.createElement("div"));if(!g||!y)var b=Object.defineProperty}if(!Object.defineProperty||b){var w="Property description must be an object: ",E="Object.defineProperty called on non-object: ",S="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(t,n,r){if(typeof t!="object"&&typeof t!="function"||t===null)throw new TypeError(E+t);if(typeof r!="object"&&typeof r!="function"||r===null)throw new TypeError(w+r);if(b)try{return b.call(Object,t,n,r)}catch(i){}if(a(r,"value"))if(p&&(c(t,n)||h(t,n))){var o=t.__proto__;t.__proto__=s,delete t[n],t[n]=r.value,t.__proto__=o}else t[n]=r.value;else{if(!p)throw new TypeError(S);a(r,"get")&&f(t,n,r.get),a(r,"set")&&l(t,n,r.set)}return t}}Object.defineProperties||(Object.defineProperties=function(t,n){for(var r in n)a(n,r)&&Object.defineProperty(t,r,n[r]);return t}),Object.seal||(Object.seal=function(t){return t}),Object.freeze||(Object.freeze=function(t){return t});try{Object.freeze(function(){})}catch(x){Object.freeze=function(t){return function(n){return typeof n=="function"?n:t(n)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=function(t){return t}),Object.isSealed||(Object.isSealed=function(t){return!1}),Object.isFrozen||(Object.isFrozen=function(t){return!1}),Object.isExtensible||(Object.isExtensible=function(t){if(Object(t)===t)throw new TypeError;var n="";while(a(t,n))n+="?";t[n]=!0;var r=a(t,n);return delete t[n],r});if(!Object.keys){var T=!0,N=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],C=N.length;for(var k in{toString:null})T=!1;Object.keys=function P(e){if(typeof e!="object"&&typeof e!="function"||e===null)throw new TypeError("Object.keys called on a non-object");var P=[];for(var t in e)a(e,t)&&P.push(t);if(T)for(var n=0,r=C;n<r;n++){var i=N[n];a(e,i)&&P.push(i)}return P}}if(!Date.prototype.toISOString||(new Date(-621987552e5)).toISOString().indexOf("-000001")===-1)Date.prototype.toISOString=function(){var t,n,r,i;if(!isFinite(this))throw new RangeError;t=[this.getUTCMonth()+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],i=this.getUTCFullYear(),i=(i<0?"-":i>9999?"+":"")+("00000"+Math.abs(i)).slice(0<=i&&i<=9999?-4:-6),n=t.length;while(n--)r=t[n],r<10&&(t[n]="0"+r);return i+"-"+t.slice(0,2).join("-")+"T"+t.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"};Date.now||(Date.now=function(){return(new Date).getTime()}),Date.prototype.toJSON||(Date.prototype.toJSON=function(t){if(typeof this.toISOString!="function")throw new TypeError;return this.toISOString()}),Date.parse("+275760-09-13T00:00:00.000Z")!==864e13&&(Date=function(e){var t=function i(t,n,r,s,o,u,a){var f=arguments.length;if(this instanceof e){var l=f==1&&String(t)===t?new e(i.parse(t)):f>=7?new e(t,n,r,s,o,u,a):f>=6?new e(t,n,r,s,o,u):f>=5?new e(t,n,r,s,o):f>=4?new e(t,n,r,s):f>=3?new e(t,n,r):f>=2?new e(t,n):f>=1?new e(t):new e;return l.constructor=i,l}return e.apply(this,arguments)},n=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d{3}))?)?(?:Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$");for(var r in e)t[r]=e[r];return t.now=e.now,t.UTC=e.UTC,t.prototype=e.prototype,t.prototype.constructor=t,t.parse=function(r){var i=n.exec(r);if(i){i.shift();for(var s=1;s<7;s++)i[s]=+(i[s]||(s<3?1:0)),s==1&&i[s]--;var o=+i.pop(),u=+i.pop(),a=i.pop(),f=0;if(a){if(u>23||o>59)return NaN;f=(u*60+o)*6e4*(a=="+"?-1:1)}var l=+i[0];return 0<=l&&l<=99?(i[0]=l+400,e.UTC.apply(this,i)+f-126227808e5):e.UTC.apply(this,i)+f}return e.parse.apply(this,arguments)},t}(Date));var L="	\n\f\r   ᠎             　\u2028\u2029﻿";if(!String.prototype.trim||L.trim()){L="["+L+"]";var A=new RegExp("^"+L+L+"*"),O=new RegExp(L+L+"*$");String.prototype.trim=function(){return String(this).replace(A,"").replace(O,"")}}var M=function(e){return e=+e,e!==e?e=0:e!==0&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e},_="a"[0]!="a",D=function(e){if(e==null)throw new TypeError;return _&&typeof e=="string"&&e?e.split(""):Object(e)}}),define("ace/lib/dom",["require","exports","module"],function(e,t,n){var r="http://www.w3.org/1999/xhtml";t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||r,e):document.createElement(e)},t.setText=function(e,t){e.innerText!==undefined&&(e.innerText=t),e.textContent!==undefined&&(e.textContent=t)},t.hasCssClass=function(e,t){var n=e.className.split(/\s+/g);return n.indexOf(t)!==-1},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){var n=e.className.split(/\s+/g);for(;;){var r=n.indexOf(t);if(r==-1)break;n.splice(r,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){var n=e.className.split(/\s+/g),r=!0;for(;;){var i=n.indexOf(t);if(i==-1)break;r=!1,n.splice(i,1)}return r&&n.push(t),e.className=n.join(" "),r},t.setCssClass=function(e,n,r){r?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n=0,r;t=t||document;if(t.createStyleSheet&&(r=t.styleSheets)){while(n<r.length)if(r[n++].owningElement.id===e)return!0}else if(r=t.getElementsByTagName("style"))while(n<r.length)if(r[n++].id===e)return!0;return!1},t.importCssString=function(n,i,s){s=s||document;if(i&&t.hasCssString(i,s))return null;var o;if(s.createStyleSheet)o=s.createStyleSheet(),o.cssText=n,i&&(o.owningElement.id=i);else{o=s.createElementNS?s.createElementNS(r,"style"):s.createElement("style"),o.appendChild(s.createTextNode(n)),i&&(o.id=i);var u=s.getElementsByTagName("head")[0]||s.documentElement;u.appendChild(o)}},t.importCssStylsheet=function(e,n){if(n.createStyleSheet)n.createStyleSheet(e);else{var r=t.createElement("link");r.rel="stylesheet",r.href=e;var i=n.getElementsByTagName("head")[0]||n.documentElement;i.appendChild(r)}},t.getInnerWidth=function(e){return parseInt(t.computedStyle(e,"paddingLeft"),10)+parseInt(t.computedStyle(e,"paddingRight"),10)+e.clientWidth},t.getInnerHeight=function(e){return parseInt(t.computedStyle(e,"paddingTop"),10)+parseInt(t.computedStyle(e,"paddingBottom"),10)+e.clientHeight},window.pageYOffset!==undefined?(t.getPageScrollTop=function(){return window.pageYOffset},t.getPageScrollLeft=function(){return window.pageXOffset}):(t.getPageScrollTop=function(){return document.body.scrollTop},t.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?t.computedStyle=function(e,t){return t?(window.getComputedStyle(e,"")||{})[t]||"":window.getComputedStyle(e,"")||{}}:t.computedStyle=function(e,t){return t?e.currentStyle[t]:e.currentStyle},t.scrollbarWidth=function(e){var n=t.createElement("p");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px";var r=t.createElement("div"),i=r.style;i.position="absolute",i.left="-10000px",i.overflow="hidden",i.width="200px",i.minWidth="0px",i.height="150px",r.appendChild(n);var s=e.body||e.documentElement;s.appendChild(r);var o=n.offsetWidth;i.overflow="scroll";var u=n.offsetWidth;return o==u&&(u=r.clientWidth),s.removeChild(r),o-u},t.setInnerHtml=function(e,t){var n=e.cloneNode(!1);return n.innerHTML=t,e.parentNode.replaceChild(n,e),n},t.setInnerText=function(e,t){var n=e.ownerDocument;n.body&&"textContent"in n.body?e.textContent=t:e.innerText=t},t.getInnerText=function(e){var t=e.ownerDocument;return t.body&&"textContent"in t.body?e.textContent:e.innerText||e.textContent||""},t.getParentWindow=function(e){return e.defaultView||e.parentWindow}}),define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent","ace/lib/dom"],function(e,t,n){function o(e,t,n){var s=0;!i.isOpera||"KeyboardEvent"in window||!i.isMac?s=0|(t.ctrlKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.metaKey?8:0):s=0|(t.metaKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.ctrlKey?8:0);if(n in r.MODIFIER_KEYS){switch(r.MODIFIER_KEYS[n]){case"Alt":s=2;break;case"Shift":s=4;break;case"Ctrl":s=1;break;default:s=8}n=0}return s&8&&(n==91||n==93)&&(n=0),!!s||n in r.FUNCTION_KEYS||n in r.PRINTABLE_KEYS?e(t,s,n):!1}var r=e("./keys"),i=e("./useragent"),s=e("./dom");t.addListener=function(e,t,n){if(e.addEventListener)return e.addEventListener(t,n,!1);if(e.attachEvent){var r=function(){n(window.event)};n._wrapper=r,e.attachEvent("on"+t,r)}},t.removeListener=function(e,t,n){if(e.removeEventListener)return e.removeEventListener(t,n,!1);e.detachEvent&&e.detachEvent("on"+t,n._wrapper||n)},t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},t.getButton=function(e){return e.type=="dblclick"?0:e.type=="contextmenu"||e.ctrlKey&&i.isMac?2:e.preventDefault?e.button:{1:0,2:2,4:1}[e.button]},document.documentElement.setCapture?t.capture=function(e,n,r){function s(o){n(o),i||(i=!0,r(o)),t.removeListener(e,"mousemove",n),t.removeListener(e,"mouseup",s),t.removeListener(e,"losecapture",s),e.releaseCapture()}var i=!1;t.addListener(e,"mousemove",n),t.addListener(e,"mouseup",s),t.addListener(e,"losecapture",s),e.setCapture()}:t.capture=function(e,t,n){function r(e){t&&t(e),n&&n(e),document.removeEventListener("mousemove",t,!0),document.removeEventListener("mouseup",r,!0),e.stopPropagation()}document.addEventListener("mousemove",t,!0),document.addEventListener("mouseup",r,!0)},t.addMouseWheelListener=function(e,n){var r=8,i=function(e){e.wheelDelta!==undefined?e.wheelDeltaX!==undefined?(e.wheelX=-e.wheelDeltaX/r,e.wheelY=-e.wheelDeltaY/r):(e.wheelX=0,e.wheelY=-e.wheelDelta/r):e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=(e.detail||0)*5,e.wheelY=0):(e.wheelX=0,e.wheelY=(e.detail||0)*5),n(e)};t.addListener(e,"DOMMouseScroll",i),t.addListener(e,"mousewheel",i)},t.addMultiMouseDownListener=function(e,n,r,s){var o=0,u,a,f,l={2:"dblclick",3:"tripleclick",4:"quadclick"};t.addListener(e,"mousedown",function(e){if(t.getButton(e)!=0)o=0;else{var i=Math.abs(e.clientX-u)>5||Math.abs(e.clientY-a)>5;if(!f||i)o=0;o+=1,f&&clearTimeout(f),f=setTimeout(function(){f=null},n[o-1]||600)}o==1&&(u=e.clientX,a=e.clientY),r[s]("mousedown",e);if(o>4)o=0;else if(o>1)return r[s](l[o],e)}),i.isOldIE&&t.addListener(e,"dblclick",function(e){o=2,f&&clearTimeout(f),f=setTimeout(function(){f=null},n[o-1]||600),r[s]("mousedown",e),r[s](l[o],e)})},t.addCommandKeyListener=function(e,n){var r=t.addListener;if(i.isOldGecko||i.isOpera&&!("KeyboardEvent"in window)){var s=null;r(e,"keydown",function(e){s=e.keyCode}),r(e,"keypress",function(e){return o(n,e,s)})}else{var u=null;r(e,"keydown",function(e){return u=e.keyIdentifier||e.keyCode,o(n,e,e.keyCode)})}};if(window.postMessage&&!i.isOldIE){var u=1;t.nextTick=function(e,n){n=n||window;var r="zero-timeout-message-"+u;t.addListener(n,"message",function i(s){s.data==r&&(t.stopPropagation(s),t.removeListener(n,"message",i),e())}),n.postMessage(r,"*")}}t.nextFrame=window.requestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame,t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}}),define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(e,t,n){var r=e("./oop"),i=function(){var e={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,meta:8,command:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",188:",",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}};for(var t in e.FUNCTION_KEYS){var n=e.FUNCTION_KEYS[t].toLowerCase();e[n]=parseInt(t,10)}return r.mixin(e,e.MODIFIER_KEYS),r.mixin(e,e.PRINTABLE_KEYS),r.mixin(e,e.FUNCTION_KEYS),e.enter=e["return"],e.escape=e.esc,e.del=e["delete"],e[173]="-",e}();r.mixin(t,i),t.keyCodeToString=function(e){return(i[e]||String.fromCharCode(e)).toLowerCase()}}),define("ace/lib/oop",["require","exports","module"],function(e,t,n){t.inherits=function(){var e=function(){};return function(t,n){e.prototype=n.prototype,t.super_=n.prototype,t.prototype=new e,t.prototype.constructor=t}}(),t.mixin=function(e,t){for(var n in t)e[n]=t[n]},t.implement=function(e,n){t.mixin(e,n)}}),define("ace/lib/useragent",["require","exports","module"],function(e,t,n){t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};if(typeof navigator!="object")return;var r=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),i=navigator.userAgent;t.isWin=r=="win",t.isMac=r=="mac",t.isLinux=r=="linux",t.isIE=(navigator.appName=="Microsoft Internet Explorer"||navigator.appName.indexOf("MSAppHost")>=0)&&parseFloat(navigator.userAgent.match(/MSIE ([0-9]+[\.0-9]+)/)[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=window.controllers&&window.navigator.product==="Gecko",t.isOldGecko=t.isGecko&&parseInt((navigator.userAgent.match(/rv\:(\d+)/)||[])[1],10)<4,t.isOpera=window.opera&&Object.prototype.toString.call(window.opera)=="[object Opera]",t.isWebKit=parseFloat(i.split("WebKit/")[1])||undefined,t.isChrome=parseFloat(i.split(" Chrome/")[1])||undefined,t.isAIR=i.indexOf("AdobeAIR")>=0,t.isIPad=i.indexOf("iPad")>=0,t.isTouchPad=i.indexOf("TouchPad")>=0}),define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config"],function(e,t,n){e("./lib/fixoldbrowsers");var r=e("./lib/oop"),i=e("./lib/lang"),s=e("./lib/useragent"),o=e("./keyboard/textinput").TextInput,u=e("./mouse/mouse_handler").MouseHandler,a=e("./mouse/fold_handler").FoldHandler,f=e("./keyboard/keybinding").KeyBinding,l=e("./edit_session").EditSession,c=e("./search").Search,h=e("./range").Range,p=e("./lib/event_emitter").EventEmitter,d=e("./commands/command_manager").CommandManager,v=e("./commands/default_commands").commands,m=e("./config"),g=function(e,t){var n=e.getContainerElement();this.container=n,this.renderer=e,this.commands=new d(s.isMac?"mac":"win",v),this.textInput=new o(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.keyBinding=new f(this),this.$mouseHandler=new u(this),new a(this),this.$blockScrolling=0,this.$search=(new c).set({wrap:!0}),this.setSession(t||new l(""))};(function(){r.implement(this,p),this.setKeyboardHandler=function(e){if(typeof e=="string"&&e){this.$keybindingId=e;var t=this;m.loadModule(["keybinding",e],function(n){t.$keybindingId==e&&t.keyBinding.setKeyboardHandler(n&&n.handler)})}else delete this.$keybindingId,this.keyBinding.setKeyboardHandler(e)},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session==e)return;if(this.session){var t=this.session;this.session.removeEventListener("change",this.$onDocumentChange),this.session.removeEventListener("changeMode",this.$onChangeMode),this.session.removeEventListener("tokenizerUpdate",this.$onTokenizerUpdate),this.session.removeEventListener("changeTabSize",this.$onChangeTabSize),this.session.removeEventListener("changeWrapLimit",this.$onChangeWrapLimit),this.session.removeEventListener("changeWrapMode",this.$onChangeWrapMode),this.session.removeEventListener("onChangeFold",this.$onChangeFold),this.session.removeEventListener("changeFrontMarker",this.$onChangeFrontMarker),this.session.removeEventListener("changeBackMarker",this.$onChangeBackMarker),this.session.removeEventListener("changeBreakpoint",this.$onChangeBreakpoint),this.session.removeEventListener("changeAnnotation",this.$onChangeAnnotation),this.session.removeEventListener("changeOverwrite",this.$onCursorChange),this.session.removeEventListener("changeScrollTop",this.$onScrollTopChange),this.session.removeEventListener("changeLeftTop",this.$onScrollLeftChange);var n=this.session.getSelection();n.removeEventListener("changeCursor",this.$onCursorChange),n.removeEventListener("changeSelection",this.$onSelectionChange)}this.session=e,this.$onDocumentChange=this.onDocumentChange.bind(this),e.addEventListener("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.addEventListener("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.addEventListener("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.addEventListener("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.addEventListener("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.addEventListener("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.addEventListener("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.addEventListener("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.addEventListener("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.addEventListener("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.addEventListener("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.addEventListener("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.addEventListener("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.addEventListener("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.addEventListener("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.addEventListener("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull(),this._emit("changeSession",{session:e,oldSession:t})},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?t==1?this.navigateFileEnd():t==-1&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e){this.renderer.setTheme(e)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.setFontSize=function(e){this.container.style.fontSize=e,this.renderer.updateFontSize()},this.$highlightBrackets=function(){this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null);if(this.$highlightPending)return;var e=this;this.$highlightPending=!0,setTimeout(function(){e.$highlightPending=!1;var t=e.session.findMatchingBracket(e.getCursorPosition());if(t){var n=new h(t.row,t.column,t.row,t.column+1);e.session.$bracketHighlight=e.session.addMarker(n,"ace_bracket","text")}},50)},this.focus=function(){var e=this;setTimeout(function(){e.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(){if(this.$isFocused)return;this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus")},this.onBlur=function(){if(!this.$isFocused)return;this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur")},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(e){var t=e.data,n=t.range,r;n.start.row==n.end.row&&t.action!="insertLines"&&t.action!="removeLines"?r=n.end.row:r=Infinity,this.renderer.updateLines(n.start.row,r),this._emit("change",e),this.$cursorChange()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||this.renderer.scrollCursorIntoView(),this.$highlightBrackets(),this.$updateHighlightActiveLine(),this._emit("changeSelection")},this.$updateHighlightActiveLine=function(){var e=this.getSession(),t;this.$highlightActiveLine&&(this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(t=this.getCursorPosition()),e.$highlightLineMarker&&!t?(e.removeMarker(e.$highlightLineMarker.id),e.$highlightLineMarker=null):!e.$highlightLineMarker&&t?e.$highlightLineMarker=e.highlightLines(t.row,t.row,"ace_active-line"):t&&(e.$highlightLineMarker.start.row=t.row,e.$highlightLineMarker.end.row=t.row,e._emit("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null;if(!this.selection.isEmpty()){var n=this.selection.getRange(),r=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,"ace_selection",r)}else this.$updateHighlightActiveLine();var i=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(i),this._emit("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(t.isEmpty()||t.isMultiLine())return;var n=t.start.column-1,r=t.end.column+1,i=e.getLine(t.start.row),s=i.length,o=i.substring(Math.max(n,0),Math.min(r,s));if(n>=0&&/^[\w\d]/.test(o)||r<=s&&/[\w\d]$/.test(o))return;o=i.substring(t.start.column,t.end.column);if(!/^[\w\d]+$/.test(o))return;var u=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o});return u},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(){this.renderer.updateText()},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getCopyText=function(){var e="";return this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange())),this._emit("copy",e),e},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e){if(this.$readOnly)return;this._emit("paste",e),this.insert(e)},this.execCommand=function(e,t){this.commands.exec(e,this,t)},this.insert=function(e){var t=this.session,n=t.getMode(),r=this.getCursorPosition();if(this.getBehavioursEnabled()){var i=n.transformAction(t.getState(r.row),"insertion",this,t,e);i&&(e=i.text)}e=e.replace("	",this.session.getTabString());if(!this.selection.isEmpty())r=this.session.remove(this.getSelectionRange()),this.clearSelection();else if(this.session.getOverwrite()){var s=new h.fromPoints(r,r);s.end.column+=e.length,this.session.remove(s)}this.clearSelection();var o=r.column,u=t.getState(r.row),a=t.getLine(r.row),f=n.checkOutdent(u,a,e),l=t.insert(r,e);i&&i.selection&&(i.selection.length==2?this.selection.setSelectionRange(new h(r.row,o+i.selection[0],r.row,o+i.selection[1])):this.selection.setSelectionRange(new h(r.row+i.selection[0],i.selection[1],r.row+i.selection[2],i.selection[3])));if(t.getDocument().isNewLine(e)){var c=n.getNextLineIndent(u,a.slice(0,r.column),t.getTabString());this.moveCursorTo(r.row+1,0);var p=t.getTabSize(),d=Number.MAX_VALUE;for(var v=r.row+1;v<=l.row;++v){var m=0;a=t.getLine(v);for(var g=0;g<a.length;++g)if(a.charAt(g)=="	")m+=p;else{if(a.charAt(g)!=" ")break;m+=1}/[^\s]/.test(a)&&(d=Math.min(m,d))}for(var v=r.row+1;v<=l.row;++v){var y=d;a=t.getLine(v);for(var g=0;g<a.length&&y>0;++g)a.charAt(g)=="	"?y-=p:a.charAt(g)==" "&&(y-=1);t.remove(new h(v,0,v,g))}t.indentRows(r.row+1,l.row,c)}f&&n.autoOutdent(u,t,r.row)},this.onTextInput=function(e){this.keyBinding.onTextInput(e)},this.onCommandKey=function(e,t,n){this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.$mouseHandler.setScrollSpeed(e)},this.getScrollSpeed=function(){return this.$mouseHandler.getScrollSpeed()},this.setDragDelay=function(e){this.$mouseHandler.setDragDelay(e)},this.getDragDelay=function(){return this.$mouseHandler.getDragDelay()},this.$selectionStyle="line",this.setSelectionStyle=function(e){if(this.$selectionStyle==e)return;this.$selectionStyle=e,this.onSelectionChange(),this._emit("changeSelectionStyle",{data:e})},this.getSelectionStyle=function(){return this.$selectionStyle},this.$highlightActiveLine=!0,this.setHighlightActiveLine=function(e){if(this.$highlightActiveLine==e)return;this.$highlightActiveLine=e,this.$updateHighlightActiveLine()},this.getHighlightActiveLine=function(){return this.$highlightActiveLine},this.$highlightGutterLine=!0,this.setHighlightGutterLine=function(e){if(this.$highlightGutterLine==e)return;this.renderer.setHighlightGutterLine(e),this.$highlightGutterLine=e},this.getHighlightGutterLine=function(){return this.$highlightGutterLine},this.$highlightSelectedWord=!0,this.setHighlightSelectedWord=function(e){if(this.$highlightSelectedWord==e)return;this.$highlightSelectedWord=e,this.$onSelectionChange()},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.$readOnly=!1,this.setReadOnly=function(e){this.$readOnly=e},this.getReadOnly=function(){return this.$readOnly},this.$modeBehaviours=!0,this.setBehavioursEnabled=function(e){this.$modeBehaviours=e},this.getBehavioursEnabled=function(){return this.$modeBehaviours},this.$modeWrapBehaviours=!0,this.setWrapBehavioursEnabled=function(e){this.$modeWrapBehaviours=e},this.getWrapBehavioursEnabled=function(){return this.$modeWrapBehaviours},this.setShowFoldWidgets=function(e){var t=this.renderer.$gutterLayer;if(t.getShowFoldWidgets()==e)return;this.renderer.$gutterLayer.setShowFoldWidgets(e),this.$showFoldWidgets=e,this.renderer.updateFull()},this.getShowFoldWidgets=function(){return this.renderer.$gutterLayer.getShowFoldWidgets()},this.setFadeFoldWidgets=function(e){this.renderer.setFadeFoldWidgets(e)},this.getFadeFoldWidgets=function(){return this.renderer.getFadeFoldWidgets()},this.remove=function(e){this.selection.isEmpty()&&(e=="left"?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,r=n.getState(t.start.row),i=n.getMode().transformAction(r,"deletion",this,n,t);i&&(t=i)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(!this.selection.isEmpty())return;var e=this.getCursorPosition(),t=e.column;if(t===0)return;var n=this.session.getLine(e.row),r,i;t<n.length?(r=n.charAt(t)+n.charAt(t-1),i=new h(e.row,t-1,e.row,t+1)):(r=n.charAt(t-1)+n.charAt(t-2),i=new h(e.row,t-2,e.row,t)),this.session.replace(i,r)},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row||t.start.column<t.end.column)){var r;if(this.session.getUseSoftTabs()){var s=e.getTabSize(),o=this.getCursorPosition(),u=e.documentToScreenColumn(o.row,o.column),a=s-u%s;r=i.stringRepeat(" ",a)}else r="	";return this.insert(r)}var n=this.$getSelectedRows();e.indentRows(n.first,n.last,"	")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){var e=this.$getSelectedRows(),t=this.session,n=[];for(i=e.first;i<=e.last;i++)n.push(t.getLine(i));n.sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0});var r=new h(0,0,0,0);for(var i=e.first;i<=e.last;i++){var s=t.getLine(i);r.start.row=i,r.end.row=i,r.end.column=s.length,t.replace(r,n[i-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;var r=this.session.getLine(e);while(n.lastIndex<t-1){var i=n.exec(r);if(i.index<=t&&i.index+i[0].length>=t){var s={value:i[0],start:i.index,end:i.index+i[0].length};return s}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,r=new h(t,n-1,t,n),i=this.session.getTextRange(r);if(!isNaN(parseFloat(i))&&isFinite(i)){var s=this.getNumberAt(t,n);if(s){var o=s.value.indexOf(".")>=0?s.start+s.value.indexOf(".")+1:s.end,u=s.start+s.value.length-o,a=parseFloat(s.value);a*=Math.pow(10,u),o!==s.end&&n<o?e*=Math.pow(10,s.end-n-1):e*=Math.pow(10,s.end-n),a+=e,a/=Math.pow(10,u);var f=a.toFixed(u),l=new h(t,s.start,t,s.end);this.session.replace(l,f),this.moveCursorTo(t,Math.max(s.start+1,n+f.length-s.value.length))}}},this.removeLines=function(){var e=this.$getSelectedRows(),t;e.first===0||e.last+1<this.session.getLength()?t=new h(e.first,0,e.last+1,0):t=new h(e.first-1,this.session.getLine(e.first-1).length,e.last,this.session.getLine(e.last).length),this.session.remove(t),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange();if(n.isEmpty()){var r=n.start.row;t.duplicateLines(r,r)}else{var i=e.isBackwards(),s=e.isBackwards()?n.start:n.end,o=t.insert(s,t.getTextRange(n),!1);n.start=s,n.end=o,e.setSelectionRange(n,i)}},this.moveLinesDown=function(){this.$moveLines(function(e,t){return this.session.moveLinesDown(e,t)})},this.moveLinesUp=function(){this.$moveLines(function(e,t){return this.session.moveLinesUp(e,t)})},this.moveText=function(e,t){return this.$readOnly?null:this.session.moveText(e,t)},this.copyLinesUp=function(){this.$moveLines(function(e,t){return this.session.duplicateLines(e,t),0})},this.copyLinesDown=function(){this.$moveLines(function(e,t){return this.session.duplicateLines(e,t)})},this.$moveLines=function(e){var t=this.$getSelectedRows(),n=this.selection;if(!n.isMultiLine())var r=n.getRange(),i=n.isBackwards();var s=e.call(this,t.first,t.last);r?(r.start.row+=s,r.end.row+=s,n.setSelectionRange(r,i)):(n.setSelectionAnchor(t.last+s+1,0),n.$moveSelection(function(){n.moveCursorTo(t.first+s,0)}))},this.$getSelectedRows=function(){var e=this.getSelectionRange().collapseRows();return{first:e.start.row,last:e.end.row}},this.onCompositionStart=function(e){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,r=this.renderer.layerConfig,i=e*Math.floor(r.height/r.lineHeight);this.$blockScrolling++,t==1?this.selection.$moveSelection(function(){this.moveCursorBy(i,0)}):t==0&&(this.selection.moveCursorBy(i,0),this.selection.clearSelection()),this.$blockScrolling--;var s=n.scrollTop;n.scrollBy(0,i*r.lineHeight),t!=null&&n.scrollCursorIntoView(null,.5),n.animateScrolling(s)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,r){this.renderer.scrollToLine(e,t,n,r)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e){var t=this.getCursorPosition(),n=this.session.getBracketRange(t);if(!n){n=this.find({needle:/[{}()\[\]]/g,preventScroll:!0,start:{row:t.row,column:t.column-1}});if(!n)return;var r=n.start;r.row==t.row&&Math.abs(r.column-t.column)<2&&(n=this.session.getBracketRange(r))}r=n&&n.cursor||r,r&&(e?n&&n.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(r.row,r.column):(this.clearSelection(),this.moveCursorTo(r.row,r.column)))},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.$blockScrolling+=1,this.moveCursorTo(e-1,t||0),this.$blockScrolling-=1,this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.navigateUp=function(e){this.selection.clearSelection(),e=e||1,this.selection.moveCursorBy(-e,0)},this.navigateDown=function(e){this.selection.clearSelection(),e=e||1,this.selection.moveCursorBy(e,0)},this.navigateLeft=function(e){if(!this.selection.isEmpty()){var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}else{e=e||1;while(e--)this.selection.moveCursorLeft()}this.clearSelection()},this.navigateRight=function(e){if(!this.selection.isEmpty()){var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}else{e=e||1;while(e--)this.selection.moveCursorRight()}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){var e=this.renderer.scrollTop;this.selection.moveCursorFileEnd(),this.clearSelection(),this.renderer.animateScrolling(e)},this.navigateFileStart=function(){var e=this.renderer.scrollTop;this.selection.moveCursorFileStart(),this.clearSelection(),this.renderer.animateScrolling(e)},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),r=0;return n?(this.$tryReplace(n,e)&&(r=1),n!==null&&(this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end)),r):r},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),r=0;if(!n.length)return r;this.$blockScrolling+=1;var i=this.getSelectionRange();this.clearSelection(),this.selection.moveCursorTo(0,0);for(var s=n.length-1;s>=0;--s)this.$tryReplace(n[s],e)&&r++;return this.selection.setSelectionRange(i),this.$blockScrolling-=1,r},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return t=this.$search.replace(n,t),t!==null?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,n){t||(t={}),typeof e=="string"||e instanceof RegExp?t.needle=e:typeof e=="object"&&r.mixin(t,e);var i=this.selection.getRange();t.needle==null&&(e=this.session.getTextRange(i)||this.$search.$options.needle,e||(i=this.session.getWordRange(i.start.row,i.start.column),e=this.session.getTextRange(i)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:i});var s=this.$search.find(this.session);if(t.preventScroll)return s;if(s)return this.revealRange(s,n),s;t.backwards?i.start=i.end:i.end=i.start,this.selection.setRange(i)},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.$blockScrolling+=1,this.session.unfold(e),this.selection.setSelectionRange(e),this.$blockScrolling-=1;var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),t!=0&&this.renderer.animateScrolling(n)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy()}}).call(g.prototype),t.Editor=g}),define("ace/lib/lang",["require","exports","module"],function(e,t,n){t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){var n="";while(t>0){t&1&&(n+=e);if(t>>=1)e+=e}return n};var r=/^\s\s*/,i=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(r,"")},t.stringTrimRight=function(e){return e.replace(i,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){var t=[];for(var n=0,r=e.length;n<r;n++)e[n]&&typeof e[n]=="object"?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},t.deepCopy=function(e){if(typeof e!="object")return e;var t=e.constructor();for(var n in e)typeof e[n]=="object"?t[n]=this.deepCopy(e[n]):t[n]=e[n];return t},t.arrayToMap=function(e){var t={};for(var n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return e.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,function(e){n.push({offset:arguments[arguments.length-2],length:e.length})}),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},r=function(e){return r.cancel(),t=setTimeout(n,e||0),r};return r.schedule=r,r.call=function(){return this.cancel(),e(),r},r.cancel=function(){return clearTimeout(t),t=null,r},r},t.delayedCall=function(e,t){var n=null,r=function(){n=null,e()},i=function(e){n&&clearTimeout(n),n=setTimeout(r,e||t)};return i.delay=i,i.schedule=function(e){n==null&&(n=setTimeout(r,e||0))},i.call=function(){this.cancel(),e()},i.cancel=function(){n&&clearTimeout(n),n=null},i.isPending=function(){return n},i}}),define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang"],function(e,t,n){var r=e("../lib/event"),i=e("../lib/useragent"),s=e("../lib/dom"),o=e("../lib/lang"),u=function(e,t){function g(e){if(c)return;var t=e?2:1,r=2;try{n.setSelectionRange(t,r)}catch(i){}}function y(){if(c)return;n.value=u,i.isWebKit&&m.schedule()}function D(){setTimeout(function(){h&&(n.style.cssText=h,h=""),t.renderer.$keepTextAreaAtCursor==null&&(t.renderer.$keepTextAreaAtCursor=!0,t.renderer.$moveTextAreaToCursor())},0)}var n=s.createElement("textarea");n.className="ace_text-input",i.isTouchPad&&n.setAttribute("x-palm-disable-auto-cap",!0),n.wrap="off",n.autocorrect="off",n.autocapitalize="off",n.spellcheck=!1,n.style.top="-2em",e.insertBefore(n,e.firstChild);var u="",a=!1,f=!1,l=!1,c=!1,h="",p=!0,d=document.activeElement===n;r.addListener(n,"blur",function(){t.onBlur(),d=!1}),r.addListener(n,"focus",function(){d=!0,t.onFocus(),g()}),this.focus=function(){n.focus()},this.blur=function(){n.blur()},this.isFocused=function(){return d};var v=o.delayedCall(function(){d&&g(p)}),m=o.delayedCall(function(){c||(n.value=u,d&&g())});i.isWebKit||t.addEventListener("changeSelection",function(){t.selection.isEmpty()!=p&&(p=!p,v.schedule())}),y(),d&&t.onFocus();var b=function(e){return e.selectionStart===0&&e.selectionEnd===e.value.length};!n.setSelectionRange&&n.createTextRange&&(n.setSelectionRange=function(e,t){var n=this.createTextRange();n.collapse(!0),n.moveStart("character",e),n.moveEnd("character",t),n.select()},b=function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return!t||t.parentElement()!=e?!1:t.text==e.value});if(i.isOldIE){var w=!1,E=function(e){if(w)return;var t=n.value;if(c||!t||t==u)return;if(e&&t==u[0])return S.schedule();N(t),w=!0,y(),w=!1},S=o.delayedCall(E);r.addListener(n,"propertychange",E);var x={13:1,27:1};r.addListener(n,"keyup",function(e){c&&(!n.value||x[e.keyCode])&&setTimeout(_,0);if((n.value.charCodeAt(0)||0)<129)return;c?M():O()})}var T=function(e){if(a){a=!1;return}if(f){f=!1;return}b(n)&&(t.selectAll(),g())},N=function(e){l?(g(),e&&t.onPaste(e),l=!1):e==u[0]?t.execCommand("del",{source:"ace"}):(e.substring(0,2)==u?e=e.substr(2):e[0]==u[0]?e=e.substr(1):e[e.length-1]==u[0]&&(e=e.slice(0,-1)),e[e.length-1]==u[0]&&(e=e.slice(0,-1)),e&&t.onTextInput(e))},C=function(e){if(c)return;var t=n.value;y(),N(t)},k=function(e){var i=t.getCopyText();if(!i){r.preventDefault(e);return}var s=e.clipboardData||window.clipboardData;if(s){var o=s.setData("Text",i);o&&(t.onCut(),r.preventDefault(e))}o||(a=!0,n.value=i,n.select(),setTimeout(function(){a=!1,y(),g(),t.onCut()}))},L=function(e){var i=t.getCopyText();if(!i){r.preventDefault(e);return}var s=e.clipboardData||window.clipboardData;if(s){var o=s.setData("Text",i);o&&(t.onCopy(),r.preventDefault(e))}o||(f=!0,n.value=i,n.select(),setTimeout(function(){f=!1,y(),g(),t.onCopy()}))},A=function(e){var s=e.clipboardData||window.clipboardData;if(s){var o=s.getData("Text");o&&t.onPaste(o),i.isIE&&setTimeout(g),r.preventDefault(e)}else n.value="",l=!0};r.addCommandKeyListener(n,t.onCommandKey.bind(t)),r.addListener(n,"select",T),r.addListener(n,"input",C),r.addListener(n,"cut",k),r.addListener(n,"copy",L),r.addListener(n,"paste",A),(!("oncut"in n)||!("oncopy"in n)||!("onpaste"in n))&&r.addListener(e,"keydown",function(e){if(i.isMac&&!e.metaKey||!e.ctrlKey)return;switch(e.keyCode){case 67:L(e);break;case 86:A(e);break;case 88:k(e)}});var O=function(e){c=!0,t.onCompositionStart(),setTimeout(M,0)},M=function(){if(!c)return;t.onCompositionUpdate(n.value)},_=function(e){c=!1,t.onCompositionEnd()};r.addListener(n,"compositionstart",O),i.isGecko?r.addListener(n,"text",M):r.addListener(n,"keyup",M),r.addListener(n,"compositionend",_),this.getElement=function(){return n},this.onContextMenu=function(e){h||(h=n.style.cssText),n.style.cssText="z-index:100000;"+(i.isIE?"opacity:0.1;":""),g(t.selection.isEmpty()),t._emit("nativecontextmenu",{target:t});var s=t.container.getBoundingClientRect(),o=function(e){n.style.left=e.clientX-s.left-2+"px",n.style.top=e.clientY-s.top-2+"px"};o(e);if(e.type!="mousedown")return;t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=null),i.isWin&&r.capture(t.container,o,D)},this.onContextMenuClose=D,i.isGecko||r.addListener(n,"contextmenu",function(e){t.textInput.onContextMenu(e),D()})};t.TextInput=u}),define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop"],function(e,t,n){var r=e("../lib/event"),i=e("../lib/useragent"),s=e("./default_handlers").DefaultHandlers,o=e("./default_gutter_handler").GutterHandler,u=e("./mouse_event").MouseEvent,a=e("./dragdrop").DragdropHandler,f=function(e){this.editor=e,new s(this),new o(this),new a(this),r.addListener(e.container,"mousedown",function(t){return e.focus(),r.preventDefault(t)});var t=e.renderer.getMouseEventTarget();r.addListener(t,"click",this.onMouseEvent.bind(this,"click")),r.addListener(t,"mousemove",this.onMouseMove.bind(this,"mousemove")),r.addMultiMouseDownListener(t,[300,300,250],this,"onMouseEvent"),r.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"));var n=e.renderer.$gutter;r.addListener(n,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),r.addListener(n,"click",this.onMouseEvent.bind(this,"gutterclick")),r.addListener(n,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),r.addListener(n,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"))};(function(){this.$scrollSpeed=1,this.setScrollSpeed=function(e){this.$scrollSpeed=e},this.getScrollSpeed=function(){return this.$scrollSpeed},this.onMouseEvent=function(e,t){this.editor._emit(e,new u(t,this.editor))},this.$dragDelay=250,this.setDragDelay=function(e){this.$dragDelay=e},this.getDragDelay=function(){return this.$dragDelay},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;if(!n||!n.length)return;this.editor._emit(e,new u(t,this.editor))},this.onMouseWheel=function(e,t){var n=new u(t,this.editor);n.speed=this.$scrollSpeed*2,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){t&&this.setState(t),this.x=e.x,this.y=e.y,this.isMousePressed=!0;var n=this.editor.renderer;n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=null);var s=this,o=function(e){s.x=e.clientX,s.y=e.clientY},u=function(e){clearInterval(f),s[s.state+"End"]&&s[s.state+"End"](e),s.$clickSelection=null,n.$keepTextAreaAtCursor==null&&(n.$keepTextAreaAtCursor=!0,n.$moveTextAreaToCursor()),s.isMousePressed=!1},a=function(){s[s.state]&&s[s.state]()};if(i.isOldIE&&e.domEvent.type=="dblclick"){setTimeout(function(){a(),u(e.domEvent)});return}r.capture(this.editor.container,o,u);var f=setInterval(a,20)}}).call(f.prototype),t.MouseHandler=f}),define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/useragent"],function(e,t,n){function o(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e));var n=["select","startSelect","drag","dragEnd","dragWait","dragWaitEnd","startDrag","focusWait"];n.forEach(function(t){e[t]=this[t]},this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange"),e.$focusWaitTimout=250}function u(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}function a(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else var n=2*t.row-e.start.row-e.end.row;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}var r=e("../lib/dom"),i=e("../lib/useragent"),s=5;(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var r=this.editor,i=e.getButton();if(i!==0){var s=r.getSelectionRange(),o=s.isEmpty();o&&(r.moveCursorToPosition(n),r.selection.clearSelection()),r.textInput.onContextMenu(e.domEvent);return}if(t&&!r.isFocused()){r.focus();if(this.$focusWaitTimout&&!this.$clickSelection)return this.setState("focusWait"),this.captureMouse(e),e.preventDefault()}return!t||this.$clickSelection||e.getShiftKey()?this.startSelect(n):t&&(this.mousedownEvent.time=(new Date).getTime(),this.setState("dragWait")),this.captureMouse(e),e.preventDefault()},this.startSelect=function(e){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y),this.mousedownEvent.getShiftKey()?this.editor.selection.selectToPosition(e):this.$clickSelection||(this.editor.moveCursorToPosition(e),this.editor.selection.clearSelection()),this.setState("select")},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var r=this.$clickSelection.comparePoint(n);if(r==-1)e=this.$clickSelection.end;else if(r==1)e=this.$clickSelection.start;else{var i=a(this.$clickSelection,n);n=i.cursor,e=i.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,r=n.renderer.screenToTextCoordinates(this.x,this.y),i=n.selection[e](r.row,r.column);if(this.$clickSelection){var s=this.$clickSelection.comparePoint(i.start),o=this.$clickSelection.comparePoint(i.end);if(s==-1&&o<=0){t=this.$clickSelection.end;if(i.end.row!=r.row||i.end.column!=r.column)r=i.start}else if(o==1&&s>=0){t=this.$clickSelection.start;if(i.start.row!=r.row||i.start.column!=r.column)r=i.end}else if(s==-1&&o==1)r=i.end,t=i.start;else{var u=a(this.$clickSelection,r);r=u.cursor,t=u.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(r),n.renderer.scrollCursorIntoView()},this.startDrag=function(){var e=this.editor;this.setState("drag"),this.dragRange=e.getSelectionRange();var t=e.getSelectionStyle();this.dragSelectionMarker=e.session.addMarker(this.dragRange,"ace_selection",t),e.clearSelection(),r.addCssClass(e.container,"ace_dragging"),this.$dragKeybinding||(this.$dragKeybinding={handleKeyboard:function(e,t,n,r){if(n=="esc")return{command:this.command}},command:{exec:function(e){var t=e.$mouseHandler;t.dragCursor=null,t.dragEnd(),t.startSelect()}}}),e.keyBinding.addKeyboardHandler(this.$dragKeybinding)},this.focusWait=function(){var e=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=(new Date).getTime();(e>s||t-this.mousedownEvent.time>this.$focusWaitTimout)&&this.startSelect()},this.dragWait=function(e){var t=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),n=(new Date).getTime(),r=this.editor;t>s?this.startSelect(this.mousedownEvent.getDocumentPosition()):n-this.mousedownEvent.time>r.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(e){this.mousedownEvent.domEvent=e,this.startSelect()},this.drag=function(){var e=this.editor;this.dragCursor=e.renderer.screenToTextCoordinates(this.x,this.y),e.moveCursorToPosition(this.dragCursor),e.renderer.scrollCursorIntoView()},this.dragEnd=function(e){var t=this.editor,n=this.dragCursor,i=this.dragRange;r.removeCssClass(t.container,"ace_dragging"),t.session.removeMarker(this.dragSelectionMarker),t.keyBinding.removeKeyboardHandler(this.$dragKeybinding);if(!n)return;t.clearSelection();if(e&&(e.ctrlKey||e.altKey)){var s=t.session,o=i;o.end=s.insert(n,s.getTextRange(i)),o.start=n}else{if(i.contains(n.row,n.column))return;var o=t.moveText(i,n)}if(!o)return;t.selection.setSelectionRange(o)},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,r=n.session,i=r.getBracketRange(t);if(i){i.isEmpty()&&(i.start.column--,i.end.column++),this.$clickSelection=i,this.setState("select");return}this.$clickSelection=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines"),this.$clickSelection=n.selection.getLineRange(t.row)},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("null")},this.onMouseWheel=function(e){if(e.getShiftKey()||e.getAccelKey())return;var t=this.editor,n=t.renderer.isScrollableBy(e.wheelX*e.speed,e.wheelY*e.speed);if(n)this.$passScrollEvent=!1;else{if(this.$passScrollEvent)return;if(!this.$scrollStopTimeout){var r=this;this.$scrollStopTimeout=setTimeout(function(){r.$passScrollEvent=!0,r.$scrollStopTimeout=null},200)}}return t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.preventDefault()}}).call(o.prototype),t.DefaultHandlers=o}),define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event"],function(e,t,n){function s(e){function f(){u=r.createElement("div"),u.className="ace_gutter-tooltip",u.style.maxWidth="500px",u.style.display="none",t.container.appendChild(u)}function l(){u||f();var e=o.getDocumentPosition().row,r=n.$annotations[e];if(!r)return c();var i=t.session.getLength();if(e==i){var s=t.renderer.pixelToScreenCoordinates(0,o.y).row,l=o.$pos;if(s>t.session.documentToScreenRow(l.row,l.column))return c()}if(a==r)return;a=r.text.join("<br/>"),u.style.display="block",u.innerHTML=a,t.on("mousewheel",c),h(o)}function c(){s&&(s=clearTimeout(s)),a&&(u.style.display="none",a=null,t.removeEventListener("mousewheel",c))}function h(e){var n=t.renderer.$gutter.getBoundingClientRect();u.style.left=e.x-n.left+15+"px",e.y+3*t.renderer.lineHeight+15<n.bottom?(u.style.bottom="",u.style.top=e.y-n.top+15+"px"):(u.style.top="",u.style.bottom=n.bottom-e.y+5+"px")}var t=e.editor,n=t.renderer.$gutterLayer;e.editor.setDefaultHandler("guttermousedown",function(r){if(!t.isFocused())return;var i=n.getRegion(r);if(i)return;var s=r.getDocumentPosition().row,o=t.session.selection;if(r.getShiftKey())o.selectTo(s,0);else{if(r.domEvent.detail==2)return t.selectAll(),r.preventDefault();e.$clickSelection=t.selection.getLineRange(s)}return e.captureMouse(r,"selectByLines"),r.preventDefault()});var s,o,u,a;e.editor.setDefaultHandler("guttermousemove",function(t){var n=t.domEvent.target||t.domEvent.srcElement;if(r.hasCssClass(n,"ace_fold-widget"))return c();a&&h(t),o=t;if(s)return;s=setTimeout(function(){s=null,o&&!e.isMousePressed?l():c()},50)}),i.addListener(t.renderer.$gutter,"mouseout",function(e){o=null;if(!a||s)return;s=setTimeout(function(){s=null,c()},50)})}var r=e("../lib/dom"),i=e("../lib/event");t.GutterHandler=s}),define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,n){var r=e("../lib/event"),i=e("../lib/useragent"),s=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){r.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){r.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var e=this.editor;if(e.getReadOnly())this.$inSelection=!1;else{var t=e.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var n=this.getDocumentPosition();this.$inSelection=t.contains(n.row,n.column)}}return this.$inSelection},this.getButton=function(){return r.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=i.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(s.prototype)}),define("ace/mouse/dragdrop",["require","exports","module","ace/lib/event"],function(e,t,n){var r=e("../lib/event"),i=function(e){var t=e.editor,n,i,s,o,u,a,f,l=0,c=t.container;r.addListener(c,"dragenter",function(e){l++;if(!n){u=t.getSelectionRange(),a=t.selection.isBackwards();var i=t.getSelectionStyle();n=t.session.addMarker(u,"ace_selection",i),t.clearSelection(),clearInterval(o),o=setInterval(h,20)}return r.preventDefault(e)}),r.addListener(c,"dragover",function(e){return i=e.clientX,s=e.clientY,r.preventDefault(e)});var h=function(){f=t.renderer.screenToTextCoordinates(i,s),t.moveCursorToPosition(f),t.renderer.scrollCursorIntoView()};r.addListener(c,"dragleave",function(e){l--;if(l>0)return;return console.log(e.type,l,e.target),clearInterval(o),t.session.removeMarker(n),n=null,t.selection.setSelectionRange(u,a),r.preventDefault(e)}),r.addListener(c,"drop",function(e){return console.log(e.type,l,e.target),l=0,clearInterval(o),t.session.removeMarker(n),n=null,u.end=t.session.insert(f,e.dataTransfer.getData("Text")),u.start=f,t.focus(),t.selection.setSelectionRange(u),r.preventDefault(e)})};t.DragdropHandler=i}),define("ace/mouse/fold_handler",["require","exports","module"],function(e,t,n){function r(e){e.on("click",function(t){var n=t.getDocumentPosition(),r=e.session,i=r.getFoldAt(n.row,n.column,1);i&&(t.getAccelKey()?r.removeFold(i):r.expandFold(i),t.stop())}),e.on("guttermousedown",function(t){var n=e.renderer.$gutterLayer.getRegion(t);if(n=="foldWidgets"){var r=t.getDocumentPosition().row,i=e.session;i.foldWidgets&&i.foldWidgets[r]&&e.session.onFoldWidgetClick(r,t),t.stop()}}),e.on("gutterdblclick",function(t){var n=e.renderer.$gutterLayer.getRegion(t);if(n=="foldWidgets"){var r=t.getDocumentPosition().row,i=e.session,s=i.foldWidgets;if(!s||s[r])return;var o=r-1,u;while(o>=0){var a=s[o];a==null&&(a=s[o]=i.getFoldWidget());if(a=="start"){var f=i.getFoldWidgetRange(o);u||(u=f);if(f&&f.end.row>=r)break}o--}o==-1&&(f=u);if(f){var r=f.start.row,l=i.getFoldAt(r,i.getLine(r).length,1);l?i.removeFold(l):(i.addFold("...",f),e.renderer.scrollCursorIntoView({row:f.start.row,column:0}))}t.stop()}})}t.FoldHandler=r}),define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(e,t,n){var r=e("../lib/keys"),i=e("../lib/event"),s=function(e){this.$editor=e,this.$data={},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0),this.$data={editor:this.$editor}},this.setKeyboardHandler=function(e){if(this.$handlers[this.$handlers.length-1]==e)return;while(this.$handlers[1])this.removeKeyboardHandler(this.$handlers[1]);this.addKeyboardHandler(e,1)},this.addKeyboardHandler=function(e,t){if(!e)return;var n=this.$handlers.indexOf(e);n!=-1&&this.$handlers.splice(n,1),t==undefined?this.$handlers.push(e):this.$handlers.splice(t,0,e),n==-1&&e.attach&&e.attach(this.$editor)},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return t==-1?!1:(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.$callKeyboardHandlers=function(e,t,n,r){var s,o=!1,u=this.$editor.commands;for(var a=this.$handlers.length;a--;){s=this.$handlers[a].handleKeyboard(this.$data,e,t,n,r);if(!s||!s.command)continue;s.command=="null"?o=s.passEvent!=1:o=u.exec(s.command,this.$editor,s.args,r),o&&r&&e!=-1&&i.stopEvent(r);if(o)break}return o},this.onCommandKey=function(e,t,n){var i=r.keyCodeToString(n);this.$callKeyboardHandlers(t,i,n,e)},this.onTextInput=function(e){var t=this.$callKeyboardHandlers(-1,e);t||this.$editor.commands.exec("insertstring",this.$editor,e)}}).call(s.prototype),t.KeyBinding=s}),define("ace/edit_session",["require","exports","module","ace/config","ace/lib/oop","ace/lib/lang","ace/lib/net","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(e,t,n){var r=e("./config"),i=e("./lib/oop"),s=e("./lib/lang"),o=e("./lib/net"),u=e("./lib/event_emitter").EventEmitter,a=e("./selection").Selection,f=e("./mode/text").Mode,l=e("./range").Range,c=e("./document").Document,h=e("./background_tokenizer").BackgroundTokenizer,p=e("./search_highlight").SearchHighlight,d=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.$foldData.toString=function(){var e="";return this.forEach(function(t){e+="\n"+t.toString()}),e},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this);if(typeof e!="object"||!e.getLine)e=new c(e);this.setDocument(e),this.selection=new a(this),this.setMode(t)};(function(){function g(e){return e<4352?!1:e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510}i.implement(this,u),this.setDocument=function(e){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=e,e.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e){this.$docRowCache=[],this.$screenRowCache=[];return}var t=this.$getRowCacheIndex(this.$docRowCache,e)+1,n=this.$docRowCache.length;this.$docRowCache.splice(t,n),this.$screenRowCache.splice(t,n)},this.$getRowCacheIndex=function(e,t){var n=0,r=e.length-1;while(n<=r){var i=n+r>>1,s=e[i];if(t>s)n=i+1;else{if(!(t<s))return i;r=i-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){var t=e.data;this.$modified=!0,this.$resetRowCache(t.range.start.row);var n=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&!t.ignore&&(this.$deltasDoc.push(t),n&&n.length!=0&&this.$deltasFold.push({action:"removeFolds",folds:n}),this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(t),this._emit("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveCursorTo(0,0),this.selection.clearSelection(),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n=this.bgTokenizer.getTokens(e),r,i=0;if(t==null)s=n.length-1,i=this.getLine(e).length;else for(var s=0;s<n.length;s++){i+=n[s].value.length;if(i>=t)break}return r=n[s],r?(r.index=s,r.start=i-r.value.length,r):null},this.setUndoManager=function(e){this.$undoManager=e,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel();if(e){var t=this;this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.$deltasFold.length&&(t.$deltas.push({group:"fold",deltas:t.$deltasFold}),t.$deltasFold=[]),t.$deltasDoc.length&&(t.$deltas.push({group:"doc",deltas:t.$deltasDoc}),t.$deltasDoc=[]),t.$deltas.length>0&&e.execute({action:"aceupdate",args:[t.$deltas,t]}),t.$deltas=[]},this.$informUndoManager=s.deferredCall(this.$syncInformUndoManager)}},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?s.stringRepeat(" ",this.getTabSize()):"	"},this.$useSoftTabs=!0,this.setUseSoftTabs=function(e){if(this.$useSoftTabs===e)return;this.$useSoftTabs=e},this.getUseSoftTabs=function(){return this.$useSoftTabs},this.$tabSize=4,this.setTabSize=function(e){if(isNaN(e)||this.$tabSize===e)return;this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._emit("changeTabSize")},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize==0},this.$overwrite=!1,this.setOverwrite=function(e){if(this.$overwrite==e)return;this.$overwrite=e,this._emit("changeOverwrite")},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._emit("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._emit("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._emit("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._emit("changeBreakpoint",{})},this.setBreakpoint=function(e,t){t===undefined&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._emit("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._emit("changeBreakpoint",{})},this.addMarker=function(e,t,n,r){var i=this.$markerId++,s={range:e,type:n||"line",renderer:typeof n=="function"?n:null,clazz:t,inFront:!!r,id:i};return r?(this.$frontMarkers[i]=s,this._emit("changeFrontMarker")):(this.$backMarkers[i]=s,this._emit("changeBackMarker")),i},this.addDynamicMarker=function(e,t){if(!e.update)return;var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._emit("changeFrontMarker")):(this.$backMarkers[n]=e,this._emit("changeBackMarker")),e},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];if(!t)return;var n=t.inFront?this.$frontMarkers:this.$backMarkers;t&&(delete n[e],this._emit(t.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new p(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,r){typeof t!="number"&&(n=t,t=e),n||(n="ace_step");var i=new l(e,0,t,Infinity),s=this.addMarker(i,n,"fullLine",r);return i.id=s,i},this.setAnnotations=function(e){this.$annotations=e,this._emit("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.$annotations={},this._emit("changeAnnotation",{})},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);t?this.$autoNewLine=t[1]:this.$autoNewLine="\n"},this.getWordRange=function(e,t){var n=this.getLine(e),r=!1;t>0&&(r=!!n.charAt(t-1).match(this.tokenRe)),r||(r=!!n.charAt(t).match(this.tokenRe));if(r)var i=this.tokenRe;else if(/^\s+$/.test(n.slice(t-1,t+1)))var i=/\s/;else var i=this.nonTokenRe;var s=t;if(s>0){do s--;while(s>=0&&n.charAt(s).match(i));s++}var o=t;while(o<n.length&&n.charAt(o).match(i))o++;return new l(e,s,e,o)},this.getAWordRange=function(e,t){var n=this.getWordRange(e,t),r=this.getLine(n.end.row);while(r.charAt(n.end.column).match(/[ \t]/))n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.$useWorker=!0,this.setUseWorker=function(e){if(this.$useWorker==e)return;this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._emit("tokenizerUpdate",e)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(e){if(e&&typeof e=="object"){if(e.getTokenizer)return this.$onChangeMode(e);var t=e,n=t.path}else n=e||"ace/mode/text";this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new f);if(this.$modes[n]&&!t)return this.$onChangeMode(this.$modes[n]);this.$modeId=n,r.loadModule(["mode",n],function(e){if(this.$modeId!==n)return;if(this.$modes[n]&&!t)return this.$onChangeMode(this.$modes[n]);e&&e.Mode&&(e=new e.Mode(t),t||(this.$modes[n]=e,e.$id=n),this.$onChangeMode(e))}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(e,t){if(this.$mode===e)return;this.$mode=e,this.$modeId=e.$id,this.$stopWorker(),this.$useWorker&&this.$startWorker();var n=e.getTokenizer();if(n.addEventListener!==undefined){var r=this.onReloadTokenizer.bind(this);n.addEventListener("update",r)}if(!this.bgTokenizer){this.bgTokenizer=new h(n);var i=this;this.bgTokenizer.addEventListener("update",function(e){i._emit("tokenizerUpdate",e)})}else this.bgTokenizer.setTokenizer(n);this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(this.$setFolding(e.foldingRules),this._emit("changeMode"),this.bgTokenizer.start(0))},this.$stopWorker=function(){this.$worker&&this.$worker.terminate(),this.$worker=null},this.$startWorker=function(){if(typeof Worker!="undefined"&&!e.noWorker)try{this.$worker=this.$mode.createWorker(this)}catch(t){console.log("Could not load worker"),console.log(t),this.$worker=null}else this.$worker=null},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){e=Math.round(Math.max(0,e));if(this.$scrollTop===e)return;this.$scrollTop=e,this._emit("changeScrollTop",e)},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){e=Math.round(Math.max(0,e));if(this.$scrollLeft===e)return;this.$scrollLeft=e,this._emit("changeScrollLeft",e)},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.screenWidth},this.$computeWidth=function(e){if(this.$modified||e){this.$modified=!1;if(this.$useWrapMode)return this.screenWidth=this.$wrapLimit;var t=this.doc.getAllLines(),n=this.$rowLengthCache,r=0,i=0,s=this.$foldData[i],o=s?s.start.row:Infinity,u=t.length;for(var a=0;a<u;a++){if(a>o){a=s.end.row+1;if(a>=u)break;s=this.$foldData[i++],o=s?s.start.row:Infinity}n[a]==null&&(n[a]=this.$getStringScreenWidth(t[a])[0]),n[a]>r&&(r=n[a])}this.screenWidth=r}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.undoChanges=function(e,t){if(!e.length)return;this.$fromUndo=!0;var n=null;for(var r=e.length-1;r!=-1;r--){var i=e[r];i.group=="doc"?(this.doc.revertDeltas(i.deltas),n=this.$getUndoSelection(i.deltas,!0,n)):i.deltas.forEach(function(e){this.addFolds(e.folds)},this)}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n},this.redoChanges=function(e,t){if(!e.length)return;this.$fromUndo=!0;var n=null;for(var r=0;r<e.length;r++){var i=e[r];i.group=="doc"&&(this.doc.applyDeltas(i.deltas),n=this.$getUndoSelection(i.deltas,!1,n))}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t,n){function r(e){var n=e.action=="insertText"||e.action=="insertLines";return t?!n:n}var i=e[0],s,o,u=!1;r(i)?(s=i.range.clone(),u=!0):(s=l.fromPoints(i.range.start,i.range.start),u=!1);for(var a=1;a<e.length;a++)i=e[a],r(i)?(o=i.range.start,s.compare(o.row,o.column)==-1&&s.setStart(i.range.start),o=i.range.end,s.compare(o.row,o.column)==1&&s.setEnd(i.range.end),u=!0):(o=i.range.start,s.compare(o.row,o.column)==-1&&(s=l.fromPoints(i.range.start,i.range.start)),u=!1);if(n!=null){var f=n.compareRange(s);f==1?s.setStart(n.start):f==-1&&s.setEnd(n.end)}return s},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t){var n=this.getTextRange(e);this.remove(e);var r=t.row,i=t.column;!e.isMultiLine()&&e.start.row==r&&e.end.column<i&&(i-=n.length);if(e.isMultiLine()&&e.end.row<r){var s=this.doc.$split(n);r-=s.length-1}var o=r+e.end.row-e.start.row,u=e.isMultiLine()?e.end.column:i+e.end.column-e.start.column,a=new l(r,i,o,u);return this.insert(a.start,n),a},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var r=e;r<=t;r++)this.insert({row:r,column:0},n)},this.outdentRows=function(e){var t=e.collapseRows(),n=new l(0,0,0,0),r=this.getTabSize();for(var i=t.start.row;i<=t.end.row;++i){var s=this.getLine(i);n.start.row=i,n.end.row=i;for(var o=0;o<r;++o)if(s.charAt(o)!=" ")break;o<r&&s.charAt(o)=="	"?(n.start.column=o,n.end.column=o+1):(n.start.column=0,n.end.column=o),this.remove(n)}},this.moveLinesUp=function(e,t){if(e<=0)return 0;var n=this.doc.removeLines(e,t);return this.doc.insertLines(e-1,n),-1},this.moveLinesDown=function(e,t){if(t>=this.doc.getLength()-1)return 0;var n=this.doc.removeLines(e,t);return this.doc.insertLines(e+1,n),1},this.duplicateLines=function(e,t){var e=this.$clipRowToDocument(e),t=this.$clipRowToDocument(t),n=this.getLines(e,t);this.doc.insertLines(e,n);var r=t-e+1;return r},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){t=Math.max(0,t);if(e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0);if(e){var t=this.getLength();this.$wrapData=[];for(var n=0;n<t;n++)this.$wrapData.push([]);this.$updateWrapData(0,t-1)}this._emit("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){if(this.$wrapLimitRange.min!==e||this.$wrapLimitRange.max!==t)this.$wrapLimitRange.min=e,this.$wrapLimitRange.max=t,this.$modified=!0,this._emit("changeWrapMode")},this.adjustWrapLimit=function(e){var t=this.$constrainWrapLimit(e);return t!=this.$wrapLimit&&t>0?(this.$wrapLimit=t,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._emit("changeWrapLimit")),!0):!1},this.$constrainWrapLimit=function(e){var t=this.$wrapLimitRange.min;t&&(e=Math.max(t,e));var n=this.$wrapLimitRange.max;return n&&(e=Math.min(n,e)),Math.max(1,e)},this.getWrapLimit=function(){return this.$wrapLimit},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n,r=e.data.action,i=e.data.range.start.row,s=e.data.range.end.row,o=e.data.range.start,u=e.data.range.end,a=null;r.indexOf("Lines")!=-1?(r=="insertLines"?s=i+e.data.lines.length:s=i,n=e.data.lines?e.data.lines.length:s-i):n=s-i;if(n!=0)if(r.indexOf("remove")!=-1){this[t?"$wrapData":"$rowLengthCache"].splice(i,n);var f=this.$foldData;a=this.getFoldsInRange(e.data.range),this.removeFolds(a);var l=this.getFoldLine(u.row),c=0;if(l){l.addRemoveChars(u.row,u.column,o.column-u.column),l.shiftRow(-n);var h=this.getFoldLine(i);h&&h!==l&&(h.merge(l),l=h),c=f.indexOf(l)+1}for(c;c<f.length;c++){var l=f[c];l.start.row>=u.row&&l.shiftRow(-n)}s=i}else{var p;if(t){p=[i,0];for(var d=0;d<n;d++)p.push([]);this.$wrapData.splice.apply(this.$wrapData,p)}else p=Array(n),p.unshift(i,0),this.$rowLengthCache.splice.apply(this.$rowLengthCache,p);var f=this.$foldData,l=this.getFoldLine(i),c=0;if(l){var v=l.range.compareInside(o.row,o.column);v==0?(l=l.split(o.row,o.column),l.shiftRow(n),l.addRemoveChars(s,0,u.column-o.column)):v==-1&&(l.addRemoveChars(i,0,u.column-o.column),l.shiftRow(n)),c=f.indexOf(l)+1}for(c;c<f.length;c++){var l=f[c];l.start.row>=i&&l.shiftRow(n)}}else{n=Math.abs(e.data.range.start.column-e.data.range.end.column),r.indexOf("remove")!=-1&&(a=this.getFoldsInRange(e.data.range),this.removeFolds(a),n=-n);var l=this.getFoldLine(i);l&&l.addRemoveChars(i,o.column,n)}return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),t?this.$updateWrapData(i,s):this.$updateRowLengthCache(i,s),a},this.$updateRowLengthCache=function(e,t,n){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(e,t){var n=this.doc.getAllLines(),r=this.getTabSize(),i=this.$wrapData,u=this.$wrapLimit,f,l,c=e;t=Math.min(t,n.length-1);while(c<=t){l=this.getFoldLine(c,l);if(!l)f=this.$getDisplayTokens(s.stringTrimRight(n[c])),i[c]=this.$computeWrapSplits(f,u,r),c++;else{f=[],l.walk(function(e,t,r,i){var s;if(e!=null){s=this.$getDisplayTokens(e,f.length),s[0]=o;for(var u=1;u<s.length;u++)s[u]=a}else s=this.$getDisplayTokens(n[t].substring(i,r),f.length);f=f.concat(s)}.bind(this),l.end.row,n[l.end.row].length+1);while(f.length!=0&&f[f.length-1]>=d)f.pop();i[l.start.row]=this.$computeWrapSplits(f,u,r),c=l.end.row+1}}};var t=1,n=2,o=3,a=4,c=9,d=10,v=11,m=12;this.$computeWrapSplits=function(e,t){function u(t){var r=e.slice(i,t),o=r.length;r.join("").replace(/12/g,function(){o-=1}).replace(/2/g,function(){o-=1}),s+=o,n.push(s),i=t}if(e.length==0)return[];var n=[],r=e.length,i=0,s=0;while(r-i>t){var f=i+t;if(e[f]>=d){while(e[f]>=d)f++;u(f);continue}if(e[f]==o||e[f]==a){for(f;f!=i-1;f--)if(e[f]==o)break;if(f>i){u(f);continue}f=i+t;for(f;f<e.length;f++)if(e[f]!=a)break;if(f==e.length)break;u(f);continue}var l=Math.max(f-10,i-1);while(f>l&&e[f]<o)f--;while(f>l&&e[f]==c)f--;if(f>l){u(++f);continue}f=i+t,u(f)}return n},this.$getDisplayTokens=function(e,r){var i=[],s;r=r||0;for(var o=0;o<e.length;o++){var u=e.charCodeAt(o);if(u==9){s=this.getScreenTabSize(i.length+r),i.push(v);for(var a=1;a<s;a++)i.push(m)}else u==32?i.push(d):u>39&&u<48||u>57&&u<64?i.push(c):u>=4352&&g(u)?i.push(t,n):i.push(t)}return i},this.$getStringScreenWidth=function(e,t,n){if(t==0)return[0,0];t==null&&(t=Infinity),n=n||0;var r,i;for(i=0;i<e.length;i++){r=e.charCodeAt(i),r==9?n+=this.getScreenTabSize(n):r>=4352&&g(r)?n+=2:n+=1;if(n>t)break}return[n,i]},this.getRowLength=function(e){return!this.$useWrapMode||!this.$wrapData[e]?1:this.$wrapData[e].length+1},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:undefined},this.getScreenTabSize=function(e){return this.$tabSize-e%this.$tabSize},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t){if(e<0)return{row:0,column:0};var n,r=0,i=0,s,o=0,u=0,a=this.$screenRowCache,f=this.$getRowCacheIndex(a,e),l=a.length;if(l&&f>=0)var o=a[f],r=this.$docRowCache[f],c=e>a[l-1];else var c=!l;var h=this.getLength()-1,p=this.getNextFoldLine(r),d=p?p.start.row:Infinity;while(o<=e){u=this.getRowLength(r);if(o+u-1>=e||r>=h)break;o+=u,r++,r>d&&(r=p.end.row+1,p=this.getNextFoldLine(r,p),d=p?p.start.row:Infinity),c&&(this.$docRowCache.push(r),this.$screenRowCache.push(o))}if(p&&p.start.row<=r)n=this.getFoldDisplayLine(p),r=p.start.row;else{if(o+u<=e||r>h)return{row:h,column:this.getLine(h).length};n=this.getLine(r),p=null}if(this.$useWrapMode){var v=this.$wrapData[r];v&&(s=v[e-o],e>o&&v.length&&(i=v[e-o-1]||v[v.length-1],n=n.substring(i)))}return i+=this.$getStringScreenWidth(n,t)[1],this.$useWrapMode&&i>=s&&(i=s-1),p?p.idxToPosition(i):{row:r,column:i}},this.documentToScreenPosition=function(e,t){if(typeof t=="undefined")var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var r=0,i=null,s=null;s=this.getFoldAt(e,t,1),s&&(e=s.start.row,t=s.start.column);var o,u=0,a=this.$docRowCache,f=this.$getRowCacheIndex(a,e),l=a.length;if(l&&f>=0)var u=a[f],r=this.$screenRowCache[f],c=e>a[l-1];else var c=!l;var h=this.getNextFoldLine(u),p=h?h.start.row:Infinity;while(u<e){if(u>=p){o=h.end.row+1;if(o>e)break;h=this.getNextFoldLine(o,h),p=h?h.start.row:Infinity}else o=u+1;r+=this.getRowLength(u),u=o,c&&(this.$docRowCache.push(u),this.$screenRowCache.push(r))}var d="";h&&u>=p?(d=this.getFoldDisplayLine(h,e,t),i=h.start.row):(d=this.getLine(e).substring(0,t),i=e);if(this.$useWrapMode){var v=this.$wrapData[i],m=0;while(d.length>=v[m])r++,m++;d=d.substring(v[m-1]||0,d.length)}return{row:r,column:this.$getStringScreenWidth(d)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(!this.$useWrapMode){e=this.getLength();var n=this.$foldData;for(var r=0;r<n.length;r++)t=n[r],e-=t.end.row-t.start.row}else{var i=this.$wrapData.length,s=0,r=0,t=this.$foldData[r++],o=t?t.start.row:Infinity;while(s<i)e+=this.$wrapData[s].length+1,s++,s>o&&(s=t.end.row+1,t=this.$foldData[r++],o=t?t.start.row:Infinity)}return e}}).call(d.prototype),e("./edit_session/folding").Folding.call(d.prototype),e("./edit_session/bracket_match").BracketMatch.call(d.prototype),t.EditSession=d}),define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/event_emitter"],function(e,t,n){"no use strict";function f(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}var r=e("./lib/lang"),i=e("./lib/oop"),s=e("./lib/net"),o=e("./lib/event_emitter").EventEmitter,u=function(){return this}(),a={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};t.get=function(e){if(!a.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return a[e]},t.set=function(e,t){if(!a.hasOwnProperty(e))throw new Error("Unknown config key: "+e);a[e]=t},t.all=function(){return r.copyObject(a)},i.implement(t,o),t.moduleUrl=function(e,t){if(a.$moduleUrls[e])return a.$moduleUrls[e];var n=e.split("/");t=t||n[n.length-2]||"";var r=n[n.length-1].replace(t,"").replace(/(^[\-_])|([\-_]$)/,"");!r&&n.length>1&&(r=n[n.length-2]);var i=a[t+"Path"];return i==null&&(i=a.basePath),i&&i.slice(-1)!="/"&&(i+="/"),i+t+"-"+r+this.get("suffix")},t.setModuleUrl=function(e,t){return a.$moduleUrls[e]=t},t.loadModule=function(n,r){var i,o;Array.isArray(n)&&(o=n[0],n=n[1]);try{i=e(n)}catch(u){}if(i)return r(i);var a=function(){e([n],function(e){t._emit("load.module",{name:n,module:e}),r(e)})};if(!t.get("packaged"))return a();s.loadScript(t.moduleUrl(n,o),a)},t.init=function(){a.packaged=e.packaged||n.packaged||u.define&&define.packaged;if(!u.document)return"";var r={},i="",s=document.getElementsByTagName("script");for(var o=0;o<s.length;o++){var l=s[o],c=l.src||l.getAttribute("src");if(!c)continue;var h=l.attributes;for(var p=0,d=h.length;p<d;p++){var v=h[p];v.name.indexOf("data-ace-")===0&&(r[f(v.name.replace(/^data-ace-/,""))]=v.value)}var m=c.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);m&&(i=m[1])}i&&(r.base=r.base||i,r.packaged=!0),r.basePath=r.base,r.workerPath=r.workerPath||r.base,r.modePath=r.modePath||r.base,r.themePath=r.themePath||r.base,delete r.base;for(var g in r)typeof r[g]!="undefined"&&t.set(g,r[g])}}),define("ace/lib/net",["require","exports","module","ace/lib/useragent"],function(e,t,n){var r=e("./useragent");t.get=function(e,n){var r=t.createXhr();r.open("GET",e,!0),r.onreadystatechange=function(e){r.readyState===4&&n(r.responseText)},r.send(null)};var i=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];t.createXhr=function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;for(t=0;t<3;t++){n=i[t];try{e=new ActiveXObject(n)}catch(r){}if(e){i=[n];break}}if(!e)throw new Error("createXhr(): XMLHttpRequest not available");return e},t.loadScript=function(e,t){var n=document.getElementsByTagName("head")[0],i=document.createElement("script");i.src=e,n.appendChild(i),r.isOldIE?i.onreadystatechange=function(){this.readyState=="loaded"&&t()}:i.onload=t}}),define("ace/lib/event_emitter",["require","exports","module"],function(e,t,n){var r={};r._emit=r._dispatchEvent=function(e,t){this._eventRegistry=this._eventRegistry||{},this._defaultHandlers=this._defaultHandlers||{};var n=this._eventRegistry[e]||[],r=this._defaultHandlers[e];if(!n.length&&!r)return;if(typeof t!="object"||!t)t={};t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=function(){this.propagationStopped=!0}),t.preventDefault||(t.preventDefault=function(){this.defaultPrevented=!0});for(var i=0;i<n.length;i++){n[i](t);if(t.propagationStopped)break}if(r&&!t.defaultPrevented)return r(t)},r.setDefaultHandler=function(e,t){this._defaultHandlers=this._defaultHandlers||{};if(this._defaultHandlers[e])throw new Error("The default handler for '"+e+"' is already set");this._defaultHandlers[e]=t},r.on=r.addEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];n||(n=this._eventRegistry[e]=[]),n.indexOf(t)==-1&&n.push(t)},r.removeListener=r.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(!n)return;var r=n.indexOf(t);r!==-1&&n.splice(r,1)},r.removeAllListeners=function(e){this._eventRegistry&&(this._eventRegistry[e]=[])},t.EventEmitter=r}),define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(e,t,n){var r=e("./lib/oop"),i=e("./lib/lang"),s=e("./lib/event_emitter").EventEmitter,o=e("./range").Range,u=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var t=this;this.lead.on("change",function(e){t._emit("changeCursor"),t.$isEmpty||t._emit("changeSelection"),!t.$keepDesiredColumnOnChange&&e.old.column!=e.value.column&&(t.$desiredColumn=null)}),this.selectionAnchor.on("change",function(){t.$isEmpty||t._emit("changeSelection")})};(function(){r.implement(this,s),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return this.isEmpty()?!1:this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.anchor.setPosition(e,t),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(e){if(this.$isEmpty){this.moveCursorTo(this.lead.row,this.lead.column+e);return}var t=this.getSelectionAnchor(),n=this.getSelectionLead(),r=this.isBackwards();(!r||t.column!==0)&&this.setSelectionAnchor(t.row,t.column+e),(r||n.column!==0)&&this.$moveSelection(function(){this.moveCursorTo(n.row,n.column+e)})},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.isEmpty()?o.fromPoints(t,t):this.isBackwards()?o.fromPoints(t,e):o.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var e=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(e,this.doc.getLine(e).length)},this.setRange=this.setSelectionRange=function(e,t){t?(this.setSelectionAnchor(e.end.row,e.end.column),this.selectTo(e.start.row,e.start.column)):(this.setSelectionAnchor(e.start.row,e.start.column),this.selectTo(e.end.row,e.end.column)),this.$desiredColumn=null},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection(function(){this.moveCursorTo(e,t)})},this.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e)})},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if(typeof t=="undefined"){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n=typeof e=="number"?e:this.lead.row,r,i=this.session.getFoldLine(n);return i?(n=i.start.row,r=i.end.row):r=n,t?new o(n,0,r,this.session.getLine(r).length):new o(n,0,r+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.moveCursorLeft=function(){var e=this.lead.getPosition(),t;if(t=this.session.getFoldAt(e.row,e.column,-1))this.moveCursorTo(t.start.row,t.start.column);else if(e.column==0)e.row>0&&this.moveCursorTo(e.row-1,this.doc.getLine(e.row-1).length);else{var n=this.session.getTabSize();this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(e.column-n,e.column).split(" ").length-1==n?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e=this.lead.getPosition(),t;if(t=this.session.getFoldAt(e.row,e.column,1))this.moveCursorTo(t.end.row,t.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize(),e=this.lead;this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(e.column,e.column+n).split(" ").length-1==n?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),r=this.session.screenToDocumentPosition(n,0),i=this.session.getDisplayLine(e,null,r.row,r.column),s=i.match(/^\s*/);s[0].length==t?this.moveCursorTo(r.row,r.column):this.moveCursorTo(r.row,r.column+s[0].length)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var r=n.search(/\s+$/);r>0&&(t.column=r)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t),i;this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var s=this.session.getFoldAt(e,t,1);if(s){this.moveCursorTo(s.end.row,s.end.column);return}if(i=this.session.nonTokenRe.exec(r))t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,r=n.substring(t);if(t>=n.length){this.moveCursorTo(e,n.length),this.moveCursorRight(),e<this.doc.getLength()-1&&this.moveCursorWordRight();return}if(i=this.session.tokenRe.exec(r))t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0;this.moveCursorTo(e,t)},this.moveCursorLongWordLeft=function(){var e=this.lead.row,t=this.lead.column,n;if(n=this.session.getFoldAt(e,t,-1)){this.moveCursorTo(n.start.row,n.start.column);return}var r=this.session.getFoldStringAt(e,t,-1);r==null&&(r=this.doc.getLine(e).substring(0,t));var s=i.stringReverse(r),o;this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;if(o=this.session.nonTokenRe.exec(s))t-=this.session.nonTokenRe.lastIndex,s=s.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0;if(t<=0){this.moveCursorTo(e,0),this.moveCursorLeft(),e>0&&this.moveCursorWordLeft();return}if(o=this.session.tokenRe.exec(s))t-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0;this.moveCursorTo(e,t)},this.$shortWordEndIndex=function(e){var t,n=0,r,i=/\s/,s=this.session.tokenRe;s.lastIndex=0;if(t=this.session.tokenRe.exec(e))n=this.session.tokenRe.lastIndex;else{while((r=e[n])&&i.test(r))n++;if(n<=1){s.lastIndex=0;while((r=e[n])&&!s.test(r)){s.lastIndex=0,n++;if(i.test(r)){if(n>2){n--;break}while((r=e[n])&&i.test(r))n++;if(n>2)break}}}}return s.lastIndex=0,n},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t),i=this.session.getFoldAt(e,t,1);if(i)return this.moveCursorTo(i.end.row,i.end.column);if(t==n.length){var s=this.doc.getLength();do e++,r=this.doc.getLine(e);while(e<s&&/^\s*$/.test(r));/^\s+/.test(r)||(r=""),t=0}var o=this.$shortWordEndIndex(r);this.moveCursorTo(e,t+o)},this.moveCursorShortWordLeft=function(){var e=this.lead.row,t=this.lead.column,n;if(n=this.session.getFoldAt(e,t,-1))return this.moveCursorTo(n.start.row,n.start.column);var r=this.session.getLine(e).substring(0,t);if(t==0){do e--,r=this.doc.getLine(e);while(e>0&&/^\s*$/.test(r));t=r.length,/\s+$/.test(r)||(r="")}var s=i.stringReverse(r),o=this.$shortWordEndIndex(s);return this.moveCursorTo(e,t-o)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n=this.session.documentToScreenPosition(this.lead.row,this.lead.column);t===0&&(this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column);var r=this.session.screenToDocumentPosition(n.row+e,n.column);this.moveCursorTo(r.row,r.column+t,t===0)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var r=this.session.getFoldAt(e,t,1);r&&(e=r.start.row,t=r.start.column),this.$keepDesiredColumnOnChange=!0,this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var r=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(r.row,r.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e}}).call(u.prototype),t.Selection=u}),define("ace/range",["require","exports","module"],function(e,t,n){var r=function(e,t,n,r){this.start={row:e,column:t},this.end={row:n,column:r}};(function(){this.isEqual=function(e){return this.start.row==e.start.row&&this.end.row==e.end.row&&this.start.column==e.start.column&&this.end.column==e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return this.compare(e,t)==0},this.compareRange=function(e){var t,n=e.end,r=e.start;return t=this.compare(n.row,n.column),t==1?(t=this.compare(r.row,r.column),t==1?2:t==0?1:0):t==-1?-2:(t=this.compare(r.row,r.column),t==-1?-1:t==1?42:0)},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return this.comparePoint(e.start)==0&&this.comparePoint(e.end)==0},this.intersects=function(e){var t=this.compareRange(e);return t==-1||t==0||t==1},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){typeof e=="object"?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){typeof e=="object"?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return this.compare(e,t)==0?this.isEnd(e,t)||this.isStart(e,t)?!1:!0:!1},this.insideStart=function(e,t){return this.compare(e,t)==0?this.isEnd(e,t)?!1:!0:!1},this.insideEnd=function(e,t){return this.compare(e,t)==0?this.isStart(e,t)?!1:!0:!1},this.compare=function(e,t){return!this.isMultiLine()&&e===this.start.row?t<this.start.column?-1:t>this.end.column?1:0:e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};if(this.start.row>t)var i={row:t+1,column:0};if(this.start.row<e)var i={row:e,column:0};if(this.end.row<e)var n={row:e,column:0};return r.fromPoints(i||this.start,n||this.end)},this.extend=function(e,t){var n=this.compare(e,t);if(n==0)return this;if(n==-1)var i={row:e,column:t};else var s={row:e,column:t};return r.fromPoints(i||this.start,s||this.end)},this.isEmpty=function(){return this.start.row==this.end.row&&this.start.column==this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return r.fromPoints(this.start,this.end)},this.collapseRows=function(){return this.end.column==0?new r(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new r(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new r(t.row,t.column,n.row,n.column)}}).call(r.prototype),r.fromPoints=function(e,t){return new r(e.row,e.column,t.row,t.column)},t.Range=r}),define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour","ace/unicode"],function(e,t,n){var r=e("../tokenizer").Tokenizer,i=e("./text_highlight_rules").TextHighlightRules,s=e("./behaviour").Behaviour,o=e("../unicode"),u=function(){this.$tokenizer=new r((new i).getRules()),this.$behaviour=new s};(function(){this.tokenRe=new RegExp("^["+o.packages.L+o.packages.Mn+o.packages.Mc+o.packages.Nd+o.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+o.packages.L+o.packages.Mn+o.packages.Mc+o.packages.Nd+o.packages.Pc+"\\$_]|s])+","g"),this.getTokenizer=function(){return this.$tokenizer},this.toggleCommentLines=function(e,t,n,r){},this.getNextLineIndent=function(e,t,n){return""},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){var t=e.match(/^(\s+)/);return t?t[1]:""},this.createWorker=function(e){return null},this.createModeDelegates=function(e){if(!this.$embeds)return;this.$modes={};for(var t=0;t<this.$embeds.length;t++)e[this.$embeds[t]]&&(this.$modes[this.$embeds[t]]=new e[this.$embeds[t]]);var n=["toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction"];for(var t=0;t<n.length;t++)(function(e){var r=n[t],i=e[r];e[n[t]]=function(){return this.$delegator(r,arguments,i)}})(this)},this.$delegator=function(e,t,n){var r=t[0];for(var i=0;i<this.$embeds.length;i++){if(!this.$modes[this.$embeds[i]])continue;var s=r.split(this.$embeds[i]);if(!s[0]&&s[1]){t[0]=s[1];var o=this.$modes[this.$embeds[i]];return o[e].apply(o,t)}}var u=n.apply(this,t);return n?u:undefined},this.transformAction=function(e,t,n,r,i){if(this.$behaviour){var s=this.$behaviour.getBehaviours();for(var o in s)if(s[o][t]){var u=s[o][t].apply(this,arguments);if(u)return u}}}}).call(u.prototype),t.Mode=u}),define("ace/tokenizer",["require","exports","module"],function(e,t,n){var r=function(e,t){t=t?"g"+t:"g",this.rules=e,this.regExps={},this.matchMappings={};for(var n in this.rules){var r=this.rules[n],i=r,s=[],o=0,u=this.matchMappings[n]={};for(var a=0;a<i.length;a++){i[a].regex instanceof RegExp&&(i[a].regex=i[a].regex.toString().slice(1,-1));var f=(new RegExp("(?:("+i[a].regex+")|(.))")).exec("a").length-2,l=i[a].regex.replace(/\\([0-9]+)/g,function(e,t){return"\\"+(parseInt(t,10)+o+1)});if(f>1&&i[a].token.length!==f-1)throw new Error("For "+i[a].regex+" the matching groups ("+(f-1)+") and length of the token array ("+i[a].token.length+") don't match (rule #"+a+" of state "+n+")");u[o]={rule:a,len:f},o+=f,s.push(l)}this.regExps[n]=new RegExp("(?:("+s.join(")|(")+")|(.))",t)}};(function(){this.getLineTokens=function(e,t){var n=t||"start",r=this.rules[n],i=this.matchMappings[n],s=this.regExps[n];s.lastIndex=0;var o,u=[],a=0,f={type:null,value:""};while(o=s.exec(e)){var l="text",c=null,h=[o[0]];for(var p=0;p<o.length-2;p++){if(o[p+1]===undefined)continue;c=r[i[p].rule],i[p].len>1&&(h=o.slice(p+2,p+1+i[p].len)),typeof c.token=="function"?l=c.token.apply(this,h):l=c.token;if(c.next){n=c.next,r=this.rules[n],i=this.matchMappings[n],a=s.lastIndex,s=this.regExps[n];if(s===undefined)throw new Error("You indicated a state of "+c.next+" to go to, but it doesn't exist!");s.lastIndex=a}break}if(h[0]){typeof l=="string"&&(h=[h.join("")],l=[l]);for(var p=0;p<h.length;p++){if(!h[p])continue;!!c&&c.merge===!1||f.type!==l[p]?(f.type&&u.push(f),f={type:l[p],value:h[p]}):f.value+=h[p]}}if(a==e.length)break;a=s.lastIndex}return f.type&&u.push(f),{tokens:u,state:n}}}).call(r.prototype),t.Tokenizer=r}),define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(e,t,n){var r=e("../lib/lang"),i=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{token:"text",regex:".+"}]}};(function(){this.addRules=function(e,t){for(var n in e){var r=e[n];for(var i=0;i<r.length;i++){var s=r[i];s.next&&(s.next=t+s.next)}this.$rules[t+n]=r}},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,i,s){var o=(new e).getRules();if(i)for(var u=0;u<i.length;u++)i[u]=t+i[u];else{i=[];for(var a in o)i.push(t+a)}this.addRules(o,t);if(n){var f=Array.prototype[s?"push":"unshift"];for(var u=0;u<i.length;u++)f.apply(this.$rules[i[u]],r.deepCopy(n))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds},this.createKeywordMapper=function(e,t,n,r){var i=Object.create(null);return Object.keys(e).forEach(function(t){var s=e[t];n&&(s=s.toLowerCase());var o=s.split(r||"|");for(var u=o.length;u--;)i[o[u]]=t}),e=null,n?function(e){return i[e.toLowerCase()]||t}:function(e){return i[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(i.prototype),t.TextHighlightRules=i}),define("ace/mode/behaviour",["require","exports","module"],function(e,t,n){var r=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(undefined){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if(typeof e=="function")var n=(new e).getBehaviours(t);else var n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(!e)return this.$behaviours;var t={};for(var n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}}).call(r.prototype),t.Behaviour=r}),define("ace/unicode",["require","exports","module"],function(e,t,n){function r(e){var n=/\w{4}/g;for(var r in e)t.packages[r]=e[r].replace(n,"\\u$&")}t.packages={},r({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})}),define("ace/document",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/range","ace/anchor"],function(e,t,n){var r=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,o=e("./anchor").Anchor,u=function(e){this.$lines=[],e.length==0?this.$lines=[""]:Array.isArray(e)?this.insertLines(0,e):this.insert({row:0,column:0},e)};(function(){r.implement(this,i),this.setValue=function(e){var t=this.getLength();this.remove(new s(0,0,t,this.getLine(t-1).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new o(this,e,t)},"aaa".split(/a/).length==0?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);t?this.$autoNewLine=t[1]:this.$autoNewLine="\n"},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine}},this.$autoNewLine="\n",this.$newLineMode="auto",this.setNewLineMode=function(e){if(this.$newLineMode===e)return;this.$newLineMode=e},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return e=="\r\n"||e=="\r"||e=="\n"},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){if(e.start.row==e.end.row)return this.$lines[e.start.row].substring(e.start.column,e.end.column);var t=this.getLines(e.start.row+1,e.end.row-1);return t.unshift((this.$lines[e.start.row]||"").substring(e.start.column)),t.push((this.$lines[e.end.row]||"").substring(0,e.end.column)),t.join(this.getNewLineCharacter())},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t&&(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length),e},this.insert=function(e,t){if(!t||t.length===0)return e;e=this.$clipPosition(e),this.getLength()<=1&&this.$detectNewLine(t);var n=this.$split(t),r=n.splice(0,1)[0],i=n.length==0?null:n.splice(n.length-1,1)[0];return e=this.insertInLine(e,r),i!==null&&(e=this.insertNewLine(e),e=this.insertLines(e.row,n),e=this.insertInLine(e,i||"")),e},this.insertLines=function(e,t){if(t.length==0)return{row:e,column:0};if(t.length>65535){var n=this.insertLines(e,t.slice(65535));t=t.slice(0,65535)}var r=[e,0];r.push.apply(r,t),this.$lines.splice.apply(this.$lines,r);var i=new s(e,0,e+t.length,0),o={action:"insertLines",range:i,lines:t};return this._emit("change",{data:o}),n||i.end},this.insertNewLine=function(e){e=this.$clipPosition(e);var t=this.$lines[e.row]||"";this.$lines[e.row]=t.substring(0,e.column),this.$lines.splice(e.row+1,0,t.substring(e.column,t.length));var n={row:e.row+1,column:0},r={action:"insertText",range:s.fromPoints(e,n),text:this.getNewLineCharacter()};return this._emit("change",{data:r}),n},this.insertInLine=function(e,t){if(t.length==0)return e;var n=this.$lines[e.row]||"";this.$lines[e.row]=n.substring(0,e.column)+t+n.substring(e.column);var r={row:e.row,column:e.column+t.length},i={action:"insertText",range:s.fromPoints(e,r),text:t};return this._emit("change",{data:i}),r},this.remove=function(e){e.start=this.$clipPosition(e.start),e.end=this.$clipPosition(e.end);if(e.isEmpty())return e.start;var t=e.start.row,n=e.end.row;if(e.isMultiLine()){var r=e.start.column==0?t:t+1,i=n-1;e.end.column>0&&this.removeInLine(n,0,e.end.column),i>=r&&this.removeLines(r,i),r!=t&&(this.removeInLine(t,e.start.column,this.getLine(t).length),this.removeNewLine(e.start.row))}else this.removeInLine(t,e.start.column,e.end.column);return e.start},this.removeInLine=function(e,t,n){if(t==n)return;var r=new s(e,t,e,n),i=this.getLine(e),o=i.substring(t,n),u=i.substring(0,t)+i.substring(n,i.length);this.$lines.splice(e,1,u);var a={action:"removeText",range:r,text:o};return this._emit("change",{data:a}),r.start},this.removeLines=function(e,t){var n=new s(e,0,t+1,0),r=this.$lines.splice(e,t-e+1),i={action:"removeLines",range:n,nl:this.getNewLineCharacter(),lines:r};return this._emit("change",{data:i}),r},this.removeNewLine=function(e){var t=this.getLine(e),n=this.getLine(e+1),r=new s(e,t.length,e+1,0),i=t+n;this.$lines.splice(e,2,i);var o={action:"removeText",range:r,text:this.getNewLineCharacter()};this._emit("change",{data:o})},this.replace=function(e,t){if(t.length==0&&e.isEmpty())return e.start;if(t==this.getTextRange(e))return e.end;this.remove(e);if(t)var n=this.insert(e.start,t);else n=e.start;return n},this.applyDeltas=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=s.fromPoints(n.range.start,n.range.end);n.action=="insertLines"?this.insertLines(r.start.row,n.lines):n.action=="insertText"?this.insert(r.start,n.text):n.action=="removeLines"?this.removeLines(r.start.row,r.end.row-1):n.action=="removeText"&&this.remove(r)}},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--){var n=e[t],r=s.fromPoints(n.range.start,n.range.end);n.action=="insertLines"?this.removeLines(r.start.row,r.end.row-1):n.action=="insertText"?this.remove(r):n.action=="removeLines"?this.insertLines(r.start.row,n.lines):n.action=="removeText"&&this.insert(r.start,n.text)}},this.indexToPosition=function(e,t){var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length;for(var i=t||0,s=n.length;i<s;i++){e-=n[i].length+r;if(e<0)return{row:i,column:e+n[i].length+r}}return{row:s-1,column:n[s-1].length}},this.positionToIndex=function(e,t){var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,i=0,s=Math.min(e.row,n.length);for(var o=t||0;o<s;++o)i+=n[o].length;return i+r*o+e.column}}).call(u.prototype),t.Document=u}),define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,n){var r=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,s=t.Anchor=function(e,t,n){this.document=e,typeof n=="undefined"?this.setPosition(t.row,t.column):this.setPosition(t,n),this.$onChange=this.onChange.bind(this),e.on("change",this.$onChange)};(function(){r.implement(this,i),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.onChange=function(e){var t=e.data,n=t.range;if(n.start.row==n.end.row&&n.start.row!=this.row)return;if(n.start.row>this.row)return;if(n.start.row==this.row&&n.start.column>this.column)return;var r=this.row,i=this.column;t.action==="insertText"?n.start.row===r&&n.start.column<=i?n.start.row===n.end.row?i+=n.end.column-n.start.column:(i-=n.start.column,r+=n.end.row-n.start.row):n.start.row!==n.end.row&&n.start.row<r&&(r+=n.end.row-n.start.row):t.action==="insertLines"?n.start.row<=r&&(r+=n.end.row-n.start.row):t.action=="removeText"?n.start.row==r&&n.start.column<i?n.end.column>=i?i=n.start.column:i=Math.max(0,i-(n.end.column-n.start.column)):n.start.row!==n.end.row&&n.start.row<r?(n.end.row==r&&(i=Math.max(0,i-n.end.column)+n.start.column),r-=n.end.row-n.start.row):n.end.row==r&&(r-=n.end.row-n.start.row,i=Math.max(0,i-n.end.column)+n.start.column):t.action=="removeLines"&&n.start.row<=r&&(n.end.row<=r?r-=n.end.row-n.start.row:(r=n.start.row,i=0)),this.setPosition(r,i,!0)},this.setPosition=function(e,t,n){var r;n?r={row:e,column:t}:r=this.$clipPositionToDocument(e,t);if(this.row==r.row&&this.column==r.column)return;var i={row:this.row,column:this.column};this.row=r.row,this.column=r.column,this._emit("change",{old:i,value:r})},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n}}).call(s.prototype)}),define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,n){var r=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,s=5e3,o=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(!n.running)return;var e=new Date,t=n.currentLine,r=n.doc,i=0,s=r.getLength();while(n.currentLine<s){n.$tokenizeRow(n.currentLine);while(n.lines[n.currentLine])n.currentLine++;i++;if(i%5==0&&new Date-e>20){n.fireUpdateEvent(t,n.currentLine-1),n.running=setTimeout(n.$worker,20);return}}n.running=!1,n.fireUpdateEvent(t,s-1)}};(function(){r.implement(this,i),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._emit("update",{data:n})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.$updateOnChange=function(e){var t=e.range,n=t.start.row,r=t.end.row-n;if(r===0)this.lines[n]=null;else if(e.action=="removeText"||e.action=="removeLines")this.lines.splice(n,r+1,null),this.states.splice(n,r+1,null);else{var i=Array(r+1);i.unshift(n,1),this.lines.splice.apply(this.lines,i),this.states.splice.apply(this.states,i)}this.currentLine=Math.min(n,this.currentLine,this.doc.getLength()),this.stop(),this.running=setTimeout(this.$worker,700)},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1];if(t.length>s){var r={value:t.substr(s),type:"text"};t=t.slice(0,s)}var i=this.tokenizer.getLineTokens(t,n);return r&&(i.tokens.push(r),i.state="start"),this.states[e]!==i.state?(this.states[e]=i.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=i.tokens}}).call(o.prototype),t.BackgroundTokenizer=o}),define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,n){var r=e("./lib/lang"),i=e("./lib/oop"),s=e("./range").Range,o=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){if(this.regExp+""==e+"")return;this.regExp=e,this.cache=[]},this.update=function(e,t,n,i){if(!this.regExp)return;var o=i.firstRow,u=i.lastRow;for(var a=o;a<=u;a++){var f=this.cache[a];f==null&&(f=r.getMatchOffsets(n.getLine(a),this.regExp),f.length>this.MAX_RANGES&&(f=f.slice(0,this.MAX_RANGES)),f=f.map(function(e){return new s(a,e.offset,a,e.offset+e.length)}),this.cache[a]=f.length?f:"");for(var l=f.length;l--;)t.drawSingleLineMarker(e,f[l].toScreenRange(n),this.clazz,i,null,this.type)}}}).call(o.prototype),t.SearchHighlight=o}),define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(e,t,n){function u(){this.getFoldAt=function(e,t,n){var r=this.getFoldLine(e);if(!r)return null;var i=r.folds;for(var s=0;s<i.length;s++){var o=i[s];if(o.range.contains(e,t)){if(n==1&&o.range.isEnd(e,t))continue;if(n==-1&&o.range.isStart(e,t))continue;return o}}},this.getFoldsInRange=function(e){e=e.clone();var t=e.start,n=e.end,r=this.$foldData,i=[];t.column+=1,n.column-=1;for(var s=0;s<r.length;s++){var o=r[s].range.compareRange(e);if(o==2)continue;if(o==-2)break;var u=r[s].folds;for(var a=0;a<u.length;a++){var f=u[a];o=f.range.compareRange(e);if(o==-2)break;if(o==2)continue;if(o==42)break;i.push(f)}}return i},this.getAllFolds=function(){function n(t){e.push(t);if(!t.subFolds)return;for(var r=0;r<t.subFolds.length;r++)n(t.subFolds[r])}var e=[],t=this.$foldData;for(var r=0;r<t.length;r++)for(var i=0;i<t[r].folds.length;i++)n(t[r].folds[i]);return e},this.getFoldStringAt=function(e,t,n,r){r=r||this.getFoldLine(e);if(!r)return null;var i={end:{column:0}},s,o;for(var u=0;u<r.folds.length;u++){o=r.folds[u];var a=o.range.compareEnd(e,t);if(a==-1){s=this.getLine(o.start.row).substring(i.end.column,o.start.column);break}if(a===0)return null;i=o}return s||(s=this.getLine(o.start.row).substring(i.end.column)),n==-1?s.substring(0,t-i.end.column):n==1?s.substring(t-i.end.column):s},this.getFoldLine=function(e,t){var n=this.$foldData,r=0;t&&(r=n.indexOf(t)),r==-1&&(r=0);for(r;r<n.length;r++){var i=n[r];if(i.start.row<=e&&i.end.row>=e)return i;if(i.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,r=0;t&&(r=n.indexOf(t)),r==-1&&(r=0);for(r;r<n.length;r++){var i=n[r];if(i.end.row>=e)return i}return null},this.getFoldedRowCount=function(e,t){var n=this.$foldData,r=t-e+1;for(var i=0;i<n.length;i++){var s=n[i],o=s.end.row,u=s.start.row;if(o>=t){u<t&&(u>=e?r-=t-u:r=0);break}o>=e&&(u>=e?r-=o-u:r-=o-e+1)}return r},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(e,t){return e.start.row-t.start.row}),e},this.addFold=function(e,t){var n=this.$foldData,r=!1,o;e instanceof s?o=e:o=new s(t,e),this.$clipRangeToDocument(o.range);var u=o.start.row,a=o.start.column,f=o.end.row,l=o.end.column;if(u==f&&l-a<2)throw"The range has to be at least 2 characters width";var c=this.getFoldAt(u,a,1),h=this.getFoldAt(f,l,-1);if(c&&h==c)return c.addSubFold(o);if(c&&!c.range.isStart(u,a)||h&&!h.range.isEnd(f,l))throw"A fold can't intersect already existing fold"+o.range+c.range;var p=this.getFoldsInRange(o.range);p.length>0&&(this.removeFolds(p),o.subFolds=p);for(var d=0;d<n.length;d++){var v=n[d];if(f==v.start.row){v.addFold(o),r=!0;break}if(u==v.end.row){v.addFold(o),r=!0;if(!o.sameRow){var m=n[d+1];if(m&&m.start.row==f){v.merge(m);break}}break}if(f<=v.start.row)break}return r||(v=this.$addFoldLine(new i(this.$foldData,o))),this.$useWrapMode?this.$updateWrapData(v.start.row,v.start.row):this.$updateRowLengthCache(v.start.row,v.start.row),this.$modified=!0,this._emit("changeFold",{data:o}),o},this.addFolds=function(e){e.forEach(function(e){this.addFold(e)},this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,r=t.end.row,i=this.$foldData,s=t.folds;if(s.length==1)i.splice(i.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))s.pop(),t.end.row=s[s.length-1].end.row,t.end.column=s[s.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))s.shift(),t.start.row=s[0].start.row,t.start.column=s[0].start.column;else if(e.sameRow)s.splice(s.indexOf(e),1);else{var o=t.split(e.start.row,e.start.column);s=o.folds,s.shift(),o.start.row=s[0].start.row,o.start.column=s[0].start.column}this.$useWrapMode?this.$updateWrapData(n,r):this.$updateRowLengthCache(n,r),this.$modified=!0,this._emit("changeFold",{data:e})},this.removeFolds=function(e){var t=[];for(var n=0;n<e.length;n++)t.push(e[n]);t.forEach(function(e){this.removeFold(e)},this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach(function(e){this.addFold(e)},this),e.subFolds=[]},this.expandFolds=function(e){e.forEach(function(e){this.expandFold(e)},this)},this.unfold=function(e,t){var n,i;e==null?n=new r(0,0,this.getLength(),0):typeof e=="number"?n=new r(e,0,e,this.getLine(e).length):"row"in e?n=r.fromPoints(e,e):n=e,i=this.getFoldsInRange(n);if(t)this.removeFolds(i);else while(i.length)this.expandFolds(i),i=this.getFoldsInRange(n)},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getFoldDisplayLine=function(e,t,n,r,i){r==null&&(r=e.start.row,i=0),t==null&&(t=e.end.row,n=this.getLine(t).length);var s=this.doc,o="";return e.walk(function(e,t,n,u){if(t<r)return;if(t==r){if(n<i)return;u=Math.max(i,u)}e!=null?o+=e:o+=s.getLine(t).substring(u,n)}.bind(this),t,n),o},this.getDisplayLine=function(e,t,n,r){var i=this.getFoldLine(e);if(!i){var s;return s=this.doc.getLine(e),s.substring(r||0,t||s.length)}return this.getFoldDisplayLine(i,e,t,n,r)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map(function(t){var n=t.folds.map(function(e){return e.clone()});return new i(e,n)}),e},this.toggleFold=function(e){var t=this.selection,n=t.getRange(),r,i;if(n.isEmpty()){var s=n.start;r=this.getFoldAt(s.row,s.column);if(r){this.expandFold(r);return}(i=this.findMatchingBracket(s))?n.comparePoint(i)==1?n.end=i:(n.start=i,n.start.column++,n.end.column--):(i=this.findMatchingBracket({row:s.row,column:s.column+1}))?(n.comparePoint(i)==1?n.end=i:n.start=i,n.start.column++):n=this.getCommentFoldRange(s.row,s.column)||n}else{var o=this.getFoldsInRange(n);if(e&&o.length){this.expandFolds(o);return}o.length==1&&(r=o[0])}r||(r=this.getFoldAt(n.start.row,n.start.column));if(r&&r.range.toString()==n.toString()){this.expandFold(r);return}var u="...";if(!n.isMultiLine()){u=this.getTextRange(n);if(u.length<4)return;u=u.trim().substring(0,2)+".."}this.addFold(u,n)},this.getCommentFoldRange=function(e,t,n){var i=new o(this,e,t),s=i.getCurrentToken();if(s&&/^comment|string/.test(s.type)){var u=new r,a=new RegExp(s.type.replace(/\..*/,"\\."));if(n!=1){do s=i.stepBackward();while(s&&a.test(s.type));i.stepForward()}u.start.row=i.getCurrentTokenRow(),u.start.column=i.getCurrentTokenColumn()+2,i=new o(this,e,t);if(n!=-1){do s=i.stepForward();while(s&&a.test(s.type));s=i.stepBackward()}else s=i.getCurrentToken();return u.end.row=i.getCurrentTokenRow(),u.end.column=i.getCurrentTokenColumn()+s.value.length-2,u}},this.foldAll=function(e,t){var n=this.foldWidgets;t=t||this.getLength();for(var r=e||0;r<t;r++){n[r]==null&&(n[r]=this.getFoldWidget(r));if(n[r]!="start")continue;var i=this.getFoldWidgetRange(r);if(i&&i.end.row<=t)try{this.addFold("...",i)}catch(s){}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle==e)return;this.$foldStyle=e,e=="manual"&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)},this.$setFolding=function(e){if(this.$foldMode==e)return;this.$foldMode=e,this.removeListener("change",this.$updateFoldWidgets),this._emit("changeAnnotation");if(!e||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets)},this.onFoldWidgetClick=function(e,t){t=t.domEvent;var n=this.getFoldWidget(e),r=this.getLine(e),i=t.shiftKey,s=i||t.ctrlKey||t.altKey||t.metaKey,o;n=="end"?o=this.getFoldAt(e,0,-1):o=this.getFoldAt(e,r.length,1);if(o){s?this.removeFold(o):this.expandFold(o);return}var u=this.getFoldWidgetRange(e);if(u){if(!u.isMultiLine()){o=this.getFoldAt(u.start.row,u.start.column,1);if(o&&u.isEqual(o.range)){this.removeFold(o);return}}i||this.addFold("...",u),s&&this.foldAll(u.start.row+1,u.end.row)}else s&&this.foldAll(e+1,this.getLength()),(t.target||t.srcElement).className+=" ace_invalid"},this.updateFoldWidgets=function(e){var t=e.data,n=t.range,r=n.start.row,i=n.end.row-r;if(i===0)this.foldWidgets[r]=null;else if(t.action=="removeText"||t.action=="removeLines")this.foldWidgets.splice(r,i+1,null);else{var s=Array(i+1);s.unshift(r,1),this.foldWidgets.splice.apply(this.foldWidgets,s)}}}var r=e("../range").Range,i=e("./fold_line").FoldLine,s=e("./fold").Fold,o=e("../token_iterator").TokenIterator;t.Folding=u}),define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(e,t,n){function i(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new r(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(e){e.setFoldLine(this)},this)}var r=e("../range").Range;(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach(function(t){t.start.row+=e,t.end.row+=e})},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw"Can't add a fold to this FoldLine as it has no connection";this.folds.push(e),this.folds.sort(function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)}),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw"Trying to add fold to FoldRow that doesn't have a matching row";this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,n){var r=0,i=this.folds,s,o,u,a=!0;t==null&&(t=this.end.row,n=this.end.column);for(var f=0;f<i.length;f++){s=i[f],o=s.range.compareStart(t,n);if(o==-1){e(null,t,n,r,a);return}u=e(null,s.start.row,s.start.column,r,a),u=!u&&e(s.placeholder,s.start.row,s.start.column,r);if(u||o==0)return;a=!s.sameRow,r=s.end.column}e(null,t,n,r,a)},this.getNextFoldTo=function(e,t){var n,r;for(var i=0;i<this.folds.length;i++){n=this.folds[i],r=n.range.compareEnd(e,t);if(r==-1)return{fold:n,kind:"after"};if(r==0)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(e,t,n){var r=this.getNextFoldTo(e,t),i,s;if(r){i=r.fold;if(r.kind=="inside"&&i.start.column!=t&&i.start.row!=e)window.console&&window.console.log(e,t,i);else if(i.start.row==e){s=this.folds;var o=s.indexOf(i);o==0&&(this.start.column+=n);for(o;o<s.length;o++){i=s[o],i.start.column+=n;if(!i.sameRow)return;i.end.column+=n}this.end.column+=n}}},this.split=function(e,t){var n=this.getNextFoldTo(e,t).fold,r=this.folds,s=this.foldData;if(!n)return null;var o=r.indexOf(n),u=r[o-1];this.end.row=u.end.row,this.end.column=u.end.column,r=r.splice(o,r.length-o);var a=new i(s,r);return s.splice(s.indexOf(this)+1,0,a),a},this.merge=function(e){var t=e.folds;for(var n=0;n<t.length;n++)this.addFold(t[n]);var r=this.foldData;r.splice(r.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach(function(t){e.push("  "+t.toString())}),e.push("]"),e.join("\n")},this.idxToPosition=function(e){var t=0,n;for(var r=0;r<this.folds.length;r++){var n=this.folds[r];e-=n.start.column-t;if(e<0)return{row:n.start.row,column:n.start.column+e};e-=n.placeholder.length;if(e<0)return n.start;t=n.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(i.prototype),t.FoldLine=i}),define("ace/edit_session/fold",["require","exports","module"],function(e,t,n){var r=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=[]};(function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach(function(t){t.setFoldLine(e)})},this.clone=function(){var e=this.range.clone(),t=new r(e,this.placeholder);return this.subFolds.forEach(function(e){t.subFolds.push(e.clone())}),t},this.addSubFold=function(e){if(this.range.isEqual(e))return this;if(!this.range.containsRange(e))throw"A fold can't intersect already existing fold"+e.range+this.range;var t=e.range.start.row,n=e.range.start.column;for(var r=0,i=-1;r<this.subFolds.length;r++){i=this.subFolds[r].range.compare(t,n);if(i!=1)break}var s=this.subFolds[r];if(i==0)return s.addSubFold(e);var t=e.range.end.row,n=e.range.end.column;for(var o=r,i=-1;o<this.subFolds.length;o++){i=this.subFolds[o].range.compare(t,n);if(i!=1)break}var u=this.subFolds[o];if(i==0)throw"A fold can't intersect already existing fold"+e.range+this.range;var a=this.subFolds.splice(r,o-r,e);return e.setFoldLine(this.foldLine),e}}).call(r.prototype)}),define("ace/token_iterator",["require","exports","module"],function(e,t,n){var r=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var r=e.getTokenAt(t,n);this.$tokenIndex=r?r.index:-1};(function(){this.stepBackward=function(){this.$tokenIndex-=1;while(this.$tokenIndex<0){this.$row-=1;if(this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var e=this.$session.getLength();this.$tokenIndex+=1;while(this.$tokenIndex>=this.$rowTokens.length){this.$row+=1;if(this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(n!==undefined)return n;n=0;while(t>0)t-=1,n+=e[t].value.length;return n}}).call(r.prototype),t.TokenIterator=r}),define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(e,t,n){function s(){this.findMatchingBracket=function(e,t){if(e.column==0)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(n=="")return null;var r=n.match(/([\(\[\{])|([\)\]\}])/);return r?r[1]?this.$findClosingBracket(r[1],e):this.$findOpeningBracket(r[2],e):null},this.getBracketRange=function(e){var t=this.getLine(e.row),n=!0,r,s=t.charAt(e.column-1),o=s&&s.match(/([\(\[\{])|([\)\]\}])/);o||(s=t.charAt(e.column),e={row:e.row,column:e.column+1},o=s&&s.match(/([\(\[\{])|([\)\]\}])/),n=!1);if(!o)return null;if(o[1]){var u=this.$findClosingBracket(o[1],e);if(!u)return null;r=i.fromPoints(e,u),n||(r.end.column++,r.start.column--),r.cursor=r.end}else{var u=this.$findOpeningBracket(o[2],e);if(!u)return null;r=i.fromPoints(u,e),n||(r.start.column++,r.end.column--),r.cursor=r.start}return r},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(e,t,n){var i=this.$brackets[e],s=1,o=new r(this,t.row,t.column),u=o.getCurrentToken();u||(u=o.stepForward());if(!u)return;n||(n=new RegExp("(\\.?"+u.type.replace(".","\\.").replace("rparen",".paren")+")+"));var a=t.column-o.getCurrentTokenColumn()-2,f=u.value;for(;;){while(a>=0){var l=f.charAt(a);if(l==i){s-=1;if(s==0)return{row:o.getCurrentTokenRow(),column:a+o.getCurrentTokenColumn()}}else l==e&&(s+=1);a-=1}do u=o.stepBackward();while(u&&!n.test(u.type));if(u==null)break;f=u.value,a=f.length-1}return null},this.$findClosingBracket=function(e,t,n){var i=this.$brackets[e],s=1,o=new r(this,t.row,t.column),u=o.getCurrentToken();u||(u=o.stepForward());if(!u)return;n||(n=new RegExp("(\\.?"+u.type.replace(".","\\.").replace("lparen",".paren")+")+"));var a=t.column-o.getCurrentTokenColumn();for(;;){var f=u.value,l=f.length;while(a<l){var c=f.charAt(a);if(c==i){s-=1;if(s==0)return{row:o.getCurrentTokenRow(),column:a+o.getCurrentTokenColumn()}}else c==e&&(s+=1);a+=1}do u=o.stepForward();while(u&&!n.test(u.type));if(u==null)break;a=0}return null}}var r=e("../token_iterator").TokenIterator,i=e("../range").Range;t.BracketMatch=s}),define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,n){var r=e("./lib/lang"),i=e("./lib/oop"),s=e("./range").Range,o=function(){this.$options={}};(function(){this.set=function(e){return i.mixin(this.$options,e),this},this.getOptions=function(){return r.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$matchIterator(e,this.$options);if(!t)return!1;var n=null;return t.forEach(function(e,t,r){if(!e.start){var i=e.offset+(r||0);n=new s(t,i,t,i+e.length)}else n=e;return!0}),n},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,i=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),o=[],u=t.re;if(t.$isMultiLine){var a=u.length,f=i.length-a;for(var l=u.offset||0;l<=f;l++){for(var c=0;c<a;c++)if(i[l+c].search(u[c])==-1)break;var h=i[l],p=i[l+a-1],d=h.match(u[0])[0].length,v=p.match(u[a-1])[0].length;o.push(new s(l,h.length-d,l+a-1,v))}}else for(var m=0;m<i.length;m++){var g=r.getMatchOffsets(i[m],u);for(var c=0;c<g.length;c++){var y=g[c];o.push(new s(m,y.offset,m,y.offset+y.length))}}if(n){var b=n.start.column,w=n.start.column,m=0,c=o.length-1;while(m<c&&o[m].start.column<b&&o[m].start.row==n.start.row)m++;while(m<c&&o[c].end.column>w&&o[c].end.row==n.end.row)c--;return o.slice(m,c+1)}return o},this.replace=function(e,t){var n=this.$options,r=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(!r)return;var i=r.exec(e);if(!i||i[0].length!=e.length)return null;t=e.replace(r,t);if(n.preserveCase){t=t.split("");for(var s=Math.min(e.length,e.length);s--;){var o=e[s];o&&o.toLowerCase()!=o?t[s]=t[s].toUpperCase():t[s]=t[s].toLowerCase()}t=t.join("")}return t},this.$matchIterator=function(e,t){var n=this.$assembleRegExp(t);if(!n)return!1;var i=this,o,u=t.backwards;if(t.$isMultiLine)var a=n.length,f=function(t,r,i){var u=t.search(n[0]);if(u==-1)return;for(var f=1;f<a;f++){t=e.getLine(r+f);if(t.search(n[f])==-1)return}var l=t.match(n[a-1])[0].length,c=new s(r,u,r+a-1,l);n.offset==1?(c.start.row--,c.start.column=Number.MAX_VALUE):i&&(c.start.column+=i);if(o(c))return!0};else if(u)var f=function(e,t,i){var s=r.getMatchOffsets(e,n);for(var u=s.length-1;u>=0;u--)if(o(s[u],t,i))return!0};else var f=function(e,t,i){var s=r.getMatchOffsets(e,n);for(var u=0;u<s.length;u++)if(o(s[u],t,i))return!0};return{forEach:function(n){o=n,i.$lineIterator(e,t).forEach(f)}}},this.$assembleRegExp=function(e){if(e.needle instanceof RegExp)return e.re=e.needle;var t=e.needle;if(!e.needle)return e.re=!1;e.regExp||(t=r.escapeRegExp(t)),e.wholeWord&&(t="\\b"+t+"\\b");var n=e.caseSensitive?"g":"gi";e.$isMultiLine=/[\n\r]/.test(t);if(e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(t,n);try{var i=new RegExp(t,n)}catch(s){i=!1}return e.re=i},this.$assembleMultilineRegExp=function(e,t){var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),r=[];for(var i=0;i<n.length;i++)try{r.push(new RegExp(n[i],t))}catch(s){return!1}return n[0]==""?(r.shift(),r.offset=1):r.offset=0,r},this.$lineIterator=function(e,t){var n=t.backwards==1,r=t.skipCurrent!=0,i=t.range,s=t.start;s||(s=i?i[n?"end":"start"]:e.selection.getRange()),s.start&&(s=s[r!=n?"end":"start"]);var o=i?i.start.row:0,u=i?i.end.row:e.getLength()-1,a=n?function(n){var r=s.row,i=e.getLine(r).substring(0,s.column);if(n(i,r))return;for(r--;r>=o;r--)if(n(e.getLine(r),r))return;if(t.wrap==0)return;for(r=u,o=s.row;r>=o;r--)if(n(e.getLine(r),r))return}:function(n){var r=s.row,i=e.getLine(r).substr(s.column);if(n(i,r,s.column))return;for(r+=1;r<=u;r++)if(n(e.getLine(r),r))return;if(t.wrap==0)return;for(r=o,u=s.row;r<=u;r++)if(n(e.getLine(r),r))return};return{forEach:a}}}).call(o.prototype),t.Search=o}),define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(e,t,n){var r=e("../lib/oop"),i=e("../keyboard/hash_handler").HashHandler,s=e("../lib/event_emitter").EventEmitter,o=function(e,t){this.platform=e,this.commands=this.byName={},this.commmandKeyBinding={},this.addCommands(t),this.setDefaultHandler("exec",function(e){return e.command.exec(e.editor,e.args||{})})};r.inherits(o,i),function(){r.implement(this,s),this.exec=function(e,t,n){typeof e=="string"&&(e=this.commands[e]);if(!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;var r=this._emit("exec",{editor:t,command:e,args:n});return r===!1?!1:!0},this.toggleRecording=function(e){if(this.$inReplay)return;return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(this.$inReplay||!this.macro)return;if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach(function(t){typeof t=="string"?this.exec(t,e):this.exec(t[0],e,t[1])},this)}finally{this.$inReplay=!1}},this.trimMacro=function(e){return e.map(function(e){return typeof e[0]!="string"&&(e[0]=e[0].name),e[1]||(e=e[0]),e})}}.call(o.prototype),t.CommandManager=o}),define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys"],function(e,t,n){function i(e,t){this.platform=t,this.commands={},this.commmandKeyBinding={},this.addCommands(e)}var r=e("../lib/keys");(function(){this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e){var t=typeof e=="string"?e:e.name;e=this.commands[t],delete this.commands[t];var n=this.commmandKeyBinding;for(var r in n)for(var i in n[r])n[r][i]==e&&delete n[r][i]},this.bindKey=function(e,t){if(!e)return;if(typeof t=="function"){this.addCommand({exec:t,bindKey:e,name:e});return}var n=this.commmandKeyBinding;e.split("|").forEach(function(e){var r=this.parseKeys(e,t),i=r.hashId;(n[i]||(n[i]={}))[r.key]=t},this)},this.addCommands=function(e){e&&Object.keys(e).forEach(function(t){var n=e[t];if(typeof n=="string")return this.bindKey(n,t);typeof n=="function"&&(n={exec:n}),n.name||(n.name=t),this.addCommand(n)},this)},this.removeCommands=function(e){Object.keys(e).forEach(function(t){this.removeCommand(e[t])},this)},this.bindKeys=function(e){Object.keys(e).forEach(function(t){this.bindKey(t,e[t])},this)},this._buildKeyHash=function(e){var t=e.bindKey;if(!t)return;var n=typeof t=="string"?t:t[this.platform];this.bindKey(n,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(e){return e}),n=t.pop(),i=r[n];if(r.FUNCTION_KEYS[i])n=r.FUNCTION_KEYS[i].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(t.length==1&&t[0]=="shift")return{key:n.toUpperCase(),hashId:-1}}var s=0;for(var o=t.length;o--;){var u=r.KEY_MODS[t[o]];if(u==null)throw"invalid modifier "+t[o]+" in "+e;s|=u}return{key:n,hashId:s}},this.findKeyCommand=function(t,n){var r=this.commmandKeyBinding;return r[t]&&r[t][n]},this.handleKeyboard=function(e,t,n,r){return{command:this.findKeyCommand(t,n)}}}).call(i.prototype),t.HashHandler=i}),define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config"],function(e,t,n){function s(e,t){return{win:e,mac:t}}var r=e("../lib/lang"),i=e("../config");t.commands=[{name:"selectall",bindKey:s("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",bindKey:s(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:s("Ctrl-L","Command-L"),exec:function(e){var t=parseInt(prompt("Enter line number:"),10);isNaN(t)||e.gotoLine(t)},readOnly:!0},{name:"fold",bindKey:s("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},readOnly:!0},{name:"unfold",bindKey:s("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},readOnly:!0},{name:"foldall",bindKey:s("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll()},readOnly:!0},{name:"unfoldall",bindKey:s("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},readOnly:!0},{name:"findnext",bindKey:s("Ctrl-K","Command-G"),exec:function(e){e.findNext()},readOnly:!0},{name:"findprevious",bindKey:s("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},readOnly:!0},{name:"find",bindKey:s("Ctrl-F","Command-F"),exec:function(e){i.loadModule("ace/ext/searchbox",function(t){t.Search(e)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:s("Ctrl-Shift-Home","Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0},{name:"gotostart",bindKey:s("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0},{name:"selectup",bindKey:s("Shift-Up","Shift-Up"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",readOnly:!0},{name:"golineup",bindKey:s("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",readOnly:!0},{name:"selecttoend",bindKey:s("Ctrl-Shift-End","Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0},{name:"gotoend",bindKey:s("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0},{name:"selectdown",bindKey:s("Shift-Down","Shift-Down"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",readOnly:!0},{name:"golinedown",bindKey:s("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",readOnly:!0},{name:"selectwordleft",bindKey:s("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",readOnly:!0},{name:"gotowordleft",bindKey:s("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",readOnly:!0},{name:"selecttolinestart",bindKey:s("Alt-Shift-Left","Command-Shift-Left"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",readOnly:!0},{name:"gotolinestart",bindKey:s("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",readOnly:!0},{name:"selectleft",bindKey:s("Shift-Left","Shift-Left"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",readOnly:!0},{name:"gotoleft",bindKey:s("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",readOnly:!0},{name:"selectwordright",bindKey:s("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",readOnly:!0},{name:"gotowordright",bindKey:s("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",readOnly:!0},{name:"selecttolineend",bindKey:s("Alt-Shift-Right","Command-Shift-Right"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",readOnly:!0},{name:"gotolineend",bindKey:s("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",readOnly:!0},{name:"selectright",bindKey:s("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",readOnly:!0},{name:"gotoright",bindKey:s("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:s(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:s("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:s(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:s("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:s("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",readOnly:!0},{name:"togglerecording",bindKey:s("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",bindKey:s("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",bindKey:s("Ctrl-P","Ctrl-Shift-P"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",readOnly:!0},{name:"selecttomatching",bindKey:s("Ctrl-Shift-P",null),exec:function(e){e.jumpToMatching(!0)},readOnly:!0},{name:"cut",exec:function(e){var t=e.getSelectionRange();e._emit("cut",t),e.selection.isEmpty()||(e.session.remove(t),e.clearSelection())},multiSelectAction:"forEach"},{name:"removeline",bindKey:s("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},multiSelectAction:"forEach"},{name:"duplicateSelection",bindKey:s("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},multiSelectAction:"forEach"},{name:"sortlines",bindKey:s("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},multiSelectAction:"forEach"},{name:"togglecomment",bindKey:s("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEach"},{name:"modifyNumberUp",bindKey:s("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:s("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},multiSelectAction:"forEach"},{name:"replace",bindKey:s("Ctrl-H","Command-Option-F"),exec:function(e){i.loadModule("ace/ext/searchbox",function(t){t.Search(e,!0)})}},{name:"undo",bindKey:s("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",bindKey:s("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",bindKey:s("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()}},{name:"movelinesup",bindKey:s("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()}},{name:"copylinesdown",bindKey:s("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()}},{name:"movelinesdown",bindKey:s("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()}},{name:"del",bindKey:s("Delete","Delete|Ctrl-D"),exec:function(e){e.remove("right")},multiSelectAction:"forEach"},{name:"backspace",bindKey:s("Command-Backspace|Option-Backspace|Shift-Backspace|Backspace","Ctrl-Backspace|Command-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach"},{name:"removetolinestart",bindKey:s("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach"},{name:"removetolineend",bindKey:s("Alt-Delete","Ctrl-K"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach"},{name:"removewordleft",bindKey:s("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach"},{name:"removewordright",bindKey:s("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach"},{name:"outdent",bindKey:s("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach"},{name:"indent",bindKey:s("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach"},{name:"insertstring",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach"},{name:"inserttext",exec:function(e,t){e.insert(r.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach"},{name:"splitline",bindKey:s(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach"},{name:"transposeletters",bindKey:s("Ctrl-T","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)}},{name:"touppercase",bindKey:s("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach"},{name:"tolowercase",bindKey:s("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach"}]}),define("ace/undomanager",["require","exports","module"],function(e,t,n){var r=function(){this.reset()};(function(){this.execute=function(e){var t=e.args[0];this.$doc=e.args[1],this.$undoStack.push(t),this.$redoStack=[]},this.undo=function(e){var t=this.$undoStack.pop(),n=null;return t&&(n=this.$doc.undoChanges(t,e),this.$redoStack.push(t)),n},this.redo=function(e){var t=this.$redoStack.pop(),n=null;return t&&(n=this.$doc.redoChanges(t,e),this.$undoStack.push(t)),n},this.reset=function(){this.$undoStack=[],this.$redoStack=[]},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0}}).call(r.prototype),t.UndoManager=r}),define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/useragent","ace/config","ace/lib/net","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/renderloop","ace/lib/event_emitter"],function(e,t,n){var r=e("./lib/oop"),i=e("./lib/dom"),s=e("./lib/event"),o=e("./lib/useragent"),u=e("./config"),a=e("./lib/net"),f=e("./layer/gutter").Gutter,l=e("./layer/marker").Marker,c=e("./layer/text").Text,h=e("./layer/cursor").Cursor,p=e("./scrollbar").ScrollBar,d=e("./renderloop").RenderLoop,v=e("./lib/event_emitter").EventEmitter,m=".ace_editor {position: relative;overflow: hidden;font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;}.ace_scroller {position: absolute;overflow: hidden;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: text;}.ace_gutter {position: absolute;overflow : hidden;height: 100%;width: auto;cursor: default;z-index: 4;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUM2OEZDQTQ4RTU0MTFFMUEzM0VFRTM2RUY1M0RBMjYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUM2OEZDQTU4RTU0MTFFMUEzM0VFRTM2RUY1M0RBMjYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQzY4RkNBMjhFNTQxMUUxQTMzRUVFMzZFRjUzREEyNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQzY4RkNBMzhFNTQxMUUxQTMzRUVFMzZFRjUzREEyNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkgXxbAAAAJbSURBVHjapFNNaBNBFH4zs5vdZLP5sQmNpT82QY209heh1ioWisaDRcSKF0WKJ0GQnrzrxasHsR6EnlrwD0TagxJabaVEpFYxLWlLSS822tr87m66ccfd2GKyVhA6MMybgfe97/vmPUQphd0sZjto9XIn9OOsvlu2nkqRzVU+6vvlzPf8W6bk8dxQ0NPbxAALgCgg2JkaQuhzQau/El0zbmUA7U0Es8v2CiYmKQJHGO1QICCLoqilMhkmurDAyapKgqItezi/USRdJqEYY4D5jCy03ht2yMkkvL91jTTX10qzyyu2hruPRN7jgbH+EOsXcMLgYiThEgAMhABW85oqy1DXdRIdvP1AHJ2acQXvDIrVHcdQNrEKNYSVMSZGMjEzIIAwDXIo+6G/FxcGnzkC3T2oMhLjre49sBB+RRcHLqdafK6sYdE/GGBwU1VpFNj0aN8pJbe+BkZyevUrvLl6Xmm0W9IuTc0DxrDNAJd5oEvI/KRsNC3bQyNjPO9yQ1YHcfj2QvfQc/5TUhJTBc2iM0U7AWDQtc1nJHvD/cfO2s7jaGkiTEfa/Ep8coLu7zmNmh8+dc5lZDuUeFAGUNA/OY6JVaypQ0vjr7XYjUvJM37vt+j1vuTK5DgVfVUoTjVe+y3/LxMxY2GgU+CSLy4cpfsYorRXuXIOi0Vt40h67uZFTdIo6nLaZcwUJWAzwNS0tBnqqKzQDnjdG/iPyZxo46HaKUpbvYkj8qYRTZsBhge+JHhZyh0x9b95JqjVJkT084kZIPwu/mPWqPgfQ5jXh2+92Ay7HedfAgwA6KDWafb4w3cAAAAASUVORK5CYII=\");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUM2OEZDQTg4RTU0MTFFMUEzM0VFRTM2RUY1M0RBMjYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUM2OEZDQTk4RTU0MTFFMUEzM0VFRTM2RUY1M0RBMjYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQzY4RkNBNjhFNTQxMUUxQTMzRUVFMzZFRjUzREEyNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQzY4RkNBNzhFNTQxMUUxQTMzRUVFMzZFRjUzREEyNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pgd7PfIAAAGmSURBVHjaYvr//z8DJZiJgUIANoCRkREb9gLiSVAaQx4OQM7AAkwd7XU2/v++/rOttdYGEB9dASEvOMydGKfH8Gv/p4XTkvRBfLxeQAP+1cUhXopyvzhP7P/IoSj7g7Mw09cNKO6J1QQ0L4gICPIv/veg/8W+JdFvQNLHVsW9/nmn9zk7B+cCkDwhL7gt6knSZnx9/LuCEOcvkIAMP+cvto9nfqyZmmUAksfnBUtbM60gX/3/kgyv3/xSFOL5DZT+L8vP+Yfh5cvfPvp/xUHyQHXGyAYwgpwBjZYFT3Y1OEl/OfCH4ffv3wzc4iwMvNIsDJ+f/mH4+vIPAxsb631WW0Yln6ZpQLXdMK/DXGDflh+sIv37EivD5x//Gb7+YWT4y86sl7BCCkSD+Z++/1dkvsFRl+HnD1Rvje4F8whjMXmGj58YGf5zsDMwcnAwfPvKcml62DsQDeaDxN+/Y0qwlpEHqrdB94IRNIDUgfgfKJChGK4OikEW3gTiXUB950ASLFAF54AC94A0G9QAfOnmF9DCDzABFqS08IHYDIScdijOjQABBgC+/9awBH96jwAAAABJRU5ErkJggg==\");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url(\"data:image/gif;base64,R0lGODlhEAAQAMQAAAAAAEFBQVJSUl5eXmRkZGtra39/f4WFhYmJiZGRkaampry8vMPDw8zMzNXV1dzc3OTk5Orq6vDw8P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAkAABQALAAAAAAQABAAAAUuICWOZGmeaBml5XGwFCQSBGyXRSAwtqQIiRuiwIM5BoYVbEFIyGCQoeJGrVptIQA7\");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGRTk5MTVGREIxNDkxMUUxOTc5Q0FFREQyMTNGMjBFQyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGRTk5MTVGRUIxNDkxMUUxOTc5Q0FFREQyMTNGMjBFQyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZFOTkxNUZCQjE0OTExRTE5NzlDQUVERDIxM0YyMEVDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkZFOTkxNUZDQjE0OTExRTE5NzlDQUVERDIxM0YyMEVDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+SIDkjAAAAJ1JREFUeNpi/P//PwMlgImBQkB7A6qrq/+DMC55FkIGKCoq4pVnpFkgTp069f/+/fv/r1u37r+tre1/kg0A+ptn9uzZYLaRkRHpLvjw4cNXWVlZhufPnzOcO3eOdAO0tbVPAjHDmzdvGA4fPsxIsgGSkpJmv379Ynj37h2DjIyMCMkG3LhxQ/T27dsMampqDHZ2dq/pH41DxwCAAAMAFdc68dUsFZgAAAAASUVORK5CYII=\");}.ace_scrollbar {position: absolute;overflow-x: hidden;overflow-y: scroll;right: 0;}.ace_scrollbar-inner {position: absolute;width: 1px;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;}.ace_text-input.ace_composition {background: #fff;color: #000;z-index: 1000;opacity: 1;border: solid lightgray 1px;margin: -1px}.ace_layer {z-index: 1;position: absolute;overflow: hidden;white-space: nowrap;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;/* setting pointer-events: auto; on node under the mouse, which changesduring scroll, will break mouse wheel scrolling in Safari */pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {color: black;font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-moz-transition: opacity 0.18s;-webkit-transition: opacity 0.18s;-o-transition: opacity 0.18s;-ms-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_cursor[style*=\"opacity: 0\"]{-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";}.ace_editor.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_line {white-space: nowrap;}.ace_marker-layer .ace_step {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%11%00%00%00%09%08%06%00%00%00%D4%E8%C7%0C%00%00%03%1EiCCPICC%20Profile%00%00x%01%85T%DFk%D3P%14%FE%DAe%9D%B0%E1%8B%3Ag%11%09%3Eh%91ndStC%9C%B6kW%BA%CDZ%EA6%B7!H%9B%A6m%5C%9A%C6%24%ED~%B0%07%D9%8Bo%3A%C5w%F1%07%3E%F9%07%0C%D9%83o%7B%92%0D%C6%14a%F8%AC%88%22L%F6%22%B3%9E%9B4M'S%03%B9%F7%BB%DF%F9%EE9'%E7%E4%5E%A0%F9qZ%D3%14%2F%0F%14USO%C5%C2%FC%C4%E4%14%DF%F2%01%5E%1CC%2B%FChM%8B%86%16J%26G%40%0F%D3%B2y%EF%B3%F3%0E%1E%C6lt%EEo%DF%AB%FEc%D5%9A%95%0C%11%F0%1C%20%BE%945%C4%22%E1Y%A0i%5C%D4t%13%E0%D6%89%EF%9D15%C2%CDLsX%A7%04%09%1Fg8oc%81%E1%8C%8D%23%96f45%40%9A%09%C2%07%C5B%3AK%B8%408%98i%E0%F3%0D%D8%CE%81%14%E4'%26%A9%92.%8B%3C%ABER%2F%E5dE%B2%0C%F6%F0%1Fs%83%F2_%B0%A8%94%E9%9B%AD%E7%10%8Dm%9A%19N%D1%7C%8A%DE%1F9%7Dp%8C%E6%00%D5%C1%3F_%18%BDA%B8%9DpX6%E3%A35~B%CD%24%AE%11%26%BD%E7%EEti%98%EDe%9A%97Y)%12%25%1C%24%BCbT%AE3li%E6%0B%03%89%9A%E6%D3%ED%F4P%92%B0%9F4%BF43Y%F3%E3%EDP%95%04%EB1%C5%F5%F6KF%F4%BA%BD%D7%DB%91%93%07%E35%3E%A7)%D6%7F%40%FE%BD%F7%F5r%8A%E5y%92%F0%EB%B4%1E%8D%D5%F4%5B%92%3AV%DB%DB%E4%CD%A6%23%C3%C4wQ%3F%03HB%82%8E%1Cd(%E0%91B%0Ca%9Ac%C4%AA%F8L%16%19%22J%A4%D2itTy%B28%D6%3B(%93%96%ED%1CGx%C9_%0E%B8%5E%16%F5%5B%B2%B8%F6%E0%FB%9E%DD%25%D7%8E%BC%15%85%C5%B7%A3%D8Q%ED%B5%81%E9%BA%B2%13%9A%1B%7Fua%A5%A3n%E17%B9%E5%9B%1Bm%AB%0B%08Q%FE%8A%E5%B1H%5Ee%CAO%82Q%D7u6%E6%90S%97%FCu%0B%CF2%94%EE%25v%12X%0C%BA%AC%F0%5E%F8*l%0AO%85%17%C2%97%BF%D4%C8%CE%DE%AD%11%CB%80q%2C%3E%AB%9ES%CD%C6%EC%25%D2L%D2%EBd%B8%BF%8A%F5B%C6%18%F9%901CZ%9D%BE%24M%9C%8A9%F2%DAP%0B'%06w%82%EB%E6%E2%5C%2F%D7%07%9E%BB%CC%5D%E1%FA%B9%08%AD.r%23%8E%C2%17%F5E%7C!%F0%BE3%BE%3E_%B7o%88a%A7%DB%BE%D3d%EB%A31Z%EB%BB%D3%91%BA%A2%B1z%94%8F%DB'%F6%3D%8E%AA%13%19%B2%B1%BE%B1~V%08%2B%B4%A2cjJ%B3tO%00%03%25mN%97%F3%05%93%EF%11%84%0B%7C%88%AE-%89%8F%ABbW%90O%2B%0Ao%99%0C%5E%97%0CI%AFH%D9.%B0%3B%8F%ED%03%B6S%D6%5D%E6i_s9%F3*p%E9%1B%FD%C3%EB.7U%06%5E%19%C0%D1s.%17%A03u%E4%09%B0%7C%5E%2C%EB%15%DB%1F%3C%9E%B7%80%91%3B%DBc%AD%3Dma%BA%8B%3EV%AB%DBt.%5B%1E%01%BB%0F%AB%D5%9F%CF%AA%D5%DD%E7%E4%7F%0Bx%A3%FC%06%A9%23%0A%D6%C2%A1_2%00%00%00%09pHYs%00%00%0B%13%00%00%0B%13%01%00%9A%9C%18%00%00%00%B5IDAT(%15%A5%91%3D%0E%02!%10%85ac%E1%05%D6%CE%D6%C6%CE%D2%E8%ED%CD%DE%C0%C6%D6N.%E0V%F8%3D%9Ca%891XH%C2%BE%D9y%3F%90!%E6%9C%C3%BFk%E5%011%C6-%F5%C8N%04%DF%BD%FF%89%DFt%83DN%60%3E%F3%AB%A0%DE%1A%5Dg%BE%10Q%97%1B%40%9C%A8o%10%8F%5E%828%B4%1B%60%87%F6%02%26%85%1Ch%1E%C1%2B%5Bk%FF%86%EE%B7j%09%9A%DA%9B%ACe%A3%F9%EC%DA!9%B4%D5%A6%81%86%86%98%CC%3C%5B%40%FA%81%B3%E9%CB%23%94%C16Azo%05%D4%E1%C1%95a%3B%8A'%A0%E8%CC%17%22%85%1D%BA%00%A2%FA%DC%0A%94%D1%D1%8D%8B%3A%84%17B%C7%60%1A%25Z%FC%8D%00%00%00%00IEND%AEB%60%82\"),url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%05%00%00%007%08%06%00%00%00%C4%DD%80C%00%00%03%1EiCCPICC%20Profile%00%00x%01%85T%DFk%D3P%14%FE%DAe%9D%B0%E1%8B%3Ag%11%09%3Eh%91ndStC%9C%B6kW%BA%CDZ%EA6%B7!H%9B%A6m%5C%9A%C6%24%ED~%B0%07%D9%8Bo%3A%C5w%F1%07%3E%F9%07%0C%D9%83o%7B%92%0D%C6%14a%F8%AC%88%22L%F6%22%B3%9E%9B4M'S%03%B9%F7%BB%DF%F9%EE9'%E7%E4%5E%A0%F9qZ%D3%14%2F%0F%14USO%C5%C2%FC%C4%E4%14%DF%F2%01%5E%1CC%2B%FChM%8B%86%16J%26G%40%0F%D3%B2y%EF%B3%F3%0E%1E%C6lt%EEo%DF%AB%FEc%D5%9A%95%0C%11%F0%1C%20%BE%945%C4%22%E1Y%A0i%5C%D4t%13%E0%D6%89%EF%9D15%C2%CDLsX%A7%04%09%1Fg8oc%81%E1%8C%8D%23%96f45%40%9A%09%C2%07%C5B%3AK%B8%408%98i%E0%F3%0D%D8%CE%81%14%E4'%26%A9%92.%8B%3C%ABER%2F%E5dE%B2%0C%F6%F0%1Fs%83%F2_%B0%A8%94%E9%9B%AD%E7%10%8Dm%9A%19N%D1%7C%8A%DE%1F9%7Dp%8C%E6%00%D5%C1%3F_%18%BDA%B8%9DpX6%E3%A35~B%CD%24%AE%11%26%BD%E7%EEti%98%EDe%9A%97Y)%12%25%1C%24%BCbT%AE3li%E6%0B%03%89%9A%E6%D3%ED%F4P%92%B0%9F4%BF43Y%F3%E3%EDP%95%04%EB1%C5%F5%F6KF%F4%BA%BD%D7%DB%91%93%07%E35%3E%A7)%D6%7F%40%FE%BD%F7%F5r%8A%E5y%92%F0%EB%B4%1E%8D%D5%F4%5B%92%3AV%DB%DB%E4%CD%A6%23%C3%C4wQ%3F%03HB%82%8E%1Cd(%E0%91B%0Ca%9Ac%C4%AA%F8L%16%19%22J%A4%D2itTy%B28%D6%3B(%93%96%ED%1CGx%C9_%0E%B8%5E%16%F5%5B%B2%B8%F6%E0%FB%9E%DD%25%D7%8E%BC%15%85%C5%B7%A3%D8Q%ED%B5%81%E9%BA%B2%13%9A%1B%7Fua%A5%A3n%E17%B9%E5%9B%1Bm%AB%0B%08Q%FE%8A%E5%B1H%5Ee%CAO%82Q%D7u6%E6%90S%97%FCu%0B%CF2%94%EE%25v%12X%0C%BA%AC%F0%5E%F8*l%0AO%85%17%C2%97%BF%D4%C8%CE%DE%AD%11%CB%80q%2C%3E%AB%9ES%CD%C6%EC%25%D2L%D2%EBd%B8%BF%8A%F5B%C6%18%F9%901CZ%9D%BE%24M%9C%8A9%F2%DAP%0B'%06w%82%EB%E6%E2%5C%2F%D7%07%9E%BB%CC%5D%E1%FA%B9%08%AD.r%23%8E%C2%17%F5E%7C!%F0%BE3%BE%3E_%B7o%88a%A7%DB%BE%D3d%EB%A31Z%EB%BB%D3%91%BA%A2%B1z%94%8F%DB'%F6%3D%8E%AA%13%19%B2%B1%BE%B1~V%08%2B%B4%A2cjJ%B3tO%00%03%25mN%97%F3%05%93%EF%11%84%0B%7C%88%AE-%89%8F%ABbW%90O%2B%0Ao%99%0C%5E%97%0CI%AFH%D9.%B0%3B%8F%ED%03%B6S%D6%5D%E6i_s9%F3*p%E9%1B%FD%C3%EB.7U%06%5E%19%C0%D1s.%17%A03u%E4%09%B0%7C%5E%2C%EB%15%DB%1F%3C%9E%B7%80%91%3B%DBc%AD%3Dma%BA%8B%3EV%AB%DBt.%5B%1E%01%BB%0F%AB%D5%9F%CF%AA%D5%DD%E7%E4%7F%0Bx%A3%FC%06%A9%23%0A%D6%C2%A1_2%00%00%00%09pHYs%00%00%0B%13%00%00%0B%13%01%00%9A%9C%18%00%00%00%3AIDAT8%11c%FC%FF%FF%7F%18%03%1A%60%01%F2%3F%A0%891%80%04%FF%11-%F8%17%9BJ%E2%05%B1ZD%81v%26t%E7%80%F8%A3%82h%A12%1A%20%A3%01%02%0F%01%BA%25%06%00%19%C0%0D%AEF%D5%3ES%00%00%00%00IEND%AEB%60%82\");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;-moz-border-radius: 2px;-webkit-border-radius: 2px;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%11%00%00%00%09%08%06%00%00%00%D4%E8%C7%0C%00%00%03%1EiCCPICC%20Profile%00%00x%01%85T%DFk%D3P%14%FE%DAe%9D%B0%E1%8B%3Ag%11%09%3Eh%91ndStC%9C%B6kW%BA%CDZ%EA6%B7!H%9B%A6m%5C%9A%C6%24%ED~%B0%07%D9%8Bo%3A%C5w%F1%07%3E%F9%07%0C%D9%83o%7B%92%0D%C6%14a%F8%AC%88%22L%F6%22%B3%9E%9B4M'S%03%B9%F7%BB%DF%F9%EE9'%E7%E4%5E%A0%F9qZ%D3%14%2F%0F%14USO%C5%C2%FC%C4%E4%14%DF%F2%01%5E%1CC%2B%FChM%8B%86%16J%26G%40%0F%D3%B2y%EF%B3%F3%0E%1E%C6lt%EEo%DF%AB%FEc%D5%9A%95%0C%11%F0%1C%20%BE%945%C4%22%E1Y%A0i%5C%D4t%13%E0%D6%89%EF%9D15%C2%CDLsX%A7%04%09%1Fg8oc%81%E1%8C%8D%23%96f45%40%9A%09%C2%07%C5B%3AK%B8%408%98i%E0%F3%0D%D8%CE%81%14%E4'%26%A9%92.%8B%3C%ABER%2F%E5dE%B2%0C%F6%F0%1Fs%83%F2_%B0%A8%94%E9%9B%AD%E7%10%8Dm%9A%19N%D1%7C%8A%DE%1F9%7Dp%8C%E6%00%D5%C1%3F_%18%BDA%B8%9DpX6%E3%A35~B%CD%24%AE%11%26%BD%E7%EEti%98%EDe%9A%97Y)%12%25%1C%24%BCbT%AE3li%E6%0B%03%89%9A%E6%D3%ED%F4P%92%B0%9F4%BF43Y%F3%E3%EDP%95%04%EB1%C5%F5%F6KF%F4%BA%BD%D7%DB%91%93%07%E35%3E%A7)%D6%7F%40%FE%BD%F7%F5r%8A%E5y%92%F0%EB%B4%1E%8D%D5%F4%5B%92%3AV%DB%DB%E4%CD%A6%23%C3%C4wQ%3F%03HB%82%8E%1Cd(%E0%91B%0Ca%9Ac%C4%AA%F8L%16%19%22J%A4%D2itTy%B28%D6%3B(%93%96%ED%1CGx%C9_%0E%B8%5E%16%F5%5B%B2%B8%F6%E0%FB%9E%DD%25%D7%8E%BC%15%85%C5%B7%A3%D8Q%ED%B5%81%E9%BA%B2%13%9A%1B%7Fua%A5%A3n%E17%B9%E5%9B%1Bm%AB%0B%08Q%FE%8A%E5%B1H%5Ee%CAO%82Q%D7u6%E6%90S%97%FCu%0B%CF2%94%EE%25v%12X%0C%BA%AC%F0%5E%F8*l%0AO%85%17%C2%97%BF%D4%C8%CE%DE%AD%11%CB%80q%2C%3E%AB%9ES%CD%C6%EC%25%D2L%D2%EBd%B8%BF%8A%F5B%C6%18%F9%901CZ%9D%BE%24M%9C%8A9%F2%DAP%0B'%06w%82%EB%E6%E2%5C%2F%D7%07%9E%BB%CC%5D%E1%FA%B9%08%AD.r%23%8E%C2%17%F5E%7C!%F0%BE3%BE%3E_%B7o%88a%A7%DB%BE%D3d%EB%A31Z%EB%BB%D3%91%BA%A2%B1z%94%8F%DB'%F6%3D%8E%AA%13%19%B2%B1%BE%B1~V%08%2B%B4%A2cjJ%B3tO%00%03%25mN%97%F3%05%93%EF%11%84%0B%7C%88%AE-%89%8F%ABbW%90O%2B%0Ao%99%0C%5E%97%0CI%AFH%D9.%B0%3B%8F%ED%03%B6S%D6%5D%E6i_s9%F3*p%E9%1B%FD%C3%EB.7U%06%5E%19%C0%D1s.%17%A03u%E4%09%B0%7C%5E%2C%EB%15%DB%1F%3C%9E%B7%80%91%3B%DBc%AD%3Dma%BA%8B%3EV%AB%DBt.%5B%1E%01%BB%0F%AB%D5%9F%CF%AA%D5%DD%E7%E4%7F%0Bx%A3%FC%06%A9%23%0A%D6%C2%A1_2%00%00%00%09pHYs%00%00%0B%13%00%00%0B%13%01%00%9A%9C%18%00%00%00%B5IDAT(%15%A5%91%3D%0E%02!%10%85ac%E1%05%D6%CE%D6%C6%CE%D2%E8%ED%CD%DE%C0%C6%D6N.%E0V%F8%3D%9Ca%891XH%C2%BE%D9y%3F%90!%E6%9C%C3%BFk%E5%011%C6-%F5%C8N%04%DF%BD%FF%89%DFt%83DN%60%3E%F3%AB%A0%DE%1A%5Dg%BE%10Q%97%1B%40%9C%A8o%10%8F%5E%828%B4%1B%60%87%F6%02%26%85%1Ch%1E%C1%2B%5Bk%FF%86%EE%B7j%09%9A%DA%9B%ACe%A3%F9%EC%DA!9%B4%D5%A6%81%86%86%98%CC%3C%5B%40%FA%81%B3%E9%CB%23%94%C16Azo%05%D4%E1%C1%95a%3B%8A'%A0%E8%CC%17%22%85%1D%BA%00%A2%FA%DC%0A%94%D1%D1%8D%8B%3A%84%17B%C7%60%1A%25Z%FC%8D%00%00%00%00IEND%AEB%60%82\"),url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%05%00%00%007%08%06%00%00%00%C4%DD%80C%00%00%03%1EiCCPICC%20Profile%00%00x%01%85T%DFk%D3P%14%FE%DAe%9D%B0%E1%8B%3Ag%11%09%3Eh%91ndStC%9C%B6kW%BA%CDZ%EA6%B7!H%9B%A6m%5C%9A%C6%24%ED~%B0%07%D9%8Bo%3A%C5w%F1%07%3E%F9%07%0C%D9%83o%7B%92%0D%C6%14a%F8%AC%88%22L%F6%22%B3%9E%9B4M'S%03%B9%F7%BB%DF%F9%EE9'%E7%E4%5E%A0%F9qZ%D3%14%2F%0F%14USO%C5%C2%FC%C4%E4%14%DF%F2%01%5E%1CC%2B%FChM%8B%86%16J%26G%40%0F%D3%B2y%EF%B3%F3%0E%1E%C6lt%EEo%DF%AB%FEc%D5%9A%95%0C%11%F0%1C%20%BE%945%C4%22%E1Y%A0i%5C%D4t%13%E0%D6%89%EF%9D15%C2%CDLsX%A7%04%09%1Fg8oc%81%E1%8C%8D%23%96f45%40%9A%09%C2%07%C5B%3AK%B8%408%98i%E0%F3%0D%D8%CE%81%14%E4'%26%A9%92.%8B%3C%ABER%2F%E5dE%B2%0C%F6%F0%1Fs%83%F2_%B0%A8%94%E9%9B%AD%E7%10%8Dm%9A%19N%D1%7C%8A%DE%1F9%7Dp%8C%E6%00%D5%C1%3F_%18%BDA%B8%9DpX6%E3%A35~B%CD%24%AE%11%26%BD%E7%EEti%98%EDe%9A%97Y)%12%25%1C%24%BCbT%AE3li%E6%0B%03%89%9A%E6%D3%ED%F4P%92%B0%9F4%BF43Y%F3%E3%EDP%95%04%EB1%C5%F5%F6KF%F4%BA%BD%D7%DB%91%93%07%E35%3E%A7)%D6%7F%40%FE%BD%F7%F5r%8A%E5y%92%F0%EB%B4%1E%8D%D5%F4%5B%92%3AV%DB%DB%E4%CD%A6%23%C3%C4wQ%3F%03HB%82%8E%1Cd(%E0%91B%0Ca%9Ac%C4%AA%F8L%16%19%22J%A4%D2itTy%B28%D6%3B(%93%96%ED%1CGx%C9_%0E%B8%5E%16%F5%5B%B2%B8%F6%E0%FB%9E%DD%25%D7%8E%BC%15%85%C5%B7%A3%D8Q%ED%B5%81%E9%BA%B2%13%9A%1B%7Fua%A5%A3n%E17%B9%E5%9B%1Bm%AB%0B%08Q%FE%8A%E5%B1H%5Ee%CAO%82Q%D7u6%E6%90S%97%FCu%0B%CF2%94%EE%25v%12X%0C%BA%AC%F0%5E%F8*l%0AO%85%17%C2%97%BF%D4%C8%CE%DE%AD%11%CB%80q%2C%3E%AB%9ES%CD%C6%EC%25%D2L%D2%EBd%B8%BF%8A%F5B%C6%18%F9%901CZ%9D%BE%24M%9C%8A9%F2%DAP%0B'%06w%82%EB%E6%E2%5C%2F%D7%07%9E%BB%CC%5D%E1%FA%B9%08%AD.r%23%8E%C2%17%F5E%7C!%F0%BE3%BE%3E_%B7o%88a%A7%DB%BE%D3d%EB%A31Z%EB%BB%D3%91%BA%A2%B1z%94%8F%DB'%F6%3D%8E%AA%13%19%B2%B1%BE%B1~V%08%2B%B4%A2cjJ%B3tO%00%03%25mN%97%F3%05%93%EF%11%84%0B%7C%88%AE-%89%8F%ABbW%90O%2B%0Ao%99%0C%5E%97%0CI%AFH%D9.%B0%3B%8F%ED%03%B6S%D6%5D%E6i_s9%F3*p%E9%1B%FD%C3%EB.7U%06%5E%19%C0%D1s.%17%A03u%E4%09%B0%7C%5E%2C%EB%15%DB%1F%3C%9E%B7%80%91%3B%DBc%AD%3Dma%BA%8B%3EV%AB%DBt.%5B%1E%01%BB%0F%AB%D5%9F%CF%AA%D5%DD%E7%E4%7F%0Bx%A3%FC%06%A9%23%0A%D6%C2%A1_2%00%00%00%09pHYs%00%00%0B%13%00%00%0B%13%01%00%9A%9C%18%00%00%003IDAT8%11c%FC%FF%FF%7F%3E%03%1A%60%01%F2%3F%A3%891%80%04%FFQ%26%F8w%C0%B43%A1%DB%0C%E2%8F%0A%A2%85%CAh%80%8C%06%08%3C%04%E8%96%18%00%A3S%0D%CD%CF%D8%C1%9D%00%00%00%00IEND%AEB%60%82\");background-repeat: no-repeat, repeat-x;background-position: center center, top left;}.ace_editor.ace_dragging .ace_content {cursor: move;}.ace_gutter-tooltip {background-color: #FFFFD5;border: 1px solid gray;box-shadow: 0 1px 1px rgba(0, 0, 0, 0.4);color: black;display: inline-block;padding: 4px;position: absolute;z-index: 300;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre-line;word-wrap: break-word;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: inline-block;width: 11px;vertical-align: top;background-image: url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%05%00%00%00%05%08%06%00%00%00%8Do%26%E5%00%00%004IDATx%DAe%8A%B1%0D%000%0C%C2%F2%2CK%96%BC%D0%8F9%81%88H%E9%D0%0E%96%C0%10%92%3E%02%80%5E%82%E4%A9*-%EEsw%C8%CC%11%EE%96w%D8%DC%E9*Eh%0C%151(%00%00%00%00IEND%AEB%60%82\");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;}.ace_fold-widget.ace_end {background-image: url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%05%00%00%00%05%08%06%00%00%00%8Do%26%E5%00%00%004IDATx%DAm%C7%C1%09%000%08C%D1%8C%ECE%C8E(%8E%EC%02)%1EZJ%F1%C1'%04%07I%E1%E5%EE%CAL%F5%A2%99%99%22%E2%D6%1FU%B5%FE0%D9x%A7%26Wz5%0E%D5%00%00%00%00IEND%AEB%60%82\");}.ace_fold-widget.ace_closed {background-image: url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%03%00%00%00%06%08%06%00%00%00%06%E5%24%0C%00%00%009IDATx%DA5%CA%C1%09%000%08%03%C0%AC*(%3E%04%C1%0D%BA%B1%23%A4Uh%E0%20%81%C0%CC%F8%82%81%AA%A2%AArGfr%88%08%11%11%1C%DD%7D%E0%EE%5B%F6%F6%CB%B8%05Q%2F%E9tai%D9%00%00%00%00IEND%AEB%60%82\");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);-moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);-webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);-moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);-webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}/*** Dark version for fold widgets*/.ace_dark .ace_fold-widget {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\");}.ace_dark .ace_fold-widget.ace_end {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\");}.ace_dark .ace_fold-widget.ace_closed {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {-moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);-webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-moz-transition: opacity 0.4s ease 0.05s;-webkit-transition: opacity 0.4s ease 0.05s;-o-transition: opacity 0.4s ease 0.05s;-ms-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-moz-transition: opacity 0.05s ease 0.05s;-webkit-transition: opacity 0.05s ease 0.05s;-o-transition: opacity 0.05s ease 0.05s;-ms-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}";i.importCssString(m,"ace_editor");var g=function(e,t){var n=this;this.container=e||i.createElement("div"),this.$keepTextAreaAtCursor=!o.isIE,i.addCssClass(this.container,"ace_editor"),this.setTheme(t),this.$gutter=i.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.scroller=i.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=i.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.setHighlightGutterLine(!0),this.$gutterLayer=new f(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new l(this.content);var r=this.$textLayer=new c(this.content);this.canvas=r.element,this.$markerFront=new l(this.content),this.$cursorLayer=new h(this.content),this.$horizScroll=!1,this.$horizScrollAlwaysVisible=!1,this.$animatedScroll=!1,this.scrollBar=new p(this.container),this.scrollBar.addEventListener("scroll",function(e){n.$inScrollAnimation||n.session.setScrollTop(e.data)}),this.scrollTop=0,this.scrollLeft=0,s.addListener(this.scroller,"scroll",function(){var e=n.scroller.scrollLeft;n.scrollLeft=e,n.session.setScrollLeft(e)}),this.cursorPos={row:0,column:0},this.$textLayer.addEventListener("changeCharacterSize",function(){n.updateCharacterSize(),n.onResize(!0)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:1,characterWidth:1,minHeight:1,maxHeight:1,offset:0,height:1},this.$loop=new d(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4)};(function(){this.showGutter=!0,this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,r.implement(this,v),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.characterWidth=this.$textLayer.getCharacterWidth(),this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(e){this.session=e,this.scroller.className="ace_scroller",this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),this.$loop.schedule(this.CHANGE_FULL)},this.updateLines=function(e,t){t===undefined&&(t=Infinity),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t};if(this.$changedLines.firstRow>this.layerConfig.lastRow||this.$changedLines.lastRow<this.layerConfig.firstRow)return;this.$loop.schedule(this.CHANGE_LINES)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.onResize=function(e,t,n,r){var s=this.CHANGE_SIZE,o=this.$size;if(this.resizing>2)return;this.resizing>1?this.resizing++:this.resizing=e?1:0,r||(r=i.getInnerHeight(this.container)),r&&(e||o.height!=r)&&(o.height=r,this.scroller.style.height=r+"px",o.scrollerHeight=this.scroller.clientHeight,this.scrollBar.setHeight(o.scrollerHeight),this.session&&(this.session.setScrollTop(this.getScrollTop()),s|=this.CHANGE_FULL)),n||(n=i.getInnerWidth(this.container));if(n&&(e||this.resizing>1||o.width!=n)){o.width=n;var t=this.showGutter?this.$gutter.offsetWidth:0;this.scroller.style.left=t+"px",o.scrollerWidth=Math.max(0,n-t-this.scrollBar.getWidth()),this.scroller.style.right=this.scrollBar.getWidth()+"px";if(this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)s|=this.CHANGE_FULL}e?this.$renderChanges(s,!0):this.$loop.schedule(s),e&&delete this.resizing},this.onGutterResize=function(){var e=this.$size.width,t=this.showGutter?this.$gutter.offsetWidth:0;this.scroller.style.left=t+"px",this.$size.scrollerWidth=Math.max(0,e-t-this.scrollBar.getWidth()),this.session.getUseWrapMode()&&this.adjustWrapLimit()&&this.$loop.schedule(this.CHANGE_FULL)},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-this.$padding*2,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t)},this.setAnimatedScroll=function(e){this.$animatedScroll=e},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},this.getShowInvisibles=function(){return this.$textLayer.showInvisibles},this.getDisplayIndentGuides=function(){return this.$textLayer.displayIndentGuides},this.setDisplayIndentGuides=function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},this.$showPrintMargin=!0,this.setShowPrintMargin=function(e){this.$showPrintMargin=e,this.$updatePrintMargin()},this.getShowPrintMargin=function(){return this.$showPrintMargin},this.$printMarginColumn=80,this.setPrintMarginColumn=function(e){this.$printMarginColumn=e,this.$updatePrintMargin()},this.getPrintMarginColumn=function(){return this.$printMarginColumn},this.getShowGutter=function(){return this.showGutter},this.setShowGutter=function(e){if(this.showGutter===e)return;this.$gutter.style.display=e?"block":"none",this.showGutter=e,this.onResize(!0)},this.getFadeFoldWidgets=function(){return i.hasCssClass(this.$gutter,"ace_fade-fold-widgets")},this.setFadeFoldWidgets=function(e){e?i.addCssClass(this.$gutter,"ace_fade-fold-widgets"):i.removeCssClass(this.$gutter,"ace_fade-fold-widgets")},this.$highlightGutterLine=!1,this.setHighlightGutterLine=function(e){if(this.$highlightGutterLine==e)return;this.$highlightGutterLine=e;if(!this.$gutterLineHighlight){this.$gutterLineHighlight=i.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",this.$gutter.appendChild(this.$gutterLineHighlight);return}this.$gutterLineHighlight.style.display=e?"":"none",this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight()},this.getHighlightGutterLine=function(){return this.$highlightGutterLine},this.$updateGutterLineHighlight=function(){this.$gutterLineHighlight.style.top=this.$cursorLayer.$pixelPos.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=this.layerConfig.lineHeight+"px"},this.$updatePrintMargin=function(){if(!this.$showPrintMargin&&!this.$printMarginEl)return;if(!this.$printMarginEl){var e=i.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=i.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",t.visibility=this.$showPrintMargin?"visible":"hidden"},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.content},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$keepTextAreaAtCursor)return;var e=this.$cursorLayer.$pixelPos.top,t=this.$cursorLayer.$pixelPos.left;e-=this.layerConfig.offset;if(e<0||e>this.layerConfig.height-this.lineHeight)return;var n=this.characterWidth;this.$composition&&(n+=this.textarea.scrollWidth),t-=this.scrollLeft,t>this.$size.scrollerWidth-n&&(t=this.$size.scrollerWidth-n),this.showGutter&&(t+=this.$gutterLayer.gutterWidth),this.textarea.style.height=this.lineHeight+"px",this.textarea.style.width=n+"px",this.textarea.style.left=t+"px",this.textarea.style.top=e-1+"px"},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},this.getLastFullyVisibleRow=function(){var e=Math.floor((this.layerConfig.height+this.layerConfig.offset)/this.layerConfig.lineHeight);return this.layerConfig.firstRow-1+e},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.getHScrollBarAlwaysVisible=function(){return this.$horizScrollAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.$horizScrollAlwaysVisible!=e&&(this.$horizScrollAlwaysVisible=e,(!this.$horizScrollAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL))},this.$updateScrollBar=function(){this.scrollBar.setInnerHeight(this.layerConfig.maxHeight),this.scrollBar.setScrollTop(this.scrollTop)},this.$renderChanges=function(e,t){if(!t&&(!e||!this.session||!this.container.offsetWidth))return;(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL)&&this.$computeLayerConfig();if(e&this.CHANGE_H_SCROLL){this.scroller.scrollLeft=this.scrollLeft;var n=this.scroller.scrollLeft;this.scrollLeft=n,this.session.setScrollLeft(n),this.scroller.className=this.scrollLeft==0?"ace_scroller":"ace_scroller ace_scroll-left"}if(e&this.CHANGE_FULL){this.$textLayer.checkForSizeChanges(),this.$updateScrollBar(),this.$textLayer.update(this.layerConfig),this.showGutter&&this.$gutterLayer.update(this.layerConfig),this.$markerBack.update(this.layerConfig),this.$markerFront.update(this.layerConfig),this.$cursorLayer.update(this.layerConfig),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight();return}if(e&this.CHANGE_SCROLL){this.$updateScrollBar(),e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(this.layerConfig):this.$textLayer.scrollLines(this.layerConfig),this.showGutter&&this.$gutterLayer.update(this.layerConfig),this.$markerBack.update(this.layerConfig),this.$markerFront.update(this.layerConfig),this.$cursorLayer.update(this.layerConfig),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight();return}e&this.CHANGE_TEXT?(this.$textLayer.update(this.layerConfig),this.showGutter&&this.$gutterLayer.update(this.layerConfig)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.showGutter)&&this.$gutterLayer.update(this.layerConfig):(e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER)&&this.showGutter&&this.$gutterLayer.update(this.layerConfig),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(this.layerConfig),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(this.layerConfig),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(this.layerConfig),e&this.CHANGE_SIZE&&this.$updateScrollBar()},this.$computeLayerConfig=function(){var e=this.session,t=this.scrollTop%this.lineHeight,n=this.$size.scrollerHeight+this.lineHeight,r=this.$getLongestLine(),i=this.$horizScrollAlwaysVisible||this.$size.scrollerWidth-r<0,s=this.$horizScroll!==i;this.$horizScroll=i,s&&(this.scroller.style.overflowX=i?"scroll":"hidden",i||this.session.setScrollLeft(0));var o=this.session.getScreenLength()*this.lineHeight;this.session.setScrollTop(Math.max(0,Math.min(this.scrollTop,o-this.$size.scrollerHeight)));var u=Math.ceil(n/this.lineHeight)-1,a=Math.max(0,Math.round((this.scrollTop-t)/this.lineHeight)),f=a+u,l,c,h=this.lineHeight;a=e.screenToDocumentRow(a,0);var p=e.getFoldLine(a);p&&(a=p.start.row),l=e.documentToScreenRow(a,0),c=e.getRowLength(a)*h,f=Math.min(e.screenToDocumentRow(f,0),e.getLength()-1),n=this.$size.scrollerHeight+e.getRowLength(f)*h+c,t=this.scrollTop-l*h,this.layerConfig={width:r,padding:this.$padding,firstRow:a,firstRowScreen:l,lastRow:f,lineHeight:h,characterWidth:this.characterWidth,minHeight:n,maxHeight:o,offset:t,height:this.$size.scrollerHeight},this.$gutterLayer.element.style.marginTop=-t+"px",this.content.style.marginTop=-t+"px",this.content.style.width=r+2*this.$padding+"px",this.content.style.height=n+"px",s&&this.onResize(!0)},this.$updateLines=function(){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(e>n.lastRow+1)return;if(t<n.firstRow)return;if(t===Infinity){this.showGutter&&this.$gutterLayer.update(n),this.$textLayer.update(n);return}return this.$textLayer.updateLines(n,e,t),!0},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.$textLayer.showInvisibles&&(e+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t){if(this.$size.scrollerHeight===0)return;var n=this.$cursorLayer.getPixelPosition(e),r=n.left,i=n.top;this.scrollTop>i?(t&&(i-=t*this.$size.scrollerHeight),this.session.setScrollTop(i)):this.scrollTop+this.$size.scrollerHeight<i+this.lineHeight&&(t&&(i+=t*this.$size.scrollerHeight),this.session.setScrollTop(i+this.lineHeight-this.$size.scrollerHeight));var s=this.scrollLeft;s>r?(r<this.$padding+2*this.layerConfig.characterWidth&&(r=0),this.session.setScrollLeft(r)):s+this.$size.scrollerWidth<r+this.characterWidth&&this.session.setScrollLeft(Math.round(r+this.characterWidth-this.$size.scrollerWidth))},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){typeof e=="number"&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),r=this.$size.scrollerHeight-this.lineHeight,i=n.top-r*(t||0);return this.session.setScrollTop(i),i},this.STEPS=8,this.$calcSteps=function(e,t){var n=0,r=this.STEPS,i=[],s=function(e,t,n){return n*(Math.pow(e-1,3)+1)+t};for(n=0;n<r;++n)i.push(s(n/this.STEPS,e,t-e));return i},this.scrollToLine=function(e,t,n,r){var i=this.$cursorLayer.getPixelPosition({row:e,column:0}),s=i.top;t&&(s-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(s),n!==!1&&this.animateScrolling(o,r)},this.animateScrolling=function(e,t){var n=this.scrollTop;if(this.$animatedScroll&&Math.abs(e-n)<1e5){var r=this,i=r.$calcSteps(e,n);this.$inScrollAnimation=!0,clearInterval(this.$timer),r.session.setScrollTop(i.shift()),this.$timer=setInterval(function(){i.length?(r.session.setScrollTop(i.shift()),r.session.$scrollTop=n):n!=null?(r.session.$scrollTop=-1,r.session.setScrollTop(n),n=null):(r.$timer=clearInterval(r.$timer),r.$inScrollAnimation=!1,t&&t())},10)}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){e<0&&(e=0),this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){if(t<0&&this.session.getScrollTop()>0)return!0;if(t>0&&this.session.getScrollTop()+this.$size.scrollerHeight<this.layerConfig.maxHeight)return!0},this.pixelToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=(e+this.scrollLeft-n.left-this.$padding)/this.characterWidth,i=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),s=Math.round(r);return{row:i,column:s,side:r-s>0?1:-1}},this.screenToTextCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=Math.round((e+this.scrollLeft-n.left-this.$padding)/this.characterWidth),i=Math.floor((t+this.scrollTop-n.top)/this.lineHeight);return this.session.screenToDocumentPosition(i,Math.max(r,0))},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=this.session.documentToScreenPosition(e,t),i=this.$padding+Math.round(r.column*this.characterWidth),s=r.row*this.lineHeight;return{pageX:n.left+i-this.scrollLeft,pageY:n.top+s-this.scrollTop}},this.visualizeFocus=function(){i.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){i.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,i.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(e){this.$moveTextAreaToCursor()},this.hideComposition=function(){if(!this.$composition)return;i.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null},this._loadTheme=function(e,t){},this.setTheme=function(e){function r(e){i.importCssString(e.cssText,e.cssClass,t.container.ownerDocument),t.theme&&i.removeCssClass(t.container,t.theme.cssClass),t.$theme=e.cssClass,t.theme=e,i.addCssClass(t.container,e.cssClass),i.setCssClass(t.container,"ace_dark",e.isDark);var n=e.padding||4;t.$padding&&n!=t.$padding&&t.setPadding(n),t.$size&&(t.$size.width=0,t.onResize()),t._dispatchEvent("themeLoaded",{theme:e})}var t=this;this.$themeValue=e,t._dispatchEvent("themeChange",{theme:e});if(!e||typeof e=="string"){var n=e||"ace/theme/textmate";u.loadModule(["theme",n],r)}else r(e)},this.getTheme=function(){return this.$themeValue},this.setStyle=function(t,n){i.setCssClass(this.container,t,n!=0)},this.unsetStyle=function(t){i.removeCssClass(this.container,t)},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(g.prototype),t.VirtualRenderer=g}),define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],function(e,t,n){var r=e("../lib/dom"),i=e("../lib/oop"),s=e("../lib/lang"),o=e("../lib/event_emitter").EventEmitter,u=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this)};(function(){i.implement(this,o),this.setSession=function(e){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=e,e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];var t,n;for(var r=0;r<e.length;r++){var i=e[r],n=i.row,t=this.$annotations[n];t||(t=this.$annotations[n]={text:[]});var o=i.text;o=o?s.escapeHTML(o):i.html||"",t.text.indexOf(o)===-1&&t.text.push(o);var u=i.type;u=="error"?t.className=" ace_error":u=="warning"&&t.className!=" ace_error"?t.className=" ace_warning":u=="info"&&!t.className&&(t.className=" ace_info")}},this.$updateAnnotations=function(e){if(!this.$annotations.length)return;var t=e.data,n=t.range,r=n.start.row,i=n.end.row-r;if(i!==0)if(t.action=="removeText"||t.action=="removeLines")this.$annotations.splice(r,i+1,null);else{var s=Array(i+1);s.unshift(r,1),this.$annotations.splice.apply(this.$annotations,s)}},this.update=function(e){var t={className:""},n=[],i=e.firstRow,s=e.lastRow,o=this.session.getNextFoldLine(i),u=o?o.start.row:Infinity,a=this.$showFoldWidgets&&this.session.foldWidgets,f=this.session.$breakpoints,l=this.session.$decorations,c=0;for(;;){i>u&&(i=o.end.row+1,o=this.session.getNextFoldLine(i,o),u=o?o.start.row:Infinity);if(i>s)break;var h=this.$annotations[i]||t;n.push("<div class='ace_gutter-cell ",f[i]||"",l[i]||"",h.className,"' style='height:",this.session.getRowLength(i)*e.lineHeight,"px;'>",c=i+1);if(a){var p=a[i];p==null&&(p=a[i]=this.session.getFoldWidget(i)),p&&n.push("<span class='ace_fold-widget ace_",p,p=="start"&&i==u&&i<o.end.row?" ace_closed":" ace_open","' style='height:",e.lineHeight,"px","'></span>")}n.push("</div>"),i++}this.element=r.setInnerHtml(this.element,n.join("")),this.element.style.height=e.minHeight+"px",this.session.$useWrapMode&&(c=this.session.getLength());var d=(""+c).length*e.characterWidth,v=this.$padding||this.$computePadding();d+=v.left+v.right,d!==this.gutterWidth&&(this.gutterWidth=d,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",d))},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?r.addCssClass(this.element,"ace_folding-enabled"):r.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=r.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(e.paddingLeft)+1,this.$padding.right=parseInt(e.paddingRight),this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();if(e.x<t.left+n.left)return"markers";if(this.$showFoldWidgets&&e.x>n.right-t.right)return"foldWidgets"}}).call(u.prototype),t.Gutter=u}),define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(e,t,n){var r=e("../range").Range,i=e("../lib/dom"),s=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.update=function(e){var e=e||this.config;if(!e)return;this.config=e;var t=[];for(var n in this.markers){var r=this.markers[n];if(!r.range){r.update(t,this,this.session,e);continue}var s=r.range.clipRows(e.firstRow,e.lastRow);if(s.isEmpty())continue;s=s.toScreenRange(this.session);if(r.renderer){var o=this.$getTop(s.start.row,e),u=this.$padding+s.start.column*e.characterWidth;r.renderer(t,s,u,o,e)}else r.type=="fullLine"?this.drawFullLineMarker(t,s,r.clazz,e):s.isMultiLine()?r.type=="text"?this.drawTextMarker(t,s,r.clazz,e):this.drawMultiLineMarker(t,s,r.clazz,e):this.drawSingleLineMarker(t,s,r.clazz+" ace_start",e)}this.element=i.setInnerHtml(this.element,t.join(""))},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(e,t,n,i){var s=t.start.row,o=new r(s,t.start.column,s,this.session.getScreenLastRowColumn(s));this.drawSingleLineMarker(e,o,n+" ace_start",i,1,"text"),s=t.end.row,o=new r(s,0,s,t.end.column),this.drawSingleLineMarker(e,o,n,i,0,"text");for(s=t.start.row+1;s<t.end.row;s++)o.start.row=s,o.end.row=s,o.end.column=this.session.getScreenLastRowColumn(s),this.drawSingleLineMarker(e,o,n,i,1,"text")},this.drawMultiLineMarker=function(e,t,n,r,i){var s=this.$padding,o=r.lineHeight,u=this.$getTop(t.start.row,r),a=s+t.start.column*r.characterWidth;e.push("<div class='",n," ace_start' style='","height:",o,"px;","right:0;","top:",u,"px;","left:",a,"px;'></div>"),u=this.$getTop(t.end.row,r);var f=t.end.column*r.characterWidth;e.push("<div class='",n,"' style='","height:",o,"px;","width:",f,"px;","top:",u,"px;","left:",s,"px;'></div>"),o=(t.end.row-t.start.row-1)*r.lineHeight;if(o<0)return;u=this.$getTop(t.start.row+1,r),e.push("<div class='",n,"' style='","height:",o,"px;","right:0;","top:",u,"px;","left:",s,"px;'></div>")},this.drawSingleLineMarker=function(e,t,n,r,i){var s=r.lineHeight,o=(t.end.column+(i||0)-t.start.column)*r.characterWidth,u=this.$getTop(t.start.row,r),a=this.$padding+t.start.column*r.characterWidth;e.push("<div class='",n,"' style='","height:",s,"px;","width:",o,"px;","top:",u,"px;","left:",a,"px;'></div>")},this.drawFullLineMarker=function(e,t,n,r){var i=this.$getTop(t.start.row,r),s=r.lineHeight;t.start.row!=t.end.row&&(s+=this.$getTop(t.end.row,r)-i),e.push("<div class='",n,"' style='","height:",s,"px;","top:",i,"px;","left:0;right:0;'></div>")}}).call(s.prototype),t.Marker=s}),define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t,n){var r=e("../lib/oop"),i=e("../lib/dom"),s=e("../lib/lang"),o=e("../lib/useragent"),u=e("../lib/event_emitter").EventEmitter,a=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$characterSize={width:0,height:0},this.checkForSizeChanges(),this.$pollSizeChanges()};(function(){r.implement(this,u),this.EOF_CHAR="¶",this.EOL_CHAR="¬",this.TAB_CHAR="→",this.SPACE_CHAR="·",this.$padding=0,this.setPadding=function(e){this.$padding=e,this.element.style.padding="0 "+e+"px"},this.getLineHeight=function(){return this.$characterSize.height||1},this.getCharacterWidth=function(){return this.$characterSize.width||1},this.checkForSizeChanges=function(){var e=this.$measureSizes();if(e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$pollSizeChanges=function(){var e=this;this.$pollSizeChangesTimer=setInterval(function(){e.checkForSizeChanges()},500)},this.$fontStyles={fontFamily:1,fontSize:1,fontWeight:1,fontStyle:1,lineHeight:1},this.$measureSizes=o.isIE||o.isOldGecko?function(){var e=1e3;if(!this.$measureNode){var t=this.$measureNode=i.createElement("div"),n=t.style;n.width=n.height="auto",n.left=n.top=-e*40+"px",n.visibility="hidden",n.position="fixed",n.overflow="visible",n.whiteSpace="nowrap",t.innerHTML=s.stringRepeat("Xy",e);if(this.element.ownerDocument.body)this.element.ownerDocument.body.appendChild(t);else{var r=this.element.parentNode;while(!i.hasCssClass(r,"ace_editor"))r=r.parentNode;r.appendChild(t)}}if(!this.element.offsetWidth)return null;var n=this.$measureNode.style,o=i.computedStyle(this.element);for(var u in this.$fontStyles)n[u]=o[u];var a={height:this.$measureNode.offsetHeight,width:this.$measureNode.offsetWidth/(e*2)};return a.width==0||a.height==0?null:a}:function(){if(!this.$measureNode){var e=this.$measureNode=i.createElement("div"),t=e.style;t.width=t.height="auto",t.left=t.top="-100px",t.visibility="hidden",t.position="fixed",t.overflow="visible",t.whiteSpace="nowrap",e.innerHTML="X";var n=this.element.parentNode;while(n&&!i.hasCssClass(n,"ace_editor"))n=n.parentNode;if(!n)return this.$measureNode=null;n.appendChild(e)}var r=this.$measureNode.getBoundingClientRect(),s={height:r.height,width:r.width};return s.width==0||s.height==0?null:s},this.setSession=function(e){this.session=e,this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(e){return this.showInvisibles==e?!1:(this.showInvisibles=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides==e?!1:(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;var t=this.$tabStrings=[0];for(var n=1;n<e+1;n++)this.showInvisibles?t.push("<span class='ace_invisible'>"+this.TAB_CHAR+s.stringRepeat(" ",n-1)+"</span>"):t.push(s.stringRepeat(" ",n));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var r="ace_indent-guide";if(this.showInvisibles){r+=" ace_invisible";var i=s.stringRepeat(this.SPACE_CHAR,this.tabSize),o=this.TAB_CHAR+s.stringRepeat(" ",this.tabSize-1)}else var i=s.stringRepeat(" ",this.tabSize),o=i;this.$tabStrings[" "]="<span class='"+r+"'>"+i+"</span>",this.$tabStrings["	"]="<span class='"+r+"'>"+o+"</span>"}},this.updateLines=function(e,t,n){(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)&&this.scrollLines(e),this.config=e;var r=Math.max(t,e.firstRow),s=Math.min(n,e.lastRow),o=this.element.childNodes,u=0;for(var a=e.firstRow;a<r;a++){var f=this.session.getFoldLine(a);if(f){if(f.containsRow(r)){r=f.start.row;break}a=f.end.row}u++}var a=r,f=this.session.getNextFoldLine(a),l=f?f.start.row:Infinity;for(;;){a>l&&(a=f.end.row+1,f=this.session.getNextFoldLine(a,f),l=f?f.start.row:Infinity);if(a>s)break;var c=o[u++];if(c){var h=[];this.$renderLine(h,a,!this.$useLineGroups(),a==l?f:!1),i.setInnerHtml(c,h.join(""))}a++}},this.scrollLines=function(e){var t=this.config;this.config=e;if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);var n=this.element;if(t.firstRow<e.firstRow)for(var r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);r>0;r--)n.removeChild(n.firstChild);if(t.lastRow>e.lastRow)for(var r=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);r>0;r--)n.removeChild(n.lastChild);if(e.firstRow<t.firstRow){var i=this.$renderLinesFragment(e,e.firstRow,t.firstRow-1);n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i)}if(e.lastRow>t.lastRow){var i=this.$renderLinesFragment(e,t.lastRow+1,e.lastRow);n.appendChild(i)}},this.$renderLinesFragment=function(e,t,n){var r=this.element.ownerDocument.createDocumentFragment(),s=t,o=this.session.getNextFoldLine(s),u=o?o.start.row:Infinity;for(;;){s>u&&(s=o.end.row+1,o=this.session.getNextFoldLine(s,o),u=o?o.start.row:Infinity);if(s>n)break;var a=i.createElement("div"),f=[];this.$renderLine(f,s,!1,s==u?o:!1),a.innerHTML=f.join("");if(this.$useLineGroups())a.className="ace_line_group",r.appendChild(a);else{var l=a.childNodes;while(l.length)r.appendChild(l[0])}s++}return r},this.update=function(e){this.config=e;var t=[],n=e.firstRow,r=e.lastRow,s=n,o=this.session.getNextFoldLine(s),u=o?o.start.row:Infinity;for(;;){s>u&&(s=o.end.row+1,o=this.session.getNextFoldLine(s,o),u=o?o.start.row:Infinity);if(s>r)break;this.$useLineGroups()&&t.push("<div class='ace_line_group'>"),this.$renderLine(t,s,!1,s==u?o:!1),this.$useLineGroups()&&t.push("</div>"),s++}this.element=i.setInnerHtml(this.element,t.join(""))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,n,r){var i=this,o=/\t|&|<|( +)|([\x00-\x1f\x80-\xa0\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g,u=function(e,n,r,o,u){if(n)return i.showInvisibles?"<span class='ace_invisible'>"+s.stringRepeat(i.SPACE_CHAR,e.length)+"</span>":s.stringRepeat(" ",e.length);if(e=="&")return"&#38;";if(e=="<")return"&#60;";if(e=="	"){var a=i.session.getScreenTabSize(t+o);return t+=a-1,i.$tabStrings[a]}if(e=="　"){var f=i.showInvisibles?"ace_cjk ace_invisible":"ace_cjk",l=i.showInvisibles?i.SPACE_CHAR:"";return t+=1,"<span class='"+f+"' style='width:"+i.config.characterWidth*2+"px'>"+l+"</span>"}return r?"<span class='ace_invisible ace_invalid'>"+i.SPACE_CHAR+"</span>":(t+=1,"<span class='ace_cjk' style='width:"+i.config.characterWidth*2+"px'>"+e+"</span>")},a=r.replace(o,u);if(!this.$textToken[n.type]){var f="ace_"+n.type.replace(/\./g," ace_"),l="";n.type=="fold"&&(l=" style='width:"+n.value.length*this.config.characterWidth+"px;' "),e.push("<span class='",f,"'",l,">",a,"</span>")}else e.push(a);return t+r.length},this.renderIndentGuide=function(e,t){var n=t.search(this.$indentGuideRe);return n<=0?t:t[0]==" "?(n-=n%this.tabSize,e.push(s.stringRepeat(this.$tabStrings[" "],n/this.tabSize)),t.substr(n)):t[0]=="	"?(e.push(s.stringRepeat(this.$tabStrings["	"],n)),t.substr(n)):t},this.$renderWrappedLine=function(e,t,n,r){var i=0,s=0,o=n[0],u=0;for(var a=0;a<t.length;a++){var f=t[a],l=f.value;if(a==0&&this.displayIndentGuides){i=l.length,l=this.renderIndentGuide(e,l);if(!l)continue;i-=l.length}if(i+l.length<o)u=this.$renderToken(e,u,f,l),i+=l.length;else{while(i+l.length>=o)u=this.$renderToken(e,u,f,l.substring(0,o-i)),l=l.substring(o-i),i=o,r||e.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),s++,u=0,o=n[s]||Number.MAX_VALUE;l.length!=0&&(i+=l.length,u=this.$renderToken(e,u,f,l))}}},this.$renderSimpleLine=function(e,t){var n=0,r=t[0],i=r.value;this.displayIndentGuides&&(i=this.renderIndentGuide(e,i)),i&&(n=this.$renderToken(e,n,r,i));for(var s=1;s<t.length;s++)r=t[s],i=r.value,n=this.$renderToken(e,n,r,i)},this.$renderLine=function(e,t,n,r){!r&&r!=0&&(r=this.session.getFoldLine(t));if(r)var i=this.$getFoldLineTokens(t,r);else var i=this.session.getTokens(t);n||e.push("<div class='ace_line' style='height:",this.config.lineHeight,"px'>");if(i.length){var s=this.session.getRowSplitData(t);s&&s.length?this.$renderWrappedLine(e,i,s,n):this.$renderSimpleLine(e,i)}this.showInvisibles&&(r&&(t=r.end.row),e.push("<span class='ace_invisible'>",t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),n||e.push("</div>")},this.$getFoldLineTokens=function(e,t){function i(e,t,n){var i=0,s=0;while(s+e[i].value.length<t){s+=e[i].value.length,i++;if(i==e.length)return}if(s!=t){var o=e[i].value.substring(t-s);o.length>n-t&&(o=o.substring(0,n-t)),r.push({type:e[i].type,value:o}),s=t+o.length,i+=1}while(s<n&&i<e.length){var o=e[i].value;o.length+s>n?r.push({type:e[i].type,value:o.substring(0,n-s)}):r.push(e[i]),s+=o.length,i+=1}}var n=this.session,r=[],s=n.getTokens(e);return t.walk(function(e,t,o,u,a){e!=null?r.push({type:"fold",value:e}):(a&&(s=n.getTokens(t)),s.length&&i(s,u,o))},t.end.row,this.session.getLine(t.end.row).length),r},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(a.prototype),t.Text=a}),define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(e,t,n){var r=e("../lib/dom"),i=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),r.addCssClass(this.element,"ace_hidden-cursors")};(function(){this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,e?r.addCssClass(this.element,"ace_smooth-blinking"):r.removeCssClass(this.element,"ace_smooth-blinking"),this.restartTimer())},this.addCursor=function(){var e=r.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,r.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,r.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&r.removeCssClass(this.element,"ace_smooth-blinking");for(var e=this.cursors.length;e--;)this.cursors[e].style.opacity="";if(!this.isBlinking||!this.blinkInterval||!this.isVisible)return;this.smoothBlinking&&setTimeout(function(){r.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var t=function(){this.timeoutId=setTimeout(function(){for(var e=this.cursors.length;e--;)this.cursors[e].style.opacity=0}.bind(this),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){for(var e=this.cursors.length;e--;)this.cursors[e].style.opacity="";t()}.bind(this),this.blinkInterval),t()},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e),r=this.$padding+n.column*this.config.characterWidth,i=(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:r,top:i}},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,r=0;if(t===undefined||t.length===0)t=[{cursor:null}];for(var n=t.length;n--;){var i=this.getPixelPosition(t[n].cursor,!0);if((i.top>e.height+e.offset||i.top<-e.offset)&&n>1)continue;var s=(this.cursors[r++]||this.addCursor()).style;s.left=i.left+"px",s.top=i.top+"px",s.width=e.characterWidth+"px",s.height=e.lineHeight+"px"}while(this.cursors.length>r)this.removeCursor();var o=this.session.getOverwrite();this.$setOverwrite(o),this.$pixelPos=i,this.restartTimer()},this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?r.addCssClass(this.element,"ace_overwrite-cursors"):r.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(i.prototype),t.Cursor=i}),define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(e,t,n){var r=e("./lib/oop"),i=e("./lib/dom"),s=e("./lib/event"),o=e("./lib/event_emitter").EventEmitter,u=function(e){this.element=i.createElement("div"),this.element.className="ace_scrollbar",this.inner=i.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),e.appendChild(this.element),this.width=i.scrollbarWidth(e.ownerDocument),this.element.style.width=(this.width||15)+5+"px",s.addListener(this.element,"scroll",this.onScroll.bind(this))};(function(){r.implement(this,o),this.onScroll=function(){this.skipEvent||(this.scrollTop=this.element.scrollTop,this._emit("scroll",{data:this.scrollTop})),this.skipEvent=!1},this.getWidth=function(){return this.width},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=function(e){this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=this.element.scrollTop=e)}}).call(u.prototype),t.ScrollBar=u}),define("ace/renderloop",["require","exports","module","ace/lib/event"],function(e,t,n){var r=e("./lib/event"),i=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.window=t||window};(function(){this.schedule=function(e){this.changes=this.changes|e;if(!this.pending){this.pending=!0;var t=this;r.nextFrame(function(){t.pending=!1;var e;while(e=t.changes)t.changes=0,t.onRender(e)},this.window)}}}).call(i.prototype),t.RenderLoop=i}),define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor"],function(e,t,n){function h(e,t,n){return c.$options.wrap=!0,c.$options.needle=t,c.$options.backwards=n==-1,c.find(e)}function v(e,t){return e.row==t.row&&e.column==t.column}function m(e){e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),t.onSessionChange.call(e,e),e.on("changeSession",t.onSessionChange.bind(e)),e.on("mousedown",o),e.commands.addCommands(f.defaultCommands),g(e)}function g(e){function i(){n&&(r.style.cursor="",n=!1)}var t=e.textInput.getElement(),n=!1,r=e.renderer.content;u.addListener(t,"keydown",function(e){e.keyCode==18&&!(e.ctrlKey||e.shiftKey||e.metaKey)?n||(r.style.cursor="crosshair",n=!0):n&&(r.style.cursor="")}),u.addListener(t,"keyup",i),u.addListener(t,"blur",i)}var r=e("./range_list").RangeList,i=e("./range").Range,s=e("./selection").Selection,o=e("./mouse/multi_select_handler").onMouseDown,u=e("./lib/event"),a=e("./lib/lang"),f=e("./commands/multi_select_commands");t.commands=f.defaultCommands.concat(f.multiSelectCommands);var l=e("./search").Search,c=new l,p=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(p.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(!e)return;if(!this.inMultiSelectMode&&this.rangeCount==0){var n=this.toOrientedRange();if(e.intersects(n))return t||this.fromOrientedRange(e);this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var r=this.rangeList.add(e);return this.$onAddRange(e),r.length&&this.$onRemoveRange(r),this.rangeCount>1&&!this.inMultiSelectMode&&(this._emit("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length?this.$onRemoveRange(e):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._emit("addRange",{range:e})},this.$onRemoveRange=function(e){this.rangeCount=this.rangeList.ranges.length;if(this.rangeCount==1&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var r=this.ranges.indexOf(e[n]);this.ranges.splice(r,1)}this._emit("removeRange",{ranges:e}),this.rangeCount==0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._emit("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),t=t||this.ranges[0],t&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){if(this.rangeList)return;this.rangeList=new r,this.ranges=[],this.rangeCount=0},this.getAllRanges=function(){return this.rangeList.ranges.concat()},this.splitIntoLines=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=i.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var n=this.getRange(),r=this.isBackwards(),s=n.start.row,o=n.end.row;if(s==o){if(r)var u=n.end,a=n.start;else var u=n.start,a=n.end;this.addRange(i.fromPoints(a,a)),this.addRange(i.fromPoints(u,u));return}var f=[],l=this.getLineRange(s,!0);l.start.column=n.start.column,f.push(l);for(var c=s+1;c<o;c++)f.push(this.getLineRange(c,!0));l=this.getLineRange(o,!0),l.end.column=n.end.column,f.push(l),f.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=i.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var r=this.session.documentToScreenPosition(this.selectionLead),s=this.session.documentToScreenPosition(this.selectionAnchor),o=this.rectangularRangeBlock(r,s);o.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var r=[],s=e.column<t.column;if(s)var o=e.column,u=t.column;else var o=t.column,u=e.column;var a=e.row<t.row;if(a)var f=e.row,l=t.row;else var f=t.row,l=e.row;o<0&&(o=0),f<0&&(f=0),f==l&&(n=!0);for(var c=f;c<=l;c++){var h=i.fromPoints(this.session.screenToDocumentPosition(c,o),this.session.screenToDocumentPosition(c,u));if(h.isEmpty()){if(p&&v(h.end,p))break;var p=h.end}h.cursor=s?h.start:h.end,r.push(h)}a&&r.reverse();if(!n){var d=r.length-1;while(r[d].isEmpty()&&d>0)d--;if(d>0){var m=0;while(r[m].isEmpty())m++}for(var g=d;g>=m;g--)r[g].isEmpty()&&r.splice(g,1)}return r}}.call(s.prototype);var d=e("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(!e.marker)return;this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);t!=-1&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length},this.removeSelectionMarkers=function(e){var t=this.session.$selectionMarkers;for(var n=e.length;n--;){var r=e[n];if(!r.marker)continue;this.session.removeMarker(r.marker);var i=t.indexOf(r);i!=-1&&t.splice(i,1)}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){if(this.inMultiSelectMode)return;this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(f.keyboardHandler),this.commands.on("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onSingleSelect=function(e){if(this.session.multiSelect.inVirtualMode)return;this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(f.keyboardHandler),this.commands.removeEventListener("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(!n.multiSelect)return;t.multiSelectAction?t.multiSelectAction=="forEach"?n.forEachSelection(t,e.args):t.multiSelectAction=="single"?(n.exitMultiSelectMode(),t.exec(n,e.args||{})):t.multiSelectAction(n,e.args||{}):(t.exec(n,e.args||{}),n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()),e.preventDefault()},this.forEachSelection=function(e,t){if(this.inVirtualSelectionMode)return;var n=this.session,r=this.selection,i=r.rangeList,o=r._eventRegistry;r._eventRegistry={};var u=new s(n);this.inVirtualSelectionMode=!0;for(var a=i.ranges.length;a--;)u.fromOrientedRange(i.ranges[a]),this.selection=n.selection=u,e.exec(this,t||{}),u.toOrientedRange(i.ranges[a]);u.detach(),this.selection=n.selection=r,this.inVirtualSelectionMode=!1,r._eventRegistry=o,r.mergeOverlappingRanges(),this.onCursorChange(),this.onSelectionChange()},this.exitMultiSelectMode=function(){if(this.inVirtualSelectionMode)return;this.multiSelect.toSingleRange()},this.getCopyText=function(){var e="";if(this.inMultiSelectMode){var t=this.multiSelect.rangeList.ranges;e=[];for(var n=0;n<t.length;n++)e.push(this.session.getTextRange(t[n]));e=e.join(this.session.getDocument().getNewLineCharacter())}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.onPaste=function(e){if(this.$readOnly)return;this._emit("paste",e);if(!this.inMultiSelectMode)return this.insert(e);var t=e.split(/\r\n|\r|\n/),n=this.selection.rangeList.ranges;if(t.length>n.length||t.length<=2||!t[1])return this.commands.exec("insertstring",this,e);for(var r=n.length;r--;){var i=n[r];i.isEmpty()||this.session.remove(i),this.session.insert(i.start,t[r])}},this.findAll=function(e,t,n){t=t||{},t.needle=e||t.needle,this.$search.set(t);var r=this.$search.findAll(this.session);if(!r.length)return 0;this.$blockScrolling+=1;var i=this.multiSelect;n||i.toSingleRange(r[0]);for(var s=r.length;s--;)i.addRange(r[s],!0);return this.$blockScrolling-=1,r.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),r=n.cursor==n.end,s=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(s.column=this.selection.$desiredColumn);var o=this.session.screenToDocumentPosition(s.row+e,s.column);if(!n.isEmpty())var u=this.session.documentToScreenPosition(r?n.end:n.start),a=this.session.screenToDocumentPosition(u.row+e,u.column);else var a=o;if(r){var f=i.fromPoints(o,a);f.cursor=f.start}else{var f=i.fromPoints(a,o);f.cursor=f.end}f.desiredColumn=s.column;if(!this.selection.inMultiSelectMode)this.selection.addRange(n);else if(t)var l=n.cursor;this.selection.addRange(f),l&&this.selection.substractPoint(l)},this.transposeSelections=function(e){var t=this.session,n=t.multiSelect,r=n.ranges;for(var i=r.length;i--;){var s=r[i];if(s.isEmpty()){var o=t.getWordRange(s.start.row,s.start.column);s.start.row=o.start.row,s.start.column=o.start.column,s.end.row=o.end.row,s.end.column=o.end.column}}n.mergeOverlappingRanges();var u=[];for(var i=r.length;i--;){var s=r[i];u.unshift(t.getTextRange(s))}e<0?u.unshift(u.pop()):u.push(u.shift());for(var i=r.length;i--;){var s=r[i],o=s.clone();t.replace(s,u[i]),s.start.row=o.start.row,s.start.column=o.start.column}},this.selectMore=function(e,t){var n=this.session,r=n.multiSelect,i=r.toOrientedRange();if(i.isEmpty()){var i=n.getWordRange(i.start.row,i.start.column);i.cursor=i.end,this.multiSelect.addRange(i)}var s=n.getTextRange(i),o=h(n,s,e);o&&(o.cursor=e==-1?o.start:o.end,this.multiSelect.addRange(o)),t&&this.multiSelect.substractPoint(i.cursor)},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges;if(!n.length){var r=this.selection.getRange(),s=r.start.row,o=r.end.row,u=this.session.doc.removeLines(s,o);u=this.$reAlignText(u),this.session.doc.insertLines(s,u),r.start.column=0,r.end.column=u[u.length-1].length,this.selection.setRange(r)}else{var f=-1,l=n.filter(function(e){if(e.cursor.row==f)return!0;f=e.cursor.row});t.$onRemoveRange(l);var c=0,h=Infinity,p=n.map(function(t){var n=t.cursor,r=e.getLine(n.row),i=r.substr(n.column).search(/\S/g);return i==-1&&(i=0),n.column>c&&(c=n.column),i<h&&(h=i),i});n.forEach(function(t,n){var r=t.cursor,s=c-r.column,o=p[n]-h;s>o?e.insert(r,a.stringRepeat(" ",s-o)):e.remove(new i(r.row,r.column,r.row,r.column-s+o)),t.start.column=t.end.column=c,t.start.row=t.end.row=r.row,t.cursor=t.end}),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(e){function o(e){return a.stringRepeat(" ",e)}function u(e){return e[2]?o(r)+e[2]+o(i-e[2].length+s)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function f(e){return e[2]?o(r+i-e[2].length)+e[2]+o(s," ")+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function l(e){return e[2]?o(r)+e[2]+o(s)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}var t=!0,n=!0,r,i,s;return e.map(function(e){var o=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return o?r==null?(r=o[1].length,i=o[2].length,s=o[3].length,o):(r+i+s!=o[1].length+o[2].length+o[3].length&&(n=!1),r!=o[1].length&&(t=!1),r>o[1].length&&(r=o[1].length),i<o[2].length&&(i=o[2].length),s>o[3].length&&(s=o[3].length),o):[e]}).map(t?n?f:u:l)}}).call(d.prototype),t.onSessionChange=function(e){var t=e.session;t.multiSelect||(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t.multiSelect;var n=e.oldSession;n&&(n.multiSelect&&n.multiSelect.editor==this&&(n.multiSelect.editor=null),t.multiSelect.removeEventListener("addRange",this.$onAddRange),t.multiSelect.removeEventListener("removeRange",this.$onRemoveRange),t.multiSelect.removeEventListener("multiSelect",this.$onMultiSelect),t.multiSelect.removeEventListener("singleSelect",this.$onSingleSelect)),t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=m}),define("ace/range_list",["require","exports","module"],function(e,t,n){var r=function(){this.ranges=[]};(function(){this.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},this.pointIndex=function(e,t){var n=this.ranges;for(var r=t||0;r<n.length;r++){var i=n[r],s=this.comparePoints(e,i.end);if(s>0)continue;return s==0?r:(s=this.comparePoints(e,i.start),s>=0?r:-r-1)}return-r-1},this.add=function(e){var t=this.pointIndex(e.start);t<0&&(t=-t-1);var n=this.pointIndex(e.end,t);return n<0?n=-n-1:n++,this.ranges.splice(t,n-t,e)},this.addList=function(e){var t=[];for(var n=e.length;n--;)t.push.call(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){var e=[],t=this.ranges,n=t[0],r;for(var i=1;i<t.length;i++){r=n,n=t[i];var s=this.comparePoints(r.end,n.start);if(s<0)continue;if(s==0&&!r.isEmpty()&&!n.isEmpty())continue;this.comparePoints(r.end,n.end)<0&&(r.end.row=n.end.row,r.end.column=n.end.column),t.splice(i,1),e.push(n),n=r,i--}return e},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var r=this.pointIndex({row:e,column:0});r<0&&(r=-r-1);var i=this.pointIndex({row:t,column:0},r);i<0&&(i=-i-1);var s=[];for(var o=r;o<i;o++)s.push(n[o]);return s},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){if(!this.session)return;this.session.removeListener("change",this.onChange),this.session=null},this.$onChange=function(e){var t=e.data.range;if(e.data.action[0]=="i")var n=t.start,r=t.end;else var r=t.start,n=t.end;var i=n.row,s=r.row,o=s-i,u=-n.column+r.column,a=this.ranges;for(var f=0,l=a.length;f<l;f++){var c=a[f];if(c.end.row<i)continue;if(c.start.row>i)break;c.start.row==i&&c.start.column>=n.column&&(c.start.column+=u,c.start.row+=o),c.end.row==i&&c.end.column>=n.column&&(c.end.column+=u,c.end.row+=o)}if(o!=0&&f<l)for(;f<l;f++){var c=a[f];c.start.row+=o,c.end.row+=o}}}).call(r.prototype),t.RangeList=r}),define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event"],function(e,t,n){function i(e,t){return e.row==t.row&&e.column==t.column}function s(e){var t=e.domEvent,n=t.altKey,s=t.shiftKey,o=e.getAccelKey(),u=e.getButton();if(e.editor.inMultiSelectMode&&u==2){e.editor.textInput.onContextMenu(e.domEvent);return}if(!o&&!n){u==0&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode();return}var a=e.editor,f=a.selection,l=a.inMultiSelectMode,c=e.getDocumentPosition(),h=f.getCursor(),p=e.inSelection()||f.isEmpty()&&i(c,h),d=e.x,v=e.y,m=function(e){d=e.clientX,v=e.clientY},g=function(){var e=a.renderer.pixelToScreenCoordinates(d,v),t=y.screenToDocumentPosition(e.row,e.column);if(i(w,e)&&i(t,f.selectionLead))return;w=e,a.selection.moveCursorToPosition(t),a.selection.clearSelection(),a.renderer.scrollCursorIntoView(),a.removeSelectionMarkers(x),x=f.rectangularRangeBlock(w,b),x.forEach(a.addSelectionMarker,a),a.updateSelectionMarkers()},y=a.session,b=a.renderer.pixelToScreenCoordinates(d,v),w=b;if(o&&!s&&!n&&u==0){if(!l&&p)return;if(!l){var E=f.toOrientedRange();a.addSelectionMarker(E)}var S=f.rangeList.rangeAtPoint(c);r.capture(a.container,function(){},function(){var e=f.toOrientedRange();S&&e.isEmpty()&&i(S.cursor,e.cursor)?f.substractPoint(e.cursor):(E&&(a.removeSelectionMarker(E),f.addRange(E)),f.addRange(e))})}else if(!s&&n&&u==0){e.stop(),l&&!o?f.toSingleRange():!l&&o&&f.addRange(),f.moveCursorToPosition(c),f.clearSelection();var x=[],T=function(e){clearInterval(C),a.removeSelectionMarkers(x);for(var t=0;t<x.length;t++)f.addRange(x[t])},N=g;r.capture(a.container,m,T);var C=setInterval(function(){N()},20);return e.preventDefault()}}var r=e("../lib/event");t.onMouseDown=s}),define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(e,t,n){t.defaultCommands=[{name:"addCursorAbove",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},readonly:!0},{name:"addCursorBelow",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},readonly:!0},{name:"addCursorAboveSkipCurrent",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},readonly:!0},{name:"addCursorBelowSkipCurrent",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},readonly:!0},{name:"selectMoreBefore",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},readonly:!0},{name:"selectMoreAfter",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},readonly:!0},{name:"selectNextBefore",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},readonly:!0},{name:"selectNextAfter",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},readonly:!0},{name:"splitIntoLines",exec:function(e){e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readonly:!0},{name:"alignCursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"}}],t.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},readonly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var r=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new r(t.multiSelectCommands)}),define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/config"],function(e,t,n){var r=e("../lib/oop"),i=e("../lib/event_emitter").EventEmitter,s=e("../config"),o=function(t,n,r){this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.onError=this.onError.bind(this);var i;if(s.get("packaged"))i=s.moduleUrl(n,"worker");else{var o=this.$normalizePath;typeof e.supports!="undefined"&&e.supports.indexOf("ucjs2-pinf-0")>=0?i=e.nameToUrl("ace/worker/worker_sourcemint"):(e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),i=o(e.toUrl("ace/worker/worker",null,"_")));var u={};t.forEach(function(t){u[t]=o(e.toUrl(t,null,"_").replace(/.js(\?.*)?$/,""))})}this.$worker=new Worker(i),this.$worker.postMessage({init:!0,tlns:u,module:n,classname:r}),this.callbackId=1,this.callbacks={},this.$worker.onerror=this.onError,this.$worker.onmessage=this.onMessage};(function(){r.implement(this,i),this.onError=function(e){throw window.console&&console.log&&console.log(e),e},this.onMessage=function(e){var t=e.data;switch(t.type){case"log":window.console&&console.log&&console.log.apply(console,t.data);break;case"event":this._emit(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id])}},this.$normalizePath=function(e){return location.host?(e=e.replace(/^[a-z]+:\/\/[^\/]+/,""),e=location.protocol+"//"+location.host+(e.charAt(0)=="/"?"":location.pathname.replace(/\/[^\/]*$/,""))+"/"+e.replace(/^[\/]+/,""),e):e},this.terminate=function(){this._emit("terminate",{}),this.$worker.terminate(),this.$worker=null,this.$doc.removeEventListener("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var r=this.callbackId++;this.callbacks[r]=n,t.push(r)}this.send(e,t)},this.emit=function(e,t){try{this.$worker.postMessage({event:e,data:{data:t.data}})}catch(n){}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){e.range={start:e.data.range.start,end:e.data.range.end},this.emit("change",e)}}).call(o.prototype);var u=function(t,n,r){this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var s=null,o=Object.create(i),u=this;this.$worker={},this.$worker.postMessage=function(e){u.messageBuffer.push(e),s&&setTimeout(a)};var a=function(){var e=u.messageBuffer.shift();e.command?s[e.command].apply(s,e.args):e.event&&o._emit(e.event,e.data)};o.postMessage=function(e){u.onMessage({data:e})},o.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},o.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},e([n],function(e){s=new e[r](o);while(u.messageBuffer.length)a()})};u.prototype=o.prototype,t.UIWorkerClient=u,t.WorkerClient=o}),define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(e,t,n){var r=e("./range").Range,i=e("./lib/event_emitter").EventEmitter,s=e("./lib/oop"),o=function(e,t,n,r,i,s){var o=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=i,this.othersClass=s,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=r,this.$onCursorChange=function(){setTimeout(function(){o.onCursorChange()})},this.$pos=n;var u=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=u.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){s.implement(this,i),this.setup=function(){var e=this,t=this.doc,n=this.session,i=this.$pos;this.pos=t.createAnchor(i.row,i.column),this.markerId=n.addMarker(new r(i.row,i.column,i.row,i.column+this.length),this.mainClass,null,!1),this.pos.on("change",function(t){n.removeMarker(e.markerId),e.markerId=n.addMarker(new r(t.value.row,t.value.column,t.value.row,t.value.column+e.length),e.mainClass,null,!1)}),this.others=[],this.$others.forEach(function(n){var r=t.createAnchor(n.row,n.column);e.others.push(r)}),n.setUndoSelect(!1)},this.showOtherMarkers=function(){if(this.othersActive)return;var e=this.session,t=this;this.othersActive=!0,this.others.forEach(function(n){n.markerId=e.addMarker(new r(n.row,n.column,n.row,n.column+t.length),t.othersClass,null,!1),n.on("change",function(i){e.removeMarker(n.markerId),n.markerId=e.addMarker(new r(i.value.row,i.value.column,i.value.row,i.value.column+t.length),t.othersClass,null,!1)})})},this.hideOtherMarkers=function(){if(!this.othersActive)return;this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)},this.onUpdate=function(e){var t=e.data,n=t.range;if(n.start.row!==n.end.row)return;if(n.start.row!==this.pos.row)return;if(this.$updating)return;this.$updating=!0;var i=t.action==="insertText"?n.end.column-n.start.column:n.start.column-n.end.column;if(n.start.column>=this.pos.column&&n.start.column<=this.pos.column+this.length+1){var s=n.start.column-this.pos.column;this.length+=i;if(!this.session.$fromUndo){if(t.action==="insertText")for(var o=this.others.length-1;o>=0;o--){var u=this.others[o],a={row:u.row,column:u.column+s};u.row===n.start.row&&n.start.column<u.column&&(a.column+=i),this.doc.insert(a,t.text)}else if(t.action==="removeText")for(var o=this.others.length-1;o>=0;o--){var u=this.others[o],a={row:u.row,column:u.column+s};u.row===n.start.row&&n.start.column<u.column&&(a.column+=i),this.doc.remove(new r(a.row,a.column,a.row,a.column-i))}n.start.column===this.pos.column&&t.action==="insertText"?setTimeout(function(){this.pos.setPosition(this.pos.row,this.pos.column-i);for(var e=0;e<this.others.length;e++){var t=this.others[e],r={row:t.row,column:t.column-i};t.row===n.start.row&&n.start.column<t.column&&(r.column+=i),t.setPosition(r.row,r.column)}}.bind(this),0):n.start.column===this.pos.column&&t.action==="removeText"&&setTimeout(function(){for(var e=0;e<this.others.length;e++){var t=this.others[e];t.row===n.start.row&&n.start.column<t.column&&t.setPosition(t.row,t.column-i)}}.bind(this),0)}this.pos._emit("change",{value:this.pos});for(var o=0;o<this.others.length;o++)this.others[o]._emit("change",{value:this.others[o]})}this.$updating=!1},this.onCursorChange=function(e){if(this.$updating)return;var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))},this.detach=function(){this.session.removeMarker(this.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.pos.detach();for(var e=0;e<this.others.length;e++)this.others[e].detach();this.session.setUndoSelect(!0)},this.cancel=function(){if(this.$undoStackDepth===-1)throw Error("Canceling placeholders only supported with undo manager attached to session.");var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth;for(var n=0;n<t;n++)e.undo(!0)}}).call(o.prototype),t.PlaceHolder=o}),define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(e,t,n){var r=e("../../range").Range,i=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);return this.foldingStartMarker.test(r)?"start":t=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(r)?"end":""},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,t,n){var i=/\S/,s=e.getLine(t),o=s.search(i);if(o==-1)return;var u=n||s.length,a=e.getLength(),f=t,l=t;while(++t<a){var c=e.getLine(t).search(i);if(c==-1)continue;if(c<=o)break;l=t}if(l>f){var h=e.getLine(l).length;return new r(f,u,l,h)}},this.openingBracketBlock=function(e,t,n,i,s){var o={row:n,column:i+1},u=e.$findClosingBracket(t,o,s);if(!u)return;var a=e.foldWidgets[u.row];return a==null&&(a=this.getFoldWidget(e,u.row)),a=="start"&&u.row>o.row&&(u.row--,u.column=e.getLine(u.row).length),r.fromPoints(o,u)},this.closingBracketBlock=function(e,t,n,i,s){var o={row:n,column:i},u=e.$findOpeningBracket(t,o);if(!u)return;return u.column++,o.column--,r.fromPoints(u,o)}}).call(i.prototype)}),function(){window.require(["ace/ace"],function(e){e&&e.config.init(),window.ace||(window.ace={});for(var t in e)e.hasOwnProperty(t)&&(ace[t]=e[t])})}(),define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/keyboard/hash_handler","ace/lib/keys"],function(e,t,n){var r=e("../lib/dom"),i=e("../lib/lang"),s=e("../lib/event"),o="/* ------------------------------------------------------------------------------------------* Editor Search Form* --------------------------------------------------------------------------------------- */.ace_search {background-color: #ddd;border: 1px solid #cbcbcb;border-top: 0 none;max-width: 297px;overflow: hidden;margin: 0;padding: 4px;padding-right: 6px;padding-bottom: 0;position: absolute;top: 0px;z-index: 99;}.ace_search.left {border-left: 0 none;border-radius: 0px 0px 5px 0px;left: 0;}.ace_search.right {border-radius: 0px 0px 0px 5px;border-right: 0 none;right: 0;}.ace_search_form, .ace_replace_form {border-radius: 3px;border: 1px solid #cbcbcb;float: left;margin-bottom: 4px;overflow: hidden;}.ace_search_field {background-color: white;border-right: 1px solid #cbcbcb;border: 0 none;-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;display: block;float: left;height: 22px;outline: 0;padding: 0 7px;width: 214px;margin: 0;}.ace_searchbtn,.ace_replacebtn {background: #fff;border: 0 none;border-left: 1px solid #dcdcdc;cursor: pointer;display: block;float: left;height: 22px;margin: 0;padding: 0;position: relative;}.ace_searchbtn:last-child,.ace_replacebtn:last-child {border-top-right-radius: 3px;border-bottom-right-radius: 3px;}.ace_searchbtn:disabled {background: none;cursor: default;}.ace_searchbtn {background-position: 50% 50%;background-repeat: no-repeat;width: 27px;}.ace_searchbtn.prev {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADFJREFUeNpiSU1NZUAC/6E0I0yACYskCpsJiySKIiY0SUZk40FyTEgCjGgKwTRAgAEAQJUIPCE+qfkAAAAASUVORK5CYII=);    }.ace_searchbtn.next {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADRJREFUeNpiTE1NZQCC/0DMyIAKwGJMUAYDEo3M/s+EpvM/mkKwCQxYjIeLMaELoLMBAgwAU7UJObTKsvAAAAAASUVORK5CYII=);    }.ace_searchbtn_close {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;border-radius: 50%;border: 0 none;color: #656565;cursor: pointer;display: block;float: right;font-family: Arial;font-size: 16px;height: 14px;line-height: 16px;margin: 5px 1px 9px 5px;padding: 0;text-align: center;width: 14px;}.ace_searchbtn_close:hover {background-color: #656565;background-position: 50% 100%;color: white;}.ace_replacebtn.prev {width: 54px}.ace_replacebtn.next {width: 27px}",u=e("../keyboard/hash_handler").HashHandler,a=e("../lib/keys");r.importCssString(o,"ace_searchbox");var f='<div class="ace_search right">    <button action="hide" class="ace_searchbtn_close"></button>    <div class="ace_search_form">        <input class="ace_search_field" placeholder="Search for" spellcheck="false">        <button action="findNext" class="ace_searchbtn next"></button>        <button action="findPrev" class="ace_searchbtn prev"></button>    </div>    <div class="ace_replace_form">        <input class="ace_search_field" placeholder="Replace with" spellcheck="false">        <button action="replace" class="ace_replacebtn">Replace</button>        <button action="replaceAll" class="ace_replacebtn">All</button>    </div></div>'.replace(/>\s+/g,">"),l=function(e,t,n){var i=r.createElement("div");i.innerHTML=f,this.element=i.firstChild,this.$init(),this.setEditor(e)};(function(){this.setEditor=function(e){e.searchBox=this,e.container.appendChild(this.element),this.editor=e},this.$init=function(){var e=this.element;this.searchBox=e.querySelector(".ace_search_form"),this.replaceBox=e.querySelector(".ace_replace_form"),this.searchInput=this.searchBox.querySelector(".ace_search_field"),this.replaceInput=this.replaceBox.querySelector(".ace_search_field");var t=this;s.addListener(e,"mousedown",function(e){setTimeout(function(){t.activeInput.focus()},0),s.stopPropagation(e)}),s.addListener(e,"click",function(e){var n=e.target,r=n.getAttribute("action");r&&t[r]&&t[r](),s.stopPropagation(e)}),s.addCommandKeyListener(e,function(e,n,r){var i=a.keyCodeToString(r),o=t.$searchBarKb.findKeyCommand(n,i);o&&o.exec&&(o.exec(t),s.stopEvent(e))}),this.$onChange=i.delayedCall(function(){t.find(!1,!1)}),s.addListener(this.searchInput,"input",function(){t.$onChange.schedule(20)}),s.addListener(this.searchInput,"focus",function(){t.activeInput=t.searchInput}),s.addListener(this.replaceInput,"focus",function(){t.activeInput=t.replaceInput})},this.$closeSearchBarKb=new u([{bindKey:"Esc",name:"closeSearchBar",exec:function(e){e.searchBox.hide()}}]),this.$searchBarKb=new u,this.$searchBarKb.bindKeys({"Ctrl-f|Command-f|Ctrl-H|Command-Option-F":function(e){var t=e.isReplace=!e.isReplace;e.replaceBox.style.display=t?"":"none",e[t?"replaceInput":"searchInput"].focus()},esc:function(e){setTimeout(function(){e.hide()})},Return:function(e){e.activeInput==e.replaceInput&&e.replace(),e.findNext()},"Shift-Return":function(e){e.activeInput==e.replaceInput&&e.replace(),e.findPrev()},Tab:function(e){(e.activeInput==e.replaceInput?e.searchInput:e.replaceInput).focus()}}),this.find=function(e,t){this.editor.find(this.searchInput.value,{skipCurrent:e,backwards:t,wrap:!0}),this.editor.session.highlight(this.editor.$search.$options.re)},this.findNext=function(){this.find(!0,!1)},this.findPrev=function(){this.find(!0,!0)},this.replace=function(){this.editor.replace(this.replaceInput.value),this.findNext()},this.replaceAll=function(){this.editor.replaceAll(this.replaceInput.value)},this.hide=function(){this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$searchKeybingin),this.editor.focus()},this.show=function(e,t){this.element.style.display="",this.replaceBox.style.display=t?"":"none",this.isReplace=t,e&&(this.searchInput.value=e),this.searchInput.focus(),this.searchInput.select(),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb)}}).call(l.prototype),t.SearchBox=l,t.Search=function(e,t){var n=e.searchBox||new l(e);n.show(e.session.getTextRange(),t)},t.ISearch=function(e,t){this.$changeListener=this.$changeListener.bind(this),this.startRange=e.selection.toOrientedRange(),this.options=t||{}},function(){this.setSession=function(e){this.session&&this.session.removeListener(this.$changeListener),this.session=e,this.session.addListener(this.$changeListener)},this.setSearchString=function(){},this.getValue=function(){return this.value==null&&(this.value=this.session.getValue()),this.value},this.$changeListener=function(){this.value=null},this.find=function(){},this.$edgeBefore=function(){this.cursor=this.startRange[this.options.backwards?"start":"end"]},this.$edgeAfter=function(){},this.next=function(e){}}.call(t.ISearch.prototype)}),define("ace/ext/static_highlight",["require","exports","module","ace/edit_session","ace/layer/text"],function(e,t,n){var r=e("../edit_session").EditSession,i=e("../layer/text").Text,s=".ace_editor {font-family: 'Monaco', 'Menlo', 'Droid Sans Mono', 'Courier New', monospace;font-size: 12px;}.ace_editor .ace_gutter { width: 25px !important;display: block;float: left;text-align: right; padding: 0 3px 0 0; margin-right: 3px;}.ace_line { clear: both; }*.ace_gutter-cell {-moz-user-select: -moz-none;-khtml-user-select: none;-webkit-user-select: none;user-select: none;}";t.render=function(e,t,n,o,u){o=parseInt(o||1,10);var a=new r("");a.setMode(t),a.setUseWorker(!1);var f=new i(document.createElement("div"));f.setSession(a),f.config={characterWidth:10,lineHeight:20},a.setValue(e);var l=[],c=a.getLength();for(var h=0;h<c;h++)l.push("<div class='ace_line'>"),u||l.push("<span class='ace_gutter ace_gutter-cell' unselectable='on'>"+(h+o)+"</span>"),f.$renderLine(l,h,!0,!1),l.push("</div>");var p="<div class=':cssClass'>        <div class='ace_editor ace_scroller ace_text-layer'>            :code        </div>    </div>".replace(/:cssClass/,n.cssClass).replace(/:code/,l.join(""));return f.destroy(),{css:s+n.cssText,html:p}}}),define("ace/ext/textarea",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/net","ace/ace","ace/theme/textmate","ace/mode/text"],function(e,t,n){function a(e,t){for(var n in t)e.style[n]=t[n]}function f(e,t){if(e.type!="textarea")throw"Textarea required!";var n=e.parentNode,i=document.createElement("div"),s=function(){var t="position:relative;";["margin-top","margin-left","margin-right","margin-bottom"].forEach(function(n){t+=n+":"+u(e,i,n)+";"});var n=u(e,i,"width")||e.clientWidth+"px",r=u(e,i,"height")||e.clientHeight+"px";t+="height:"+r+";width:"+n+";",t+="display:inline-block;",i.setAttribute("style",t)};r.addListener(window,"resize",s),s(),e.nextSibling?n.insertBefore(i,e.nextSibling):n.appendChild(i);while(n!==document){if(n.tagName.toUpperCase()==="FORM"){var o=n.onsubmit;n.onsubmit=function(n){e.innerHTML=t(),e.value=t(),o&&o.call(this,n)};break}n=n.parentNode}return i}function l(t,n,r){s.loadScript(t,function(){e([n],r)})}function c(n,r,i,s,o,u){function c(e){return e=="true"}var a=n.getSession(),f=n.renderer;u=u||l,n.setDisplaySettings=function(e){e==null&&(e=i.style.display=="none"),i.style.display=e?"block":"none"},n.setOption=function(t,i){if(o[t]==i)return;switch(t){case"gutter":f.setShowGutter(c(i));break;case"mode":i!="text"?u("mode-"+i+".js","ace/mode/"+i,function(){var t=e("../mode/"+i).Mode;a.setMode(new t)}):a.setMode(new(e("../mode/text").Mode));break;case"theme":i!="textmate"?u("theme-"+i+".js","ace/theme/"+i,function(){n.setTheme("ace/theme/"+i)}):n.setTheme("ace/theme/textmate");break;case"fontSize":r.style.fontSize=i;break;case"keybindings":switch(i){case"vim":n.setKeyboardHandler("ace/keyboard/vim");break;case"emacs":n.setKeyboardHandler("ace/keyboard/emacs");break;default:n.setKeyboardHandler(null)}break;case"softWrap":switch(i){case"off":a.setUseWrapMode(!1),f.setPrintMarginColumn(80);break;case"40":a.setUseWrapMode(!0),a.setWrapLimitRange(40,40),f.setPrintMarginColumn(40);break;case"80":a.setUseWrapMode(!0),a.setWrapLimitRange(80,80),f.setPrintMarginColumn(80);break;case"free":a.setUseWrapMode(!0),a.setWrapLimitRange(null,null),f.setPrintMarginColumn(80)}break;case"useSoftTabs":a.setUseSoftTabs(c(i));break;case"showPrintMargin":f.setShowPrintMargin(c(i));break;case"showInvisibles":n.setShowInvisibles(c(i))}o[t]=i},n.getOption=function(e){return o[e]},n.getOptions=function(){return o};for(var h in t.options)n.setOption(h,t.options[h]);return n}function h(e,t,n,i){function f(e,t,n,r){e.push("<select title='"+t+"'>");for(var i in n)e.push("<option value='"+i+"' "),r==i&&e.push(" selected "),e.push(">",n[i],"</option>");e.push("</select>")}var s={"true":!0,"false":!1},o={mode:"Mode:",gutter:"Display Gutter:",theme:"Theme:",fontSize:"Font Size:",softWrap:"Soft Wrap:",keybindings:"Keyboard",showPrintMargin:"Show Print Margin:",useSoftTabs:"Use Soft Tabs:",showInvisibles:"Show Invisibles"},u={mode:{text:"Plain",javascript:"JavaScript",xml:"XML",html:"HTML",css:"CSS",scss:"SCSS",python:"Python",php:"PHP",java:"Java",ruby:"Ruby",c_cpp:"C/C++",coffee:"CoffeeScript",json:"json",perl:"Perl",clojure:"Clojure",ocaml:"OCaml",csharp:"C#",haxe:"haXe",svg:"SVG",textile:"Textile",groovy:"Groovy",liquid:"Liquid",Scala:"Scala"},theme:{clouds:"Clouds",clouds_midnight:"Clouds Midnight",cobalt:"Cobalt",crimson_editor:"Crimson Editor",dawn:"Dawn",eclipse:"Eclipse",idle_fingers:"Idle Fingers",kr_theme:"Kr Theme",merbivore:"Merbivore",merbivore_soft:"Merbivore Soft",mono_industrial:"Mono Industrial",monokai:"Monokai",pastel_on_dark:"Pastel On Dark",solarized_dark:"Solarized Dark",solarized_light:"Solarized Light",textmate:"Textmate",twilight:"Twilight",vibrant_ink:"Vibrant Ink"},gutter:s,fontSize:{"10px":"10px","11px":"11px","12px":"12px","14px":"14px","16px":"16px"},softWrap:{off:"Off",40:"40",80:"80",free:"Free"},keybindings:{ace:"ace",vim:"vim",emacs:"emacs"},showPrintMargin:s,useSoftTabs:s,showInvisibles:s},a=[];a.push("<table><tr><th>Setting</th><th>Value</th></tr>");for(var l in i)a.push("<tr><td>",o[l],"</td>"),a.push("<td>"),f(a,l,u[l],i[l]),a.push("</td></tr>");a.push("</table>"),e.innerHTML=a.join("");var c=e.getElementsByTagName("select");for(var h=0;h<c.length;h++){var p=function(){var e=c[h];return function(){var t=e.title,r=e.value;n.setOption(t,r)}}();c[h].onchange=p}var d=document.createElement("input");d.type="button",d.value="Hide",r.addListener(d,"click",function(){n.setDisplaySettings(!1)}),e.appendChild(d)}var r=e("../lib/event"),i=e("../lib/useragent"),s=e("../lib/net"),o=e("../ace");e("../theme/textmate"),n.exports=t=o;var u=function(e,t,n){var r=e.style[n];r||(window.getComputedStyle?r=window.getComputedStyle(e,"").getPropertyValue(n):r=e.currentStyle[n]);if(!r||r=="auto"||r=="intrinsic")r=t.style[n];return r};t.transformTextarea=function(e,t){var n,s=f(e,function(){return n.getValue()});e.style.display="none",s.style.background="white";var u=document.createElement("div");a(u,{top:"0px",left:"0px",right:"0px",bottom:"0px",border:"1px solid gray"}),s.appendChild(u);var l=document.createElement("div");a(l,{position:"absolute",right:"0px",bottom:"0px",background:"red",cursor:"nw-resize",borderStyle:"solid",borderWidth:"9px 8px 10px 9px",width:"2px",borderColor:"lightblue gray gray lightblue",zIndex:101});var p=document.createElement("div"),d={top:"0px",left:"0px",right:"0px",bottom:"0px",position:"absolute",padding:"5px",zIndex:100,color:"white",display:"none",overflow:"auto",fontSize:"14px"};i.isOldIE?d.backgroundColor="#333":d.backgroundColor="rgba(0, 0, 0, 0.6)",a(p,d),s.appendChild(p);var v={},m=o.edit(u);n=m.getSession(),n.setValue(e.value||e.innerHTML),m.focus(),u.appendChild(l),c(m,u,p,o,v,t),h(p,l,m,v);var g="";return r.addListener(l,"mousemove",function(e){var t=this.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;n+r<(t.width+t.height)/2?(this.style.cursor="pointer",g="toggle"):(g="resize",this.style.cursor="nw-resize")}),r.addListener(l,"mousedown",function(e){if(g=="toggle"){m.setDisplaySettings();return}s.style.zIndex=1e5;var t=s.getBoundingClientRect(),n=t.width+t.left-e.clientX,i=t.height+t.top-e.clientY;r.capture(l,function(e){s.style.width=e.clientX-t.left+n+"px",s.style.height=e.clientY-t.top+i+"px",m.resize()},function(){})}),m},t.options={mode:"text",theme:"textmate",gutter:"false",fontSize:"12px",softWrap:"off",keybindings:"ace",showPrintMargin:"false",useSoftTabs:"true",showInvisibles:"true"}}),define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(e,t,n){t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm .ace_scroller {background-color: #FFFFFF;}.ace-tm .ace_cursor {border-left: 2px solid black;}.ace-tm .ace_overwrite-cursors .ace_cursor {border-left: 0px;border-bottom: 1px solid black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_markup.ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_markup.ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;border-radius: 2px;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';var r=e("../lib/dom");r.importCssString(t.cssText,t.cssClass)}),define("ace/keyboard/emacs",["require","exports","module","ace/lib/dom","ace/keyboard/hash_handler","ace/lib/keys"],function(e,t,n){var r=e("../lib/dom"),i=function(e,t){var n=this.scroller.getBoundingClientRect(),r=Math.floor((e+this.scrollLeft-n.left-this.$padding)/this.characterWidth),i=Math.floor((t+this.scrollTop-n.top)/this.lineHeight);return this.session.screenToDocumentPosition(i,r)},s=e("./hash_handler").HashHandler;t.handler=new s;var o=!1;t.handler.attach=function(e){o||(o=!0,r.importCssString("            .emacs-mode .ace_cursor{                border: 2px rgba(50,250,50,0.8) solid!important;                -moz-box-sizing: border-box!important;                -webkit-box-sizing: border-box!important;                box-sizing: border-box!important;                background-color: rgba(0,250,0,0.9);                opacity: 0.5;            }            .emacs-mode .ace_cursor.ace_hidden{                opacity: 1;                background-color: transparent;            }            .emacs-mode .ace_overwrite-cursors .ace_cursor {                opacity: 1;                background-color: transparent;                border-width: 0 0 2px 2px !important;            }            .emacs-mode .ace_text-layer {                z-index: 4            }            .emacs-mode .ace_cursor-layer {                z-index: 2            }","emacsMode")),e.renderer.screenToTextCoordinates=i,e.setStyle("emacs-mode")},t.handler.detach=function(e){delete e.renderer.screenToTextCoordinates,e.unsetStyle("emacs-mode")};var u=e("../lib/keys").KEY_MODS,a={C:"ctrl",S:"shift",M:"alt"};["S-C-M","S-C","S-M","C-M","S","C","M"].forEach(function(e){var t=0;e.split("-").forEach(function(e){t|=u[a[e]]}),a[t]=e.toLowerCase()+"-"}),t.handler.bindKey=function(e,t){if(!e)return;var n=this.commmandKeyBinding;e.split("|").forEach(function(e){e=e.toLowerCase(),n[e]=t,e=e.split(" ")[0],n[e]||(n[e]="null")},this)},t.handler.handleKeyboard=function(e,t,n,r){if(t==-1&&e.count){var i=Array(e.count+1).join(n);return e.count=null,{command:"insertstring",args:i}}if(n=="\0")return;var s=a[t];if(s=="c-"||e.universalArgument){var o=parseInt(n[n.length-1]);if(o)return e.count=o,{command:"null"}}e.universalArgument=!1,s&&(n=s+n),e.keyChain&&(n=e.keyChain+=" "+n);var u=this.commmandKeyBinding[n];e.keyChain=u=="null"?n:"";if(!u)return;if(u=="null")return{command:"null"};if(u=="universalArgument")return e.universalArgument=!0,{command:"null"};if(typeof u!="string"){var f=u.args;u=u.command}typeof u=="string"&&(u=this.commands[u]||e.editor.commands.commands[u]),!u.readonly&&!u.isYank&&(e.lastCommand=null);if(e.count){var o=e.count;return e.count=0,{args:f,command:{exec:function(e,t){for(var n=0;n<o;n++)u.exec(e,t)}}}}return{command:u,args:f}},t.emacsKeys={"Up|C-p":"golineup","Down|C-n":"golinedown","Left|C-b":"gotoleft","Right|C-f":"gotoright","C-Left|M-b":"gotowordleft","C-Right|M-f":"gotowordright","Home|C-a":"gotolinestart","End|C-e":"gotolineend","C-Home|S-M-,":"gotostart","C-End|S-M-.":"gotoend","S-Up|S-C-p":"selectup","S-Down|S-C-n":"selectdown","S-Left|S-C-b":"selectleft","S-Right|S-C-f":"selectright","S-C-Left|S-M-b":"selectwordleft","S-C-Right|S-M-f":"selectwordright","S-Home|S-C-a":"selecttolinestart","S-End|S-C-e":"selecttolineend","S-C-Home":"selecttostart","S-C-End":"selecttoend","C-l":"recenterTopBottom","M-s":"centerselection","M-g":"gotoline","C-x C-p":"selectall","C-Down":"gotopagedown","C-Up":"gotopageup","PageDown|C-v":"gotopagedown","PageUp|M-v":"gotopageup","S-C-Down":"selectpagedown","S-C-Up":"selectpageup","C-s":"findnext","C-r":"findprevious","M-C-s":"findnext","M-C-r":"findprevious","S-M-5":"replace",Backspace:"backspace","Delete|C-d":"del","Return|C-m":{command:"insertstring",args:"\n"},"C-o":"splitline","M-d|C-Delete":{command:"killWord",args:"right"},"C-Backspace|M-Backspace|M-Delete":{command:"killWord",args:"left"},"C-k":"killLine","C-y|S-Delete":"yank","M-y":"yankRotate","C-g":"keyboardQuit","C-w":"killRegion","M-w":"killRingSave","C-Space":"setMark","C-x C-x":"exchangePointAndMark","C-t":"transposeletters","M-u":"touppercase","M-l":"tolowercase","M-/":"autocomplete","C-u":"universalArgument","M-;":"togglecomment","C-/|C-x u|S-C--|C-z":"undo","S-C-/|S-C-x u|C--|S-C-z":"redo","C-x r":"selectRectangularRegion"},t.handler.bindKeys(t.emacsKeys),t.handler.addCommands({recenterTopBottom:function(e){var t=e.renderer,n=t.$cursorLayer.getPixelPosition(),r=t.$size.scrollerHeight-t.lineHeight,i=t.scrollTop;Math.abs(n.top-i)<2?i=n.top-r:Math.abs(n.top-i-r*.5)<2?i=n.top:i=n.top-r*.5,e.session.setScrollTop(i)},selectRectangularRegion:function(e){e.multiSelect.toggleBlockSelection()},setMark:function(){},exchangePointAndMark:{exec:function(e){var t=e.selection.getRange();e.selection.setSelectionRange(t,!e.selection.isBackwards())},readonly:!0,multiselectAction:"forEach"},killWord:{exec:function(e,n){e.clearSelection(),n=="left"?e.selection.selectWordLeft():e.selection.selectWordRight();var r=e.getSelectionRange(),i=e.session.getTextRange(r);t.killRing.add(i),e.session.remove(r),e.clearSelection()},multiselectAction:"forEach"},killLine:function(e){e.selection.selectLine();var n=e.getSelectionRange(),r=e.session.getTextRange(n);t.killRing.add(r),e.session.remove(n),e.clearSelection()},yank:function(e){e.onPaste(t.killRing.get()),e.keyBinding.$data.lastCommand="yank"},yankRotate:function(e){if(e.keyBinding.$data.lastCommand!="yank")return;e.undo(),e.onPaste(t.killRing.rotate()),e.keyBinding.$data.lastCommand="yank"},killRegion:function(e){t.killRing.add(e.getCopyText()),e.commands.byName.cut.exec(e)},killRingSave:function(e){t.killRing.add(e.getCopyText())}});var f=t.handler.commands;f.yank.isYank=!0,f.yankRotate.isYank=!0,t.killRing={$data:[],add:function(e){e&&this.$data.push(e),this.$data.length>30&&this.$data.shift()},get:function(){return this.$data[this.$data.length-1]||""},pop:function(){return this.$data.length>1&&this.$data.pop(),this.get()},rotate:function(){return this.$data.unshift(this.$data.pop()),this.get()}}}),define("ace/keyboard/vim",["require","exports","module","ace/keyboard/vim/commands","ace/keyboard/vim/maps/util","ace/lib/useragent"],function(e,t,n){var r=e("./vim/commands"),i=r.coreCommands,s=e("./vim/maps/util"),o=e("../lib/useragent"),u={i:{command:i.start},I:{command:i.startBeginning},a:{command:i.append},A:{command:i.appendEnd},"ctrl-f":{command:"gotopagedown"},"ctrl-b":{command:"gotopageup"}};t.handler={handleMacRepeat:function(e,t,n){if(t==-1)e.inputChar=n,e.lastEvent="input";else if(e.inputChar&&e.$lastHash==t&&e.$lastKey==n){if(e.lastEvent=="input")e.lastEvent="input1";else if(e.lastEvent=="input1")return!0}else e.$lastHash=t,e.$lastKey=n,e.lastEvent="keypress"},handleKeyboard:function(e,t,n,s,a){if(t!=0&&(n==""||n=="\0"))return null;t==1&&(n="ctrl-"+n);if(n=="esc"&&t==0||n=="ctrl-[")return{command:i.stop};if(e.state=="start"){o.isMac&&this.handleMacRepeat(e,t,n)&&(t=-1,n=e.inputChar);if(t==-1||t==1||t==0&&n.length>1)return r.inputBuffer.idle&&u[n]?u[n]:{command:{exec:function(e){return r.inputBuffer.push(e,n)}}};if(n.length==1&&(t==0||t==4))return{command:"null",passEvent:!0};if(n=="esc"&&t==0)return{command:i.stop}}else if(n=="ctrl-w")return{command:"removewordleft"}},attach:function(e){e.on("click",t.onCursorMove),s.currentMode!=="insert"&&r.coreCommands.stop.exec(e),e.$vimModeHandler=this},detach:function(e){e.removeListener("click",t.onCursorMove),s.noMode(e),s.currentMode="normal"},actions:r.actions,getStatusText:function(){return s.currentMode=="insert"?"INSERT":s.onVisualMode?(s.onVisualLineMode?"VISUAL LINE ":"VISUAL ")+r.inputBuffer.status:r.inputBuffer.status}},t.onCursorMove=function(e){r.onCursorMove(e.editor,e),t.onCursorMove.scheduled=!1}}),define("ace/keyboard/vim/commands",["require","exports","module","ace/keyboard/vim/maps/util","ace/keyboard/vim/maps/motions","ace/keyboard/vim/maps/operators","ace/keyboard/vim/maps/aliases","ace/keyboard/vim/registers"],function(e,t,n){"never use strict";function g(e){m.previous={action:{action:{fn:e}}}}var r=e("./maps/util"),i=e("./maps/motions"),s=e("./maps/operators"),o=e("./maps/aliases"),u=e("./registers"),a=1,f=2,l=3,c=4,h=8,p=function(t,n,r){while(0<n--)t.apply(this,r)},d=function(e){var t=e.renderer,n=t.$cursorLayer.getPixelPosition(),r=n.top,i=h*t.layerConfig.lineHeight;2*i>t.$size.scrollerHeight&&(i=t.$size.scrollerHeight/2),t.scrollTop>r-i&&t.session.setScrollTop(r-i),t.scrollTop+t.$size.scrollerHeight<r+i+t.lineHeight&&t.session.setScrollTop(r+i+t.lineHeight-t.$size.scrollerHeight)},v=t.actions={z:{param:!0,fn:function(e,t,n,r){switch(r){case"z":e.renderer.alignCursor(null,.5);break;case"t":e.renderer.alignCursor(null,0);break;case"b":e.renderer.alignCursor(null,1)}}},r:{param:!0,fn:function(e,t,n,r){r&&r.length&&(p(function(){e.insert(r)},n||1),e.navigateLeft())}},R:{fn:function(e,t,n,i){r.insertMode(e),e.setOverwrite(!0)}},"~":{fn:function(e,t,n){p(function(){var t=e.selection.getRange();t.isEmpty()&&t.end.column++;var n=e.session.getTextRange(t),r=n.toUpperCase();r==n?e.navigateRight():e.session.replace(t,r)},n||1)}},"*":{fn:function(e,t,n,r){e.selection.selectWord(),e.findNext(),d(e);var i=e.selection.getRange();e.selection.setSelectionRange(i,!0)}},"#":{fn:function(e,t,n,r){e.selection.selectWord(),e.findPrevious(),d(e);var i=e.selection.getRange();e.selection.setSelectionRange(i,!0)}},m:{param:!0,fn:function(e,t,n,r){var i=e.session,s=i.vimMarkers||(i.vimMarkers={}),o=e.getCursorPosition();s[r]||(s[r]=e.session.doc.createAnchor(o)),s[r].setPosition(o.row,o.column,!0)}},n:{fn:function(e,t,n,r){var i=e.getLastSearchOptions();i.backwards=!1,e.selection.moveCursorRight(),e.selection.clearSelection(),e.findNext(i),d(e);var s=e.selection.getRange();s.end.row=s.start.row,s.end.column=s.start.column,e.selection.setSelectionRange(s,!0)}},N:{fn:function(e,t,n,r){var i=e.getLastSearchOptions();i.backwards=!0,e.findPrevious(i),d(e);var s=e.selection.getRange();s.end.row=s.start.row,s.end.column=s.start.column,e.selection.setSelectionRange(s,!0)}},v:{fn:function(e,t,n,i){e.selection.selectRight(),r.visualMode(e,!1)},acceptsMotion:!0},V:{fn:function(e,t,n,i){var s=e.getCursorPosition().row;e.selection.clearSelection(),e.selection.moveCursorTo(s,0),e.selection.selectLineEnd(),e.selection.visualLineStart=s,r.visualMode(e,!0)},acceptsMotion:!0},Y:{fn:function(e,t,n,i){r.copyLine(e)}},p:{fn:function(e,t,n,r){var i=u._default;e.setOverwrite(!1);if(i.isLine){var s=e.getCursorPosition(),o=i.text.split("\n");e.session.getDocument().insertLines(s.row+1,o),e.moveCursorTo(s.row+1,0)}else e.navigateRight(),e.insert(i.text),e.navigateLeft();e.setOverwrite(!0),e.selection.clearSelection()}},P:{fn:function(e,t,n,r){var i=u._default;e.setOverwrite(!1);if(i.isLine){var s=e.getCursorPosition(),o=i.text.split("\n");e.session.getDocument().insertLines(s.row,o),e.moveCursorTo(s.row,0)}else e.insert(i.text);e.setOverwrite(!0),e.selection.clearSelection()}},J:{fn:function(e,t,n,r){var i=e.session;t=e.getSelectionRange();var s={row:t.start.row,column:t.start.column};n=n||t.end.row-t.start.row;var o=Math.min(s.row+(n||1),i.getLength()-1);t.start.column=i.getLine(s.row).length,t.end.column=i.getLine(o).length,t.end.row=o;var u="";for(var a=s.row;a<o;a++){var f=i.getLine(a+1);u+=" "+/^\s*(.*)$/.exec(f)[1]||""}i.replace(t,u),e.moveCursorTo(s.row,s.column)}},u:{fn:function(e,t,n,r){n=parseInt(n||1,10);for(var i=0;i<n;i++)e.undo();e.selection.clearSelection()}},"ctrl-r":{fn:function(e,t,n,r){n=parseInt(n||1,10);for(var i=0;i<n;i++)e.redo();e.selection.clearSelection()}},":":{fn:function(e,t,n,r){}},"/":{fn:function(e,t,n,r){}},"?":{fn:function(e,t,n,r){}},".":{fn:function(e,t,n,i){r.onInsertReplaySequence=m.lastInsertCommands;var s=m.previous;s&&m.exec(e,s.action,s.param)}},"ctrl-x":{fn:function(e,t,n,r){e.modifyNumber(-(n||1))}},"ctrl-a":{fn:function(e,t,n,r){e.modifyNumber(n||1)}}},m=t.inputBuffer={accepting:[a,f,l,c],currentCmd:null,currentCount:"",status:"",operator:null,motion:null,lastInsertCommands:[],push:function(e,t,n){var r=!0;this.idle=!1;var u=this.waitingForParam;if(u)this.exec(e,u,t);else if(t==="0"&&!this.currentCount.length||!t.match(/^\d+$/)||!this.isAccepting(a))if(!this.operator&&this.isAccepting(f)&&s[t])this.operator={ch:t,count:this.getCount()},this.currentCmd=f,this.accepting=[a,l,c],this.exec(e,{operator:this.operator});else if(i[t]&&this.isAccepting(l)){this.currentCmd=l;var h={operator:this.operator,motion:{ch:t,count:this.getCount()}};i[t].param?this.waitForParam(h):this.exec(e,h)}else if(o[t]&&this.isAccepting(l))o[t].operator.count=this.getCount(),this.exec(e,o[t]);else if(v[t]&&this.isAccepting(c)){var p={action:{fn:v[t].fn,count:this.getCount()}};v[t].param?this.waitForParam(p):this.exec(e,p),v[t].acceptsMotion&&(this.idle=!1)}else this.operator?this.exec(e,{operator:this.operator},t):(r=t.length==1,this.reset());else this.currentCount+=t,this.currentCmd=a,this.accepting=[a,f,l,c];if(this.waitingForParam||this.motion||this.operator)this.status+=t;else if(this.currentCount)this.status=this.currentCount;else{if(!this.status)return r;this.status=""}return e._emit("changeStatus"),r},waitForParam:function(e){this.waitingForParam=e},getCount:function(){var e=this.currentCount;return this.currentCount="",e&&parseInt(e,10)},exec:function(e,t,n){var o=t.motion,u=t.operator,a=t.action;n||(n=t.param),u&&(this.previous={action:t,param:n});if(u&&!e.selection.isEmpty()){s[u.ch].selFn&&(s[u.ch].selFn(e,e.getSelectionRange(),u.count,n),this.reset());return}if(!o&&!a&&u&&n)s[u.ch].fn(e,null,u.count,n),this.reset();else if(o){var f=function(t){t&&typeof t=="function"&&(o.count&&!l.handlesCount?p(t,o.count,[e,null,o.count,n]):t(e,null,o.count,n))},l=i[o.ch],c=l.sel;u?c&&p(function(){f(l.sel),s[u.ch].fn(e,e.getSelectionRange(),u.count,n)},u.count||1):(r.onVisualMode||r.onVisualLineMode)&&c?f(l.sel):f(l.nav),this.reset()}else a&&(a.fn(e,e.getSelectionRange(),a.count,n),this.reset());y(e)},isAccepting:function(e){return this.accepting.indexOf(e)!==-1},reset:function(){this.operator=null,this.motion=null,this.currentCount="",this.status="",this.accepting=[a,f,l,c],this.idle=!0,this.waitingForParam=null}};t.coreCommands={start:{exec:function b(e){r.insertMode(e),g(b)}},startBeginning:{exec:function w(e){e.navigateLineStart(),r.insertMode(e),g(w)}},stop:{exec:function(t){m.reset(),r.onVisualMode=!1,r.onVisualLineMode=!1,m.lastInsertCommands=r.normalMode(t)}},append:{exec:function E(e){var t=e.getCursorPosition(),n=e.session.getLine(t.row).length;n&&e.navigateRight(),r.insertMode(e),g(E)}},appendEnd:{exec:function S(e){e.navigateLineEnd(),r.insertMode(e),g(S)}}};var y=t.onCursorMove=function(e,t){if(r.currentMode==="insert"||y.running)return;if(!e.selection.isEmpty()){y.running=!0;if(r.onVisualLineMode){var n=e.selection.visualLineStart,i=e.getCursorPosition().row;if(n<=i){var s=e.session.getLine(i);e.selection.clearSelection(),e.selection.moveCursorTo(n,0),e.selection.selectTo(i,s.length)}else{var s=e.session.getLine(n);e.selection.clearSelection(),e.selection.moveCursorTo(n,s.length),e.selection.selectTo(i,0)}}y.running=!1;return}t&&(r.onVisualLineMode||r.onVisualMode)&&(e.selection.clearSelection(),r.normalMode(e)),y.running=!0;var o=e.getCursorPosition(),u=e.session.getLine(o.row).length;u&&o.column===u&&e.navigateLeft(),y.running=!1}}),define("ace/keyboard/vim/maps/util",["require","exports","module","ace/keyboard/vim/registers","ace/lib/dom"],function(e,t,n){var r=e("../registers"),i=e("../../../lib/dom");i.importCssString(".insert-mode .ace_cursor{    border-left: 2px solid #333333;}.ace_dark.insert-mode .ace_cursor{    border-left: 2px solid #eeeeee;}.normal-mode .ace_cursor{    border: 0!important;    background-color: red;    opacity: 0.5;}","vimMode"),n.exports={onVisualMode:!1,onVisualLineMode:!1,currentMode:"normal",noMode:function(e){e.unsetStyle("insert-mode"),e.unsetStyle("normal-mode"),e.commands.recording&&e.commands.toggleRecording(e),e.setOverwrite(!1)},insertMode:function(e){this.currentMode="insert",e.setStyle("insert-mode"),e.unsetStyle("normal-mode"),e.setOverwrite(!1),e.keyBinding.$data.buffer="",e.keyBinding.$data.state="insertMode",this.onVisualMode=!1,this.onVisualLineMode=!1,this.onInsertReplaySequence?(e.commands.macro=this.onInsertReplaySequence,e.commands.replay(e),this.onInsertReplaySequence=null,this.normalMode(e)):(e._emit("changeStatus"),e.commands.recording||e.commands.toggleRecording(e))},normalMode:function(e){this.currentMode="normal",e.unsetStyle("insert-mode"),e.setStyle("normal-mode"),e.clearSelection();var t;return e.getOverwrite()||(t=e.getCursorPosition(),t.column>0&&e.navigateLeft()),e.setOverwrite(!0),e.keyBinding.$data.buffer="",e.keyBinding.$data.state="start",this.onVisualMode=!1,this.onVisualLineMode=!1,e._emit("changeStatus"),e.commands.recording?(e.commands.toggleRecording(e),e.commands.macro):[]},visualMode:function(e,t){if(this.onVisualLineMode&&t||this.onVisualMode&&!t){this.normalMode(e);return}e.setStyle("insert-mode"),e.unsetStyle("normal-mode"),e._emit("changeStatus"),t?this.onVisualLineMode=!0:(this.onVisualMode=!0,this.onVisualLineMode=!1)},getRightNthChar:function(e,t,n,r){var i=e.getSession().getLine(t.row),s=i.substr(t.column+1).split(n);return r<s.length?s.slice(0,r).join(n).length:null},getLeftNthChar:function(e,t,n,r){var i=e.getSession().getLine(t.row),s=i.substr(0,t.column).split(n);return r<s.length?s.slice(-1*r).join(n).length:null},toRealChar:function(e){return e.length===1?e:/^shift-./.test(e)?e[e.length-1].toUpperCase():""},copyLine:function(e){var t=e.getCursorPosition();e.selection.clearSelection(),e.moveCursorTo(t.row,t.column),e.selection.selectLine(),r._default.isLine=!0,r._default.text=e.getCopyText().replace(/\n$/,""),e.selection.clearSelection(),e.moveCursorTo(t.row,t.column)}}}),define("ace/keyboard/vim/registers",["require","exports","module"],function(e,t,n){"never use strict";n.exports={_default:{text:"",isLine:!1}}}),define("ace/keyboard/vim/maps/motions",["require","exports","module","ace/keyboard/vim/maps/util","ace/search","ace/range"],function(e,t,n){function s(e){if(typeof e=="function"){var t=e;e=this}else var t=e.getPos;return e.nav=function(e,n,r,i){var s=t(e,n,r,i,!1);if(!s)return;e.clearSelection(),e.moveCursorTo(s.row,s.column)},e.sel=function(e,n,r,i){var s=t(e,n,r,i,!0);if(!s)return;e.selection.selectTo(s.row,s.column)},e}function h(e,t,n){return c.$options.needle=t,c.$options.backwards=n==-1,c.find(e.session)}var r=e("./util"),i=function(e,t){var n=e.renderer.getScrollTopRow(),r=e.getCursorPosition().row,i=r-n;t&&t.call(e),e.renderer.scrollToRow(e.getCursorPosition().row-i)},o=/[\s.\/\\()\"'-:,.;<>~!@#$%^&*|+=\[\]{}`~?]/,u=/[.\/\\()\"'-:,.;<>~!@#$%^&*|+=\[\]{}`~?]/,a=/\s/,f=function(e,t){var n=e.selection;this.range=n.getRange(),t=t||n.selectionLead,this.row=t.row,this.col=t.column;var r=e.session.getLine(this.row),i=e.session.getLength();this.ch=r[this.col]||"\n",this.skippedLines=0,this.next=function(){return this.ch=r[++this.col]||this.handleNewLine(1),this.ch},this.prev=function(){return this.ch=r[--this.col]||this.handleNewLine(-1),this.ch},this.peek=function(t){var n=r[this.col+t];return n?n:t==-1?"\n":this.col==r.length-1?"\n":e.session.getLine(this.row+1)[0]||"\n"},this.handleNewLine=function(t){if(t==1)return this.col==r.length?"\n":this.row==i-1?"":(this.col=0,this.row++,r=e.session.getLine(this.row),this.skippedLines++,r[0]||"\n");if(t==-1)return this.row===0?"":(this.row--,r=e.session.getLine(this.row),this.col=r.length,this.skippedLines--,"\n")},this.debug=function(){console.log(r.substring(0,this.col)+"|"+this.ch+"'"+this.col+"'"+r.substr(this.col+1))}},l=e("../../../search").Search,c=new l,p=e("../../../range").Range;n.exports={w:new s(function(e){var t=new f(e);if(t.ch&&u.test(t.ch))while(t.ch&&u.test(t.ch))t.next();else while(t.ch&&!o.test(t.ch))t.next();while(t.ch&&a.test(t.ch)&&t.skippedLines<2)t.next();return t.skippedLines==2&&t.prev(),{column:t.col,row:t.row}}),W:new s(function(e){var t=new f(e);while(t.ch&&(!a.test(t.ch)||!!a.test(t.peek(1)))&&t.skippedLines<2)t.next();return t.skippedLines==2?t.prev():t.next(),{column:t.col,row:t.row}}),b:new s(function(e){var t=new f(e);t.prev();while(t.ch&&a.test(t.ch)&&t.skippedLines>-2)t.prev();if(t.ch&&u.test(t.ch))while(t.ch&&u.test(t.ch))t.prev();else while(t.ch&&!o.test(t.ch))t.prev();return t.ch&&t.next(),{column:t.col,row:t.row}}),B:new s(function(e){var t=new f(e);t.prev();while(t.ch&&(!!a.test(t.ch)||!a.test(t.peek(-1)))&&t.skippedLines>-2)t.prev();return t.skippedLines==-2&&t.next(),{column:t.col,row:t.row}}),e:new s(function(e){var t=new f(e);t.next();while(t.ch&&a.test(t.ch))t.next();if(t.ch&&u.test(t.ch))while(t.ch&&u.test(t.ch))t.next();else while(t.ch&&!o.test(t.ch))t.next();return t.ch&&t.prev(),{column:t.col,row:t.row}}),E:new s(function(e){var t=new f(e);t.next();while(t.ch&&(!!a.test(t.ch)||!a.test(t.peek(1))))t.next();return{column:t.col,row:t.row}}),l:{nav:function(e){var t=e.getCursorPosition(),n=t.column,r=e.session.getLine(t.row).length;r&&n!==r&&e.navigateRight()},sel:function(e){var t=e.getCursorPosition(),n=t.column,r=e.session.getLine(t.row).length;r&&n!==r&&e.selection.selectRight()}},h:{nav:function(e){var t=e.getCursorPosition();t.column>0&&e.navigateLeft()},sel:function(e){var t=e.getCursorPosition();t.column>0&&e.selection.selectLeft()}},H:{nav:function(e){var t=e.renderer.getScrollTopRow();e.moveCursorTo(t)},sel:function(e){var t=e.renderer.getScrollTopRow();e.selection.selectTo(t)}},M:{nav:function(e){var t=e.renderer.getScrollTopRow(),n=e.renderer.getScrollBottomRow(),r=t+(n-t)/2;e.moveCursorTo(r)},sel:function(e){var t=e.renderer.getScrollTopRow(),n=e.renderer.getScrollBottomRow(),r=t+(n-t)/2;e.selection.selectTo(r)}},L:{nav:function(e){var t=e.renderer.getScrollBottomRow();e.moveCursorTo(t)},sel:function(e){var t=e.renderer.getScrollBottomRow();e.selection.selectTo(t)}},k:{nav:function(e){e.navigateUp()},sel:function(e){e.selection.selectUp()}},j:{nav:function(e){e.navigateDown()},sel:function(e){e.selection.selectDown()}},i:{param:!0,sel:function(e,t,n,r){switch(r){case"w":e.selection.selectWord();break;case"W":e.selection.selectAWord();break;case"(":case"{":case"[":var i=e.getCursorPosition(),s=e.session.$findClosingBracket(r,i,/paren/);if(!s)return;var o=e.session.$findOpeningBracket(e.session.$brackets[r],i,/paren/);if(!o)return;o.column++,e.selection.setSelectionRange(p.fromPoints(o,s));break;case"'":case'"':case"/":var s=h(e,r,1);if(!s)return;var o=h(e,r,-1);if(!o)return;e.selection.setSelectionRange(p.fromPoints(o.end,s.start))}}},a:{param:!0,sel:function(e,t,n,r){switch(r){case"w":e.selection.selectAWord();break;case"W":e.selection.selectAWord();break;case"(":case"{":case"[":var i=e.getCursorPosition(),s=e.session.$findClosingBracket(r,i,/paren/);if(!s)return;var o=e.session.$findOpeningBracket(e.session.$brackets[r],i,/paren/);if(!o)return;s.column++,e.selection.setSelectionRange(p.fromPoints(o,s));break;case"'":case'"':case"/":var s=h(e,r,1);if(!s)return;var o=h(e,r,-1);if(!o)return;s.column++,e.selection.setSelectionRange(p.fromPoints(o.start,s.end))}}},f:new s({param:!0,handlesCount:!0,getPos:function(e,t,n,i,s){var o=e.getCursorPosition(),u=r.getRightNthChar(e,o,i,n||1);if(typeof u=="number")return o.column+=u+(s?2:1),o}}),F:new s({param:!0,handlesCount:!0,getPos:function(e,t,n,i,s){var o=e.getCursorPosition(),u=r.getLeftNthChar(e,o,i,n||1);if(typeof u=="number")return o.column-=u+1,o}}),t:new s({param:!0,handlesCount:!0,getPos:function(e,t,n,i,s){var o=e.getCursorPosition(),u=r.getRightNthChar(e,o,i,n||1);if(typeof u=="number")return o.column+=u+(s?1:0),o}}),T:new s({param:!0,handlesCount:!0,getPos:function(e,t,n,i,s){var o=e.getCursorPosition(),u=r.getLeftNthChar(e,o,i,n||1);if(typeof u=="number")return o.column-=u,o}}),"^":{nav:function(e){e.navigateLineStart()},sel:function(e){e.selection.selectLineStart()}},$:{nav:function(e){e.navigateLineEnd()},sel:function(e){e.selection.selectLineEnd()}},0:new s(function(e){return{row:e.selection.lead.row,column:0}}),G:{nav:function(e,t,n,r){!n&&n!==0&&(n=e.session.getLength()),e.gotoLine(n)},sel:function(e,t,n,r){!n&&n!==0&&(n=e.session.getLength()),e.selection.selectTo(n,0)}},g:{param:!0,nav:function(e,t,n,r){switch(r){case"m":console.log("Middle line");break;case"e":console.log("End of prev word");break;case"g":e.gotoLine(n||0);case"u":e.gotoLine(n||0);case"U":e.gotoLine(n||0)}},sel:function(e,t,n,r){switch(r){case"m":console.log("Middle line");break;case"e":console.log("End of prev word");break;case"g":e.selection.selectTo(n||0,0)}}},o:{nav:function(e,t,n,i){n=n||1;var s="";while(0<n--)s+="\n";s.length&&(e.navigateLineEnd(),e.insert(s),r.insertMode(e))}},O:{nav:function(e,t,n,i){var s=e.getCursorPosition().row;n=n||1;var o="";while(0<n--)o+="\n";o.length&&(s>0?(e.navigateUp(),e.navigateLineEnd(),e.insert(o)):(e.session.insert({row:0,column:0},o),e.navigateUp()),r.insertMode(e))}},"%":new s(function(e){var t=/[\[\]{}()]/g,n=e.getCursorPosition(),r=e.session.getLine(n.row)[n.column];if(!t.test(r)){var i=h(e,t);if(!i)return;n=i.start}var s=e.session.findMatchingBracket({row:n.row,column:n.column+1});return s}),"{":new s(function(e){var t=e.session,n=t.selection.lead.row;while(n>0&&!/\S/.test(t.getLine(n)))n--;while(/\S/.test(t.getLine(n)))n--;return{column:0,row:n}}),"}":new s(function(e){var t=e.session,n=t.getLength(),r=t.selection.lead.row;while(r<n&&!/\S/.test(t.getLine(r)))r++;while(/\S/.test(t.getLine(r)))r++;return{column:0,row:r}}),"ctrl-d":{nav:function(e,t,n,r){e.selection.clearSelection(),i(e,e.gotoPageDown)},sel:function(e,t,n,r){i(e,e.selectPageDown)}},"ctrl-u":{nav:function(e,t,n,r){e.selection.clearSelection(),i(e,e.gotoPageUp)},sel:function(e,t,n,r){i(e,e.selectPageUp)}},"`":new s({param:!0,handlesCount:!0,getPos:function(e,t,n,r,i){var s=e.session,o=s.vimMarkers&&s.vimMarkers[r];if(o)return o.getPosition()}}),"'":new s({param:!0,handlesCount:!0,getPos:function(e,t,n,r,i){var s=e.session,o=s.vimMarkers&&s.vimMarkers[r];if(o){var u=o.getPosition(),a=e.session.getLine(u.row);return u.column=a.search(/\S/),u.column==-1&&(u.column=a.length),u}}})},n.exports.backspace=n.exports.left=n.exports.h,n.exports.right=n.exports.l,n.exports.up=n.exports.k,n.exports.down=n.exports.j,n.exports.pagedown=n.exports["ctrl-d"],n.exports.pageup=n.exports["ctrl-u"]}),define("ace/keyboard/vim/maps/operators",["require","exports","module","ace/keyboard/vim/maps/util","ace/keyboard/vim/registers"],function(e,t,n){"never use strict";var r=e("./util"),i=e("../registers");n.exports={d:{selFn:function(e,t,n,s){i._default.text=e.getCopyText(),i._default.isLine=r.onVisualLineMode,r.onVisualLineMode?e.removeLines():e.session.remove(t),r.normalMode(e)},fn:function(e,t,n,r){n=n||1;switch(r){case"d":i._default.text="",i._default.isLine=!0;for(var s=0;s<n;s++){e.selection.selectLine(),i._default.text+=e.getCopyText();var o=e.getSelectionRange();if(!o.isMultiLine()){lastLineReached=!0;var u=o.start.row-1,a=e.session.getLine(u).length;o.setStart(u,a),e.session.remove(o),e.selection.clearSelection();break}e.session.remove(o),e.selection.clearSelection()}i._default.text=i._default.text.replace(/\n$/,"");break;default:t&&(e.selection.setSelectionRange(t),i._default.text=e.getCopyText(),i._default.isLine=!1,e.session.remove(t),e.selection.clearSelection())}}},c:{selFn:function(e,t,n,i){e.session.remove(t),r.insertMode(e)},fn:function(e,t,n,i){n=n||1;switch(i){case"c":for(var s=0;s<n;s++)e.removeLines(),r.insertMode(e);break;default:t&&(e.session.remove(t),r.insertMode(e))}}},y:{selFn:function(e,t,n,s){i._default.text=e.getCopyText(),i._default.isLine=r.onVisualLineMode,e.selection.clearSelection(),r.normalMode(e)},fn:function(e,t,n,r){n=n||1;switch(r){case"y":var s=e.getCursorPosition();e.selection.selectLine();for(var o=0;o<n-1;o++)e.selection.moveCursorDown();i._default.text=e.getCopyText().replace(/\n$/,""),e.selection.clearSelection(),i._default.isLine=!0,e.moveCursorToPosition(s);break;default:if(t){var s=e.getCursorPosition();e.selection.setSelectionRange(t),i._default.text=e.getCopyText(),i._default.isLine=!1,e.selection.clearSelection(),e.moveCursorTo(s.row,s.column)}}}},">":{selFn:function(e,t,n,i){n=n||1;for(var s=0;s<n;s++)e.indent();r.normalMode(e)},fn:function(e,t,n,r){n=parseInt(n||1,10);switch(r){case">":var i=e.getCursorPosition();e.selection.selectLine();for(var s=0;s<n-1;s++)e.selection.moveCursorDown();e.indent(),e.selection.clearSelection(),e.moveCursorToPosition(i),e.navigateLineEnd(),e.navigateLineStart()}}},"<":{selFn:function(e,t,n,i){n=n||1;for(var s=0;s<n;s++)e.blockOutdent();r.normalMode(e)},fn:function(e,t,n,r){n=n||1;switch(r){case"<":var i=e.getCursorPosition();e.selection.selectLine();for(var s=0;s<n-1;s++)e.selection.moveCursorDown();e.blockOutdent(),e.selection.clearSelection(),e.moveCursorToPosition(i),e.navigateLineEnd(),e.navigateLineStart()}}}}}),"use strict",define("ace/keyboard/vim/maps/aliases",["require","exports","module"],function(e,t,n){n.exports={x:{operator:{ch:"d",count:1},motion:{ch:"l",count:1}},X:{operator:{ch:"d",count:1},motion:{ch:"h",count:1}},D:{operator:{ch:"d",count:1},motion:{ch:"$",count:1}},C:{operator:{ch:"c",count:1},motion:{ch:"$",count:1}},s:{operator:{ch:"c",count:1},motion:{ch:"l",count:1}},S:{operator:{ch:"c",count:1},param:"c"}}}),define("ace/mode/python",["require","exports","module","ace/lib/oop","ace/mode/text","ace/tokenizer","ace/mode/python_highlight_rules","ace/mode/folding/pythonic","ace/range"],function(e,t,n){var r=e("../lib/oop"),i=e("./text").Mode,s=e("../tokenizer").Tokenizer,o=e("./python_highlight_rules").PythonHighlightRules,u=e("./folding/pythonic").FoldMode,a=e("../range").Range,f=function(){this.$tokenizer=new s((new o).getRules()),this.foldingRules=new u("\\:")};r.inherits(f,i),function(){this.toggleCommentLines=function(e,t,n,r){var i=!0,s=/^(\s*)#/;for(var o=n;o<=r;o++)if(!s.test(t.getLine(o))){i=!1;break}if(i){var u=new a(0,0,0,0);for(var o=n;o<=r;o++){var f=t.getLine(o),l=f.match(s);u.start.row=o,u.end.row=o,u.end.column=l[0].length,t.replace(u,l[1])}}else t.indentRows(n,r,"#")},this.getNextLineIndent=function(e,t,n){var r=this.$getIndent(t),i=this.$tokenizer.getLineTokens(t,e),s=i.tokens;if(s.length&&s[s.length-1].type=="comment")return r;if(e=="start"){var o=t.match(/^.*[\{\(\[\:]\s*$/);o&&(r+=n)}return r};var e={pass:1,"return":1,raise:1,"break":1,"continue":1};this.checkOutdent=function(t,n,r){if(r!=="\r\n"&&r!=="\r"&&r!=="\n")return!1;var i=this.$tokenizer.getLineTokens(n.trim(),t).tokens;if(!i)return!1;do var s=i.pop();while(s&&(s.type=="comment"||s.type=="text"&&s.value.match(/^\s+$/)));return s?s.type=="keyword"&&e[s.value]:!1},this.autoOutdent=function(e,t,n){n+=1;var r=this.$getIndent(t.getLine(n)),i=t.getTabString();r.slice(-i.length)==i&&t.remove(new a(n,r.length-i.length,n,r.length))}}.call(f.prototype),t.Mode=f}),define("ace/mode/python_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,n){var r=e("../lib/oop"),i=e("./text_highlight_rules").TextHighlightRules,s=function(){var e="and|as|assert|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|not|or|pass|print|raise|return|try|while|with|yield",t="True|False|None|NotImplemented|Ellipsis|__debug__",n="abs|divmod|input|open|staticmethod|all|enumerate|int|ord|str|any|eval|isinstance|pow|sum|basestring|execfile|issubclass|print|super|binfile|iter|property|tuple|bool|filter|len|range|type|bytearray|float|list|raw_input|unichr|callable|format|locals|reduce|unicode|chr|frozenset|long|reload|vars|classmethod|getattr|map|repr|xrange|cmp|globals|max|reversed|zip|compile|hasattr|memoryview|round|__import__|complex|hash|min|set|apply|delattr|help|next|setattr|buffer|dict|hex|object|slice|coerce|dir|id|oct|sorted|intern",r=this.createKeywordMapper({"invalid.deprecated":"debugger","support.function":n,"constant.language":t,keyword:e},"identifier"),i="(?:r|u|ur|R|U|UR|Ur|uR)?",s="(?:(?:[1-9]\\d*)|(?:0))",o="(?:0[oO]?[0-7]+)",u="(?:0[xX][\\dA-Fa-f]+)",a="(?:0[bB][01]+)",f="(?:"+s+"|"+o+"|"+u+"|"+a+")",l="(?:[eE][+-]?\\d+)",c="(?:\\.\\d+)",h="(?:\\d+)",p="(?:(?:"+h+"?"+c+")|(?:"+h+"\\.))",d="(?:(?:"+p+"|"+h+")"+l+")",v="(?:"+d+"|"+p+")";this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"string",regex:i+'"{3}(?:[^\\\\]|\\\\.)*?"{3}'},{token:"string",regex:i+'"{3}.*$',next:"qqstring"},{token:"string",regex:i+'"(?:[^\\\\]|\\\\.)*?"'},{token:"string",regex:i+"'{3}(?:[^\\\\]|\\\\.)*?'{3}"},{token:"string",regex:i+"'{3}.*$",next:"qstring"},{token:"string",regex:i+"'(?:[^\\\\]|\\\\.)*?'"},{token:"constant.numeric",regex:"(?:"+v+"|\\d+)[jJ]\\b"},{token:"constant.numeric",regex:v},{token:"constant.numeric",regex:f+"[lL]\\b"},{token:"constant.numeric",regex:f+"\\b"},{token:r,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|%|<<|>>|&|\\||\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]\\)\\}]"},{token:"text",regex:"\\s+"}],qqstring:[{token:"string",regex:'(?:[^\\\\]|\\\\.)*?"{3}',next:"start"},{token:"string",regex:".+"}],qstring:[{token:"string",regex:"(?:[^\\\\]|\\\\.)*?'{3}",next:"start"},{token:"string",regex:".+"}]}};r.inherits(s,i),t.PythonHighlightRules=s}),define("ace/mode/folding/pythonic",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(e,t,n){var r=e("../../lib/oop"),i=e("./fold_mode").FoldMode,s=t.FoldMode=function(e){this.foldingStartMarker=new RegExp("([\\[{])(?:\\s*)$|("+e+")(?:\\s*)(?:#.*)?$")};r.inherits(s,i),function(){this.getFoldWidgetRange=function(e,t,n){var r=e.getLine(n),i=r.match(this.foldingStartMarker);if(i)return i[1]?this.openingBracketBlock(e,i[1],n,i.index):i[2]?this.indentationBlock(e,n,i.index+i[2].length):this.indentationBlock(e,n)}}.call(s.prototype)}),define("ace/mode/python_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,n){var r=e("../lib/oop"),i=e("./text_highlight_rules").TextHighlightRules,s=function(){var e="and|as|assert|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|not|or|pass|print|raise|return|try|while|with|yield",t="True|False|None|NotImplemented|Ellipsis|__debug__",n="abs|divmod|input|open|staticmethod|all|enumerate|int|ord|str|any|eval|isinstance|pow|sum|basestring|execfile|issubclass|print|super|binfile|iter|property|tuple|bool|filter|len|range|type|bytearray|float|list|raw_input|unichr|callable|format|locals|reduce|unicode|chr|frozenset|long|reload|vars|classmethod|getattr|map|repr|xrange|cmp|globals|max|reversed|zip|compile|hasattr|memoryview|round|__import__|complex|hash|min|set|apply|delattr|help|next|setattr|buffer|dict|hex|object|slice|coerce|dir|id|oct|sorted|intern",r=this.createKeywordMapper({"invalid.deprecated":"debugger","support.function":n,"constant.language":t,keyword:e},"identifier"),i="(?:r|u|ur|R|U|UR|Ur|uR)?",s="(?:(?:[1-9]\\d*)|(?:0))",o="(?:0[oO]?[0-7]+)",u="(?:0[xX][\\dA-Fa-f]+)",a="(?:0[bB][01]+)",f="(?:"+s+"|"+o+"|"+u+"|"+a+")",l="(?:[eE][+-]?\\d+)",c="(?:\\.\\d+)",h="(?:\\d+)",p="(?:(?:"+h+"?"+c+")|(?:"+h+"\\.))",d="(?:(?:"+p+"|"+h+")"+l+")",v="(?:"+d+"|"+p+")";this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"string",regex:i+'"{3}(?:[^\\\\]|\\\\.)*?"{3}'},{token:"string",regex:i+'"{3}.*$',next:"qqstring"},{token:"string",regex:i+'"(?:[^\\\\]|\\\\.)*?"'},{token:"string",regex:i+"'{3}(?:[^\\\\]|\\\\.)*?'{3}"},{token:"string",regex:i+"'{3}.*$",next:"qstring"},{token:"string",regex:i+"'(?:[^\\\\]|\\\\.)*?'"},{token:"constant.numeric",regex:"(?:"+v+"|\\d+)[jJ]\\b"},{token:"constant.numeric",regex:v},{token:"constant.numeric",regex:f+"[lL]\\b"},{token:"constant.numeric",regex:f+"\\b"},{token:r,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|%|<<|>>|&|\\||\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]\\)\\}]"},{token:"text",regex:"\\s+"}],qqstring:[{token:"string",regex:'(?:[^\\\\]|\\\\.)*?"{3}',next:"start"},{token:"string",regex:".+"}],qstring:[{token:"string",regex:"(?:[^\\\\]|\\\\.)*?'{3}",next:"start"},{token:"string",regex:".+"}]}};r.inherits(s,i),t.PythonHighlightRules=s}),define("ace/theme/monokai",["require","exports","module","ace/lib/dom"],function(e,t,n){t.isDark=!0,t.cssClass="ace-monokai",t.cssText=".ace-monokai .ace_gutter {background: #2f3129;color: #f1f1f1}.ace-monokai .ace_print-margin {width: 1px;background: #555651}.ace-monokai .ace_scroller {background-color: #272822}.ace-monokai .ace_text-layer {color: #F8F8F2}.ace-monokai .ace_cursor {border-left: 2px solid #F8F8F0}.ace-monokai .ace_overwrite-cursors .ace_cursor {border-left: 0px;border-bottom: 1px solid #F8F8F0}.ace-monokai .ace_marker-layer .ace_selection {background: #49483E}.ace-monokai.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #272822;border-radius: 2px}.ace-monokai .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-monokai .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #49483E}.ace-monokai .ace_marker-layer .ace_active-line {background: #202020}.ace-monokai .ace_gutter-active-line {background-color: #272727}.ace-monokai .ace_marker-layer .ace_selected-word {border: 1px solid #49483E}.ace-monokai .ace_invisible {color: #49483E}.ace-monokai .ace_entity.ace_name.ace_tag,.ace-monokai .ace_keyword,.ace-monokai .ace_meta,.ace-monokai .ace_storage {color: #F92672}.ace-monokai .ace_constant.ace_character,.ace-monokai .ace_constant.ace_language,.ace-monokai .ace_constant.ace_numeric,.ace-monokai .ace_constant.ace_other {color: #AE81FF}.ace-monokai .ace_invalid {color: #F8F8F0;background-color: #F92672}.ace-monokai .ace_invalid.ace_deprecated {color: #F8F8F0;background-color: #AE81FF}.ace-monokai .ace_support.ace_constant,.ace-monokai .ace_support.ace_function {color: #66D9EF}.ace-monokai .ace_fold {background-color: #A6E22E;border-color: #F8F8F2}.ace-monokai .ace_storage.ace_type,.ace-monokai .ace_support.ace_class,.ace-monokai .ace_support.ace_type {font-style: italic;color: #66D9EF}.ace-monokai .ace_entity.ace_name.ace_function,.ace-monokai .ace_entity.ace_other,.ace-monokai .ace_variable {color: #A6E22E}.ace-monokai .ace_variable.ace_parameter {font-style: italic;color: #FD971F}.ace-monokai .ace_string {color: #E6DB74}.ace-monokai .ace_comment {color: #75715E}.ace-monokai .ace_markup.ace_underline {text-decoration: underline}.ace-monokai .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNQ11D6z7Bq1ar/ABCKBG6g04U2AAAAAElFTkSuQmCC) right repeat-y}";var r=e("../lib/dom");r.importCssString(t.cssText,t.cssClass)}),function(e){var t={init:function(n){return this.each(function(){var r=e(this);r.data("uploadifive",{inputs:{},inputCount:0,fileID:0,queue:{count:0,selected:0,replaced:0,errors:0,queued:0,cancelled:0},uploads:{current:0,attempts:0,successful:0,errors:0,count:0}});var s=r.data("uploadifive"),o=s.settings=e.extend({auto:!0,buttonClass:!1,buttonText:"Select Files",checkScript:!1,dnd:!0,dropTarget:!1,fileObjName:"Filedata",fileSizeLimit:0,fileType:!1,formData:{},height:30,itemTemplate:!1,method:"post",multi:!0,overrideEvents:[],queueID:!1,queueSizeLimit:0,removeCompleted:!0,simUploadLimit:0,truncateLength:0,uploadLimit:0,uploadScript:"uploadifive.php",width:100,onAddQueueItem:function(t){e(".start_upload").attr("disabled",!1),e("#dragdrop-text").hide()},onCancel:function(t){e(".uploadifive-queue-item").length<=1&&(e(".start_upload").attr("disabled",!0),e("#dragdrop-text").fadeIn().show())}},n);if(isNaN(o.fileSizeLimit)){var u=parseInt(o.fileSizeLimit)*1.024;o.fileSizeLimit.indexOf("KB")>-1?o.fileSizeLimit=u*1e3:o.fileSizeLimit.indexOf("MB")>-1?o.fileSizeLimit=u*1e6:o.fileSizeLimit.indexOf("GB")>-1&&(o.fileSizeLimit=u*1e9)}else o.fileSizeLimit=o.fileSizeLimit*1024;s.inputTemplate=e('<input type="file">').css({opacity:0,position:"absolute","z-index":999}),s.createInput=function(){var n=s.inputTemplate.clone(),i=n.name="input"+s.inputCount++;o.multi&&n.attr("multiple",!0),n.bind("change",function(){s.queue.selected=0,s.queue.replaced=0,s.queue.errors=0,s.queue.queued=0;var n=this.files.length;s.queue.selected=n;if(s.queue.count+n>o.queueSizeLimit&&o.queueSizeLimit!==0)e.inArray("onError",o.overrideEvents)<0&&alert("The maximum number of queue items has been reached ("+o.queueSizeLimit+").  Please select fewer files."),typeof o.onError=="function"&&o.onError.call(r,"QUEUE_LIMIT_EXCEEDED");else{for(var u=0;u<n;u++)file=this.files[u],s.addQueueItem(file);s.inputs[i]=this,s.createInput()}o.auto&&t.upload.call(r),typeof o.onSelect=="function"&&o.onSelect.call(r,s.queue)}),s.currentInput&&s.currentInput.hide(),s.button.append(n),s.currentInput=n},s.destroyInput=function(t){e(s.inputs[t]).remove(),delete s.inputs[t],s.inputCount--},s.drop=function(n){s.queue.selected=0,s.queue.replaced=0,s.queue.errors=0,s.queue.queued=0;var i=n.dataTransfer,u=i.name="input"+s.inputCount++,a=i.files.length;s.queue.selected=a;if(s.queue.count+a>o.queueSizeLimit&&o.queueSizeLimit!==0)e.inArray("onError",o.overrideEvents)<0&&alert("The maximum number of queue items has been reached ("+o.queueSizeLimit+").  Please select fewer files."),typeof o.onError=="function"&&o.onError.call(r,"QUEUE_LIMIT_EXCEEDED");else{for(var f=0;f<a;f++)file=i.files[f],s.addQueueItem(file);s.inputs[u]=i}o.auto&&t.upload.call(r),typeof o.onDrop=="function"&&o.onDrop.call(r,i.files,i.files.length),n.preventDefault(),n.stopPropagation()},s.fileExistsInQueue=function(e){for(var t in s.inputs){input=s.inputs[t],limit=input.files.length;for(var n=0;n<limit;n++){existingFile=input.files[n];if(existingFile.name==e.name&&!existingFile.complete)return!0}}return!1},s.removeExistingFile=function(e){for(var n in s.inputs){input=s.inputs[n],limit=input.files.length;for(var i=0;i<limit;i++)existingFile=input.files[i],existingFile.name==e.name&&!existingFile.complete&&(s.queue.replaced++,t.cancel.call(r,existingFile,!0))}},o.itemTemplate==0?s.queueItem=e('<div class="uploadifive-queue-item">                        <a class="close" href="#">X</a>                        <div><span class="filename"></span><span class="fileinfo"></span></div>                        <div class="progress">                            <div class="progress-bar"></div>                        </div>                    </div>'):s.queueItem=e(o.itemTemplate),s.addQueueItem=function(n){if(e.inArray("onAddQueueItem",o.overrideEvents)<0){s.removeExistingFile(n),n.queueItem=s.queueItem.clone(),n.queueItem.attr("id",o.id+"-file-"+s.fileID++),n.queueItem.find(".close").bind("click",function(){return t.cancel.call(r,n),!1});var i=n.name;i.length>o.truncateLength&&o.truncateLength!=0&&(i=i.substring(0,o.truncateLength)+"..."),n.queueItem.find(".filename").html(i),n.queueItem.data("file",n),s.queueEl.append(n.queueItem)}typeof o.onAddQueueItem=="function"&&o.onAddQueueItem.call(r,n);if(o.fileType)if(e.isArray(o.fileType)){var u=!1;for(var a=0;a<o.fileType.length;a++)n.type.indexOf(o.fileType[a])>-1&&(u=!0);u||s.error("FORBIDDEN_FILE_TYPE",n)}else n.type.indexOf(o.fileType)<0&&s.error("FORBIDDEN_FILE_TYPE",n);n.size>o.fileSizeLimit&&o.fileSizeLimit!=0?s.error("FILE_SIZE_LIMIT_EXCEEDED",n):(s.queue.queued++,s.queue.count++)},s.removeQueueItem=function(t,n,r){r||(r=0);var i=n?0:500;t.queueItem&&(t.queueItem.find(".fileinfo").html()!=" - Completed"&&t.queueItem.find(".fileinfo").html(" - Cancelled"),t.queueItem.find(".progress-bar").width(0),t.queueItem.delay(r).fadeOut(i,function(){e(this).remove()}),delete t.queueItem,s.queue.count--)},s.filesToUpload=function(){var e=0;for(var t in s.inputs){input=s.inputs[t],limit=input.files.length;for(var n=0;n<limit;n++)file=input.files[n],!file.skip&&!file.complete&&e++}return e},s.checkExists=function(n){if(e.inArray("onCheck",o.overrideEvents)<0){e.ajaxSetup({async:!1});var i=e.extend(o.formData,{filename:n.name});e.post(o.checkScript,i,function(e){n.exists=parseInt(e)});if(n.exists&&!confirm("A file named "+n.name+" already exists in the upload folder.\nWould you like to replace it?"))return t.cancel.call(r,n),!0}return typeof o.onCheck=="function"&&o.onCheck.call(r,n,n.exists),!1},s.uploadFile=function(t,n){if(!t.skip&&!t.complete&&!t.uploading){t.uploading=!0,s.uploads.current++,s.uploads.attempted++,xhr=t.xhr=new XMLHttpRequest;if(typeof FormData=="function"||typeof FormData=="object"){var u=new FormData;u.append(o.fileObjName,t);for(i in o.formData)u.append(i,o.formData[i]);xhr.open(o.method,o.uploadScript,!0),xhr.upload.addEventListener("progress",function(e){e.lengthComputable&&s.progress(e,t)},!1),xhr.addEventListener("load",function(e){this.readyState==4&&(t.uploading=!1,this.status==200?t.xhr.responseText!=="Invalid file type."?s.uploadComplete(e,t,n):s.error(t.xhr.responseText,t,n):this.status==404?s.error("404_FILE_NOT_FOUND",t,n):this.status==403?s.error("403_FORBIDDEN",t,uplaodAll):s.error("Unknown Error",t,n))}),xhr.send(u)}else{var a=new FileReader;a.onload=function(i){var u="-------------------------"+(new Date).getTime(),a="--",f="\r\n",l="";l+=a+u+f,l+='Content-Disposition: form-data; name="'+o.fileObjName+'"',t.name&&(l+='; filename="'+t.name+'"'),l+=f,l+="Content-Type: application/octet-stream"+f+f,l+=i.target.result+f;for(key in o.formData)l+=a+u+f,l+='Content-Disposition: form-data; name="'+key+'"'+f+f,l+=o.formData[key]+f;l+=a+u+a+f,xhr.upload.addEventListener("progress",function(e){s.progress(e,t)},!1),xhr.addEventListener("load",function(e){t.uploading=!1;var r=this.status;r==404?s.error("404_FILE_NOT_FOUND",t,n):t.xhr.responseText!="Invalid file type."?s.uploadComplete(e,t,n):s.error(t.xhr.responseText,t,n)},!1);var c=o.uploadScript;if(o.method=="get"){var h=e(o.formData).param();c+=h}xhr.open(o.method,o.uploadScript,!0),xhr.setRequestHeader("Content-Type","multipart/form-data; boundary="+u),typeof o.onUploadFile=="function"&&o.onUploadFile.call(r,t),xhr.sendAsBinary(l)},a.readAsBinaryString(t)}}},s.progress=function(t,n){if(e.inArray("onProgress",o.overrideEvents)<0){if(t.lengthComputable)var i=Math.round(t.loaded/t.total*100);n.queueItem.find(".fileinfo").html(" - "+i+"%"),n.queueItem.find(".progress-bar").css("width",i+"%")}typeof o.onProgress=="function"&&o.onProgress.call(r,n,t)},s.error=function(n,i,u){if(e.inArray("onError",o.overrideEvents)<0){switch(n){case"404_FILE_NOT_FOUND":errorMsg="404 Error";break;case"403_FORBIDDEN":errorMsg="403 Forbidden";break;case"FORBIDDEN_FILE_TYPE":errorMsg="Forbidden File Type";break;case"FILE_SIZE_LIMIT_EXCEEDED":errorMsg="File Too Large";break;default:errorMsg="Unknown Error"}i.queueItem.addClass("error").find(".fileinfo").html(" - "+errorMsg),i.queueItem.find(".progress").remove()}typeof o.onError=="function"&&o.onError.call(r,n,i),i.skip=!0,n=="404_FILE_NOT_FOUND"?s.uploads.errors++:s.queue.errors++,u&&t.upload.call(r,null,!0)},s.uploadComplete=function(n,i,u){e.inArray("onUploadComplete",o.overrideEvents)<0&&(i.queueItem.find(".progress-bar").css("width","100%"),i.queueItem.find(".fileinfo").html(" - Completed"),i.queueItem.find(".progress").slideUp(250),i.queueItem.addClass("complete")),typeof o.onUploadComplete=="function"&&o.onUploadComplete.call(r,i,i.xhr.responseText),o.removeCompleted&&setTimeout(function(){t.cancel.call(r,i)},3e3),i.complete=!0,s.uploads.successful++,s.uploads.count++,s.uploads.current--,delete i.xhr,u&&t.upload.call(r,null,!0)},s.queueComplete=function(){typeof o.onQueueComplete=="function"&&o.onQueueComplete.call(r,s.uploads)};if(!(window.File&&window.FileList&&window.Blob&&(window.FileReader||window.FormData)))return typeof o.onFallback=="function"&&o.onFallback.call(r),!1;o.id="uploadifive-"+r.attr("id"),s.button=e('<div id="'+o.id+'" class="btn btn-small btn-success">'+o.buttonText+"</div>"),o.buttonClass&&s.button.addClass(o.buttonClass),s.button.css({overflow:"hidden",position:"relative"}),r.before(s.button).appendTo(s.button).hide(),s.createInput.call(r),s.button.mousemove(function(e){var t=s.button.offset();s.currentInput.css({left:e.pageX-t.left-r.width()+10,top:e.pageY-t.top-r.height()+10})}),o.queueID?s.queueEl=e("#"+o.queueID):(o.queueID=o.id+"-queue",s.queueEl=e('<div id="'+o.queueID+'" class="uploadifive-queue" />'),s.button.after(s.queueEl));if(o.dnd){var a=o.dropTarget?e(o.dropTarget):s.queueEl.get(0);a.addEventListener("dragleave",function(e){e.preventDefault(),e.stopPropagation()},!1),a.addEventListener("dragenter",function(e){e.preventDefault(),e.stopPropagation()},!1),a.addEventListener("dragover",function(e){e.preventDefault(),e.stopPropagation()},!1),a.addEventListener("drop",s.drop,!1)}XMLHttpRequest.prototype.sendAsBinary||(XMLHttpRequest.prototype.sendAsBinary=function(e){function t(e){return e.charCodeAt(0)&255}var n=Array.prototype.map.call(e,t),r=new Uint8Array(n);this.send(r.buffer)}),typeof o.onInit=="function"&&o.onInit.call(r)})},debug:function(){return this.each(function(){console.log(e(this).data("uploadifive"))})},clearQueue:function(){this.each(function(){var n=e(this),r=n.data("uploadifive"),s=r.settings;for(var o in r.inputs){input=r.inputs[o],limit=input.files.length;for(i=0;i<limit;i++)file=input.files[i],t.cancel.call(n,file)}typeof s.onClearQueue=="function"&&s.onClearQueue.call(n,e("#"+r.options.queueID))})},cancel:function(n,r){this.each(function(){var i=e(this),s=i.data("uploadifive"),o=s.settings;typeof n=="string"&&(isNaN(n)||(fileID="uploadifive-"+e(this).attr("id")+"-file-"+n),n=e("#"+fileID).data("file")),n.skip=!0,s.filesCancelled++,n.uploading&&(s.uploads.current--,n.uploading=!1,n.xhr.abort(),delete n.xhr,t.upload.call(i)),e.inArray("onCancel",o.overrideEvents)<0&&s.removeQueueItem(n,r),typeof o.onCancel=="function"&&o.onCancel.call(i,n)})},upload:function(t,n){this.each(function(){var r=e(this),i=r.data("uploadifive"),s=i.settings;if(t)i.uploadFile.call(r,t);else if(i.uploads.count+i.uploads.current<s.uploadLimit||s.uploadLimit==0){if(!n){i.uploads.attempted=0,i.uploads.successsful=0,i.uploads.errors=0;var o=i.filesToUpload();typeof s.onUpload=="function"&&s.onUpload.call(r,o)}e("#"+s.queueID).find(".uploadifive-queue-item").not(".error, .complete").each(function(){_file=e(this).data("file");if(i.uploads.current>=s.simUploadLimit&&s.simUploadLimit!==0||i.uploads.current>=s.uploadLimit&&s.uploadLimit!==0||i.uploads.count>=s.uploadLimit&&s.uploadLimit!==0)return!1;s.checkScript?(_file.checking=!0,skipFile=i.checkExists(_file),_file.checking=!1,skipFile||i.uploadFile(_file,!0)):i.uploadFile(_file,!0)}),e("#"+s.queueID).find(".uploadifive-queue-item").not(".error, .complete").size()==0&&i.queueComplete()}else i.uploads.current==0&&(e.inArray("onError",s.overrideEvents)<0&&i.filesToUpload()>0&&s.uploadLimit!=0&&alert("The maximum upload limit has been reached."),typeof s.onError=="function"&&s.onError.call(r,"UPLOAD_LIMIT_EXCEEDED",i.filesToUpload()))})},destroy:function(){this.each(function(){var n=e(this),r=n.data("uploadifive"),i=r.settings;t.clearQueue.call(n),i.queueID||e("#"+i.queueID).remove(),n.siblings("input").remove(),n.show().insertBefore(r.button),r.button.remove(),typeof i.onDestroy=="function"&&i.onDestroy.call(n)})}};e.fn.uploadifive=function(n){if(t[n])return t[n].apply(this,Array.prototype.slice.call(arguments,1));if(typeof n=="object"||!n)return t.init.apply(this,arguments);e.error("The method "+n+" does not exist in $.uploadify")}}(jQuery),function(e){function r(t){var n=t||window.event,r=[].slice.call(arguments,1),i=0,s=!0,o=0,u=0;return t=e.event.fix(n),t.type="mousewheel",n.wheelDelta&&(i=n.wheelDelta/120),n.detail&&(i=-n.detail/3),u=i,n.axis!==undefined&&n.axis===n.HORIZONTAL_AXIS&&(u=0,o=-1*i),n.wheelDeltaY!==undefined&&(u=n.wheelDeltaY/120),n.wheelDeltaX!==undefined&&(o=-1*n.wheelDeltaX/120),r.unshift(t,i,o,u),(e.event.dispatch||e.event.handle).apply(this,r)}var t=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks)for(var n=t.length;n;)e.event.fixHooks[t[--n]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],r,!1);else this.onmousewheel=r},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],r,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery);var buckets={};buckets.defaultCompare=function(e,t){return e<t?-1:e===t?0:1},buckets.defaultEquals=function(e,t){return e===t},buckets.defaultToString=function(e){return e===null?"BUCKETS_NULL":buckets.isUndefined(e)?"BUCKETS_UNDEFINED":buckets.isString(e)?e:e.toString()},buckets.isFunction=function(e){return typeof e=="function"},buckets.isUndefined=function(e){return typeof e=="undefined"},buckets.isString=function(e){return Object.prototype.toString.call(e)==="[object String]"},buckets.reverseCompareFunction=function(e){return buckets.isFunction(e)?function(t,n){return e(t,n)*-1}:function(e,t){return e<t?1:e===t?0:-1}},buckets.compareToEquals=function(e){return function(t,n){return e(t,n)===0}},buckets.arrays={},buckets.arrays.indexOf=function(e,t,n){var r=n||buckets.defaultEquals,i=e.length;for(var s=0;s<i;s++)if(r(e[s],t))return s;return-1},buckets.arrays.lastIndexOf=function(e,t,n){var r=n||buckets.defaultEquals,i=e.length;for(var s=i-1;s>=0;s--)if(r(e[s],t))return s;return-1},buckets.arrays.contains=function(e,t,n){return buckets.arrays.indexOf(e,t,n)>=0},buckets.arrays.remove=function(e,t,n){var r=buckets.arrays.indexOf(e,t,n);return r<0?!1:(e.splice(r,1),!0)},buckets.arrays.frequency=function(e,t,n){var r=n||buckets.defaultEquals,i=e.length,s=0;for(var o=0;o<i;o++)r(e[o],t)&&s++;return s},buckets.arrays.equals=function(e,t,n){var r=n||buckets.defaultEquals;if(e.length!==t.length)return!1;var i=e.length;for(var s=0;s<i;s++)if(!r(e[s],t[s]))return!1;return!0},buckets.arrays.copy=function(e){return e.concat()},buckets.arrays.swap=function(e,t,n){if(t<0||t>=e.length||n<0||n>=e.length)return!1;var r=e[t];return e[t]=e[n],e[n]=r,!0},buckets.arrays.forEach=function(e,t){var n=e.length;for(var r=0;r<n;r++)if(t(e[r])===!1)return},buckets.LinkedList=function(){this.firstNode=null,this.lastNode=null,this.nElements=0},buckets.LinkedList.prototype.add=function(e,t){buckets.isUndefined(t)&&(t=this.nElements);if(t<0||t>this.nElements||buckets.isUndefined(e))return!1;var n=this.createNode(e);if(this.nElements===0)this.firstNode=n,this.lastNode=n;else if(t===this.nElements)this.lastNode.next=n,this.lastNode=n;else if(t===0)n.next=this.firstNode,this.firstNode=n;else{var r=this.nodeAtIndex(t-1);n.next=r.next,r.next=n}return this.nElements++,!0},buckets.LinkedList.prototype.first=function(){return this.firstNode!==null?this.firstNode.element:undefined},buckets.LinkedList.prototype.last=function(){return this.lastNode!==null?this.lastNode.element:undefined},buckets.LinkedList.prototype.elementAtIndex=function(e){var t=this.nodeAtIndex(e);return t===null?undefined:t.element},buckets.LinkedList.prototype.indexOf=function(e,t){var n=t||buckets.defaultEquals;if(buckets.isUndefined(e))return-1;var r=this.firstNode,i=0;while(r!==null){if(n(r.element,e))return i;i++,r=r.next}return-1},buckets.LinkedList.prototype.contains=function(e,t){return this.indexOf(e,t)>=0},buckets.LinkedList.prototype.remove=function(e,t){var n=t||buckets.defaultEquals;if(this.nElements<1||buckets.isUndefined(e))return!1;var r=null,i=this.firstNode;while(i!==null){if(n(i.element,e))return i===this.firstNode?(this.firstNode=this.firstNode.next,i===this.lastNode&&(this.lastNode=null)):i===this.lastNode?(this.lastNode=r,r.next=i.next,i.next=null):(r.next=i.next,i.next=null),this.nElements--,!0;r=i,i=i.next}return!1},buckets.LinkedList.prototype.clear=function(){this.firstNode=null,this.lastNode=null,this.nElements=0},buckets.LinkedList.prototype.equals=function(e,t){var n=t||buckets.defaultEquals;return e instanceof buckets.LinkedList?this.size()!==e.size()?!1:this.equalsAux(this.firstNode,e.firstNode,n):!1},buckets.LinkedList.prototype.equalsAux=function(e,t,n){while(e!==null){if(!n(e.element,t.element))return!1;e=e.next,t=t.next}return!0},buckets.LinkedList.prototype.removeElementAtIndex=function(e){if(e<0||e>=this.nElements)return undefined;var t;if(this.nElements===1)t=this.firstNode.element,this.firstNode=null,this.lastNode=null;else{var n=this.nodeAtIndex(e-1);n===null?(t=this.firstNode.element,this.firstNode=this.firstNode.next):n.next===this.lastNode&&(t=this.lastNode.element,this.lastNode=n),n!==null&&(t=n.next.element,n.next=n.next.next)}return this.nElements--,t},buckets.LinkedList.prototype.forEach=function(e){var t=this.firstNode;while(t!==null){if(e(t.element)===!1)break;t=t.next}},buckets.LinkedList.prototype.reverse=function(){var e=null,t=this.firstNode,n=null;while(t!==null)n=t.next,t.next=e,e=t,t=n;n=this.firstNode,this.firstNode=this.lastNode,this.lastNode=n},buckets.LinkedList.prototype.toArray=function(){var e=[],t=this.firstNode;while(t!==null)e.push(t.element),t=t.next;return e},buckets.LinkedList.prototype.size=function(){return this.nElements},buckets.LinkedList.prototype.isEmpty=function(){return this.nElements<=0},buckets.LinkedList.prototype.nodeAtIndex=function(e){if(e<0||e>=this.nElements)return null;if(e===this.nElements-1)return this.lastNode;var t=this.firstNode;for(var n=0;n<e;n++)t=t.next;return t},buckets.LinkedList.prototype.createNode=function(e){return{element:e,next:null}},buckets.Dictionary=function(e){this.table={},this.nElements=0,this.toStr=e||buckets.defaultToString},buckets.Dictionary.prototype.get=function(e){var t=this.table[this.toStr(e)];return buckets.isUndefined(t)?undefined:t.value},buckets.Dictionary.prototype.set=function(e,t){if(buckets.isUndefined(e)||buckets.isUndefined(t))return undefined;var n,r=this.toStr(e),i=this.table[r];return buckets.isUndefined(i)?(this.nElements++,n=undefined):n=i.value,this.table[r]={key:e,value:t},n},buckets.Dictionary.prototype.remove=function(e){var t=this.toStr(e),n=this.table[t];return buckets.isUndefined(n)?undefined:(delete this.table[t],this.nElements--,n.value)},buckets.Dictionary.prototype.keys=function(){var e=[];for(var t in this.table)this.table.hasOwnProperty(t)&&e.push(this.table[t].key);return e},buckets.Dictionary.prototype.values=function(){var e=[];for(var t in this.table)this.table.hasOwnProperty(t)&&e.push(this.table[t].value);return e},buckets.Dictionary.prototype.forEach=function(e){for(var t in this.table)if(this.table.hasOwnProperty(t)){var n=this.table[t],r=e(n.key,n.value);if(r===!1)return}},buckets.Dictionary.prototype.containsKey=function(e){return!buckets.isUndefined(this.get(e))},buckets.Dictionary.prototype.clear=function(){this.table={},this.nElements=0},buckets.Dictionary.prototype.size=function(){return this.nElements},buckets.Dictionary.prototype.isEmpty=function(){return this.nElements<=0},buckets.MultiDictionary=function(e,t){this.parent=new buckets.Dictionary(e),this.equalsF=t||buckets.defaultEquals},buckets.MultiDictionary.prototype.get=function(e){var t=this.parent.get(e);return buckets.isUndefined(t)?[]:buckets.arrays.copy(t)},buckets.MultiDictionary.prototype.set=function(e,t){if(buckets.isUndefined(e)||buckets.isUndefined(t))return!1;if(!this.containsKey(e))return this.parent.set(e,[t]),!0;var n=this.parent.get(e);return buckets.arrays.contains(n,t,this.equalsF)?!1:(n.push(t),!0)},buckets.MultiDictionary.prototype.remove=function(e,t){if(buckets.isUndefined(t)){var n=this.parent.remove(e);return buckets.isUndefined(n)?!1:!0}var r=this.parent.get(e);return buckets.arrays.remove(r,t,this.equalsF)?(r.length===0&&this.parent.remove(e),!0):!1},buckets.MultiDictionary.prototype.keys=function(){return this.parent.keys()},buckets.MultiDictionary.prototype.values=function(){var e=this.parent.values(),t=[];for(var n=0;n<e.length;n++){var r=e[n];for(var i=0;i<r.length;i++)t.push(r[i])}return t},buckets.MultiDictionary.prototype.containsKey=function(e){return this.parent.containsKey(e)},buckets.MultiDictionary.prototype.clear=function(){return this.parent.clear()},buckets.MultiDictionary.prototype.size=function(){return this.parent.size()},buckets.MultiDictionary.prototype.isEmpty=function(){return this.parent.isEmpty()},buckets.Heap=function(e){this.data=[],this.compare=e||buckets.defaultCompare},buckets.Heap.prototype.leftChildIndex=function(e){return 2*e+1},buckets.Heap.prototype.rightChildIndex=function(e){return 2*e+2},buckets.Heap.prototype.parentIndex=function(e){return Math.floor((e-1)/2)},buckets.Heap.prototype.minIndex=function(e,t){return t>=this.data.length?e>=this.data.length?-1:e:this.compare(this.data[e],this.data[t])<=0?e:t},buckets.Heap.prototype.siftUp=function(e){var t=this.parentIndex(e);while(e>0&&this.compare(this.data[t],this.data[e])>0)buckets.arrays.swap(this.data,t,e),e=t,t=this.parentIndex(e)},buckets.Heap.prototype.siftDown=function(e){var t=this.minIndex(this.leftChildIndex(e),this.rightChildIndex(e));while(t>=0&&this.compare(this.data[e],this.data[t])>0)buckets.arrays.swap(this.data,t,e),e=t,t=this.minIndex(this.leftChildIndex(e),this.rightChildIndex(e))},buckets.Heap.prototype.peek=function(){return this.data.length>0?this.data[0]:undefined},buckets.Heap.prototype.add=function(e){return buckets.isUndefined(e)?undefined:(this.data.push(e),this.siftUp(this.data.length-1),!0)},buckets.Heap.prototype.removeRoot=function(){if(this.data.length>0){var e=this.data[0];return this.data[0]=this.data[this.data.length-1],this.data.splice(this.data.length-1,1),this.data.length>0&&this.siftDown(0),e}return undefined},buckets.Heap.prototype.contains=function(e){var t=buckets.compareToEquals(this.compare);return buckets.arrays.contains(this.data,e,t)},buckets.Heap.prototype.size=function(){return this.data.length},buckets.Heap.prototype.isEmpty=function(){return this.data.length<=0},buckets.Heap.prototype.clear=function(){this.data.length=0},buckets.Heap.prototype.forEach=function(e){buckets.arrays.forEach(this.data,e)},buckets.Stack=function(){this.list=new buckets.LinkedList},buckets.Stack.prototype.push=function(e){return this.list.add(e,0)},buckets.Stack.prototype.add=function(e){return this.list.add(e,0)},buckets.Stack.prototype.pop=function(){return this.list.removeElementAtIndex(0)},buckets.Stack.prototype.peek=function(){return this.list.first()},buckets.Stack.prototype.size=function(){return this.list.size()},buckets.Stack.prototype.contains=function(e,t){return this.list.contains(e,t)},buckets.Stack.prototype.isEmpty=function(){return this.list.isEmpty()},buckets.Stack.prototype.clear=function(){this.list.clear()},buckets.Stack.prototype.forEach=function(e){this.list.forEach(e)},buckets.Queue=function(){this.list=new buckets.LinkedList},buckets.Queue.prototype.enqueue=function(e){return this.list.add(e)},buckets.Queue.prototype.add=function(e){return this.list.add(e)},buckets.Queue.prototype.dequeue=function(){if(this.list.size()!==0){var e=this.list.first();return this.list.removeElementAtIndex(0),e}return undefined},buckets.Queue.prototype.peek=function(){return this.list.size()!==0?this.list.first():undefined},buckets.Queue.prototype.size=function(){return this.list.size()},buckets.Queue.prototype.contains=function(e,t){return this.list.contains(e,t)},buckets.Queue.prototype.isEmpty=function(){return this.list.size()<=0},buckets.Queue.prototype.clear=function(){this.list.clear()},buckets.Queue.prototype.forEach=function(e){this.list.forEach(e)},buckets.PriorityQueue=function(e){this.heap=new buckets.Heap(buckets.reverseCompareFunction(e))},buckets.PriorityQueue.prototype.enqueue=function(e){return this.heap.add(e)},buckets.PriorityQueue.prototype.add=function(e){return this.heap.add(e)},buckets.PriorityQueue.prototype.dequeue=function(){if(this.heap.size()!==0){var e=this.heap.peek();return this.heap.removeRoot(),e}return undefined},buckets.PriorityQueue.prototype.peek=function(){return this.heap.peek()},buckets.PriorityQueue.prototype.contains=function(e){return this.heap.contains(e)},buckets.PriorityQueue.prototype.isEmpty=function(){return this.heap.isEmpty()},buckets.PriorityQueue.prototype.size=function(){return this.heap.size()},buckets.PriorityQueue.prototype.clear=function(){this.heap.clear()},buckets.PriorityQueue.prototype.forEach=function(e){buckets.heap.forEach(e)},buckets.Set=function(e){this.dictionary=new buckets.Dictionary(e)},buckets.Set.prototype.contains=function(e){return this.dictionary.containsKey(e)},buckets.Set.prototype.add=function(e){return this.contains(e)||buckets.isUndefined(e)?!1:(this.dictionary.set(e,e),!0)},buckets.Set.prototype.intersection=function(e){var t=this;this.forEach(function(n){e.contains(n)||t.remove(n)})},buckets.Set.prototype.union=function(e){var t=this;e.forEach(function(e){t.add(e)})},buckets.Set.prototype.difference=function(e){var t=this;e.forEach(function(e){t.remove(e)})},buckets.Set.prototype.isSubsetOf=function(e){return this.size()>e.size()?!1:(this.forEach(function(t){if(!e.contains(t))return!1}),!0)},buckets.Set.prototype.remove=function(e){return this.contains(e)?(this.dictionary.remove(e),!0):!1},buckets.Set.prototype.forEach=function(e){this.dictionary.forEach(function(t,n){return e(n)})},buckets.Set.prototype.toArray=function(){return this.dictionary.values()},buckets.Set.prototype.isEmpty=function(){return this.dictionary.isEmpty()},buckets.Set.prototype.size=function(){return this.dictionary.size()},buckets.Set.prototype.clear=function(){this.dictionary.clear()},buckets.Bag=function(e){this.toStrF=e||buckets.defaultToString,this.dictionary=new buckets.Dictionary(this.toStrF),this.nElements=0},buckets.Bag.prototype.add=function(e,t){if(isNaN(t)||buckets.isUndefined(t))t=1;if(buckets.isUndefined(e)||t<=0)return!1;if(!this.contains(e)){var n={value:e,copies:t};this.dictionary.set(e,n)}else this.dictionary.get(e).copies+=t;return this.nElements+=t,!0},buckets.Bag.prototype.count=function(e){return this.contains(e)?this.dictionary.get(e).copies:0},buckets.Bag.prototype.contains=function(e){return this.dictionary.containsKey(e)},buckets.Bag.prototype.remove=function(e,t){if(isNaN(t)||buckets.isUndefined(t))t=1;if(buckets.isUndefined(e)||t<=0)return!1;if(!this.contains(e))return!1;var n=this.dictionary.get(e);return t>n.copies?this.nElements-=n.copies:this.nElements-=t,n.copies-=t,n.copies<=0&&this.dictionary.remove(e),!0},buckets.Bag.prototype.toArray=function(){var e=[],t=this.dictionary.values(),n=t.length;for(var r=0;r<n;r++){var i=t[r],s=i.value,o=i.copies;for(var u=0;u<o;u++)e.push(s)}return e},buckets.Bag.prototype.toSet=function(){var e=new buckets.Set(this.toStrF),t=this.dictionary.values(),n=t.length;for(var r=0;r<n;r++){var i=t[r].value;e.add(i)}return e},buckets.Bag.prototype.forEach=function(e){this.dictionary.forEach(function(t,n){var r=n.value,i=n.copies;for(var s=0;s<i;s++)if(e(r)===!1)return!1;return!0})},buckets.Bag.prototype.size=function(){return this.nElements},buckets.Bag.prototype.isEmpty=function(){return this.nElements===0},buckets.Bag.prototype.clear=function(){this.nElements=0,this.dictionary.clear()},buckets.BSTree=function(e){this.root=null,this.compare=e||buckets.defaultCompare,this.nElements=0},buckets.BSTree.prototype.add=function(e){return buckets.isUndefined(e)?!1:this.insertNode(this.createNode(e))!==null?(this.nElements++,!0):!1},buckets.BSTree.prototype.clear=function(){this.root=null,this.nElements=0},buckets.BSTree.prototype.isEmpty=function(){return this.nElements===0},buckets.BSTree.prototype.size=function(){return this.nElements},buckets.BSTree.prototype.contains=function(e){return buckets.isUndefined(e)?!1:this.searchNode(this.root,e)!==null},buckets.BSTree.prototype.remove=function(e){var t=this.searchNode(this.root,e);return t===null?!1:(this.removeNode(t),this.nElements--,!0)},buckets.BSTree.prototype.inorderTraversal=function(e){this.inorderTraversalAux(this.root,e,{stop:!1})},buckets.BSTree.prototype.preorderTraversal=function(e){this.preorderTraversalAux(this.root,e,{stop:!1})},buckets.BSTree.prototype.postorderTraversal=function(e){this.postorderTraversalAux(this.root,e,{stop:!1})},buckets.BSTree.prototype.levelTraversal=function(e){this.levelTraversalAux(this.root,e)},buckets.BSTree.prototype.minimum=function(){return this.isEmpty()?undefined:this.minimumAux(this.root).element},buckets.BSTree.prototype.maximum=function(){return this.isEmpty()?undefined:this.maximumAux(this.root).element},buckets.BSTree.prototype.forEach=function(e){this.inorderTraversal(e)},buckets.BSTree.prototype.toArray=function(){var e=[];return this.inorderTraversal(function(t){e.push(t)}),e},buckets.BSTree.prototype.height=function(){return this.heightAux(this.root)},buckets.BSTree.prototype.searchNode=function(e,t){var n=null;while(e!==null&&n!==0)n=this.compare(t,e.element),n<0?e=e.leftCh:n>0&&(e=e.rightCh);return e},buckets.BSTree.prototype.transplant=function(e,t){e.parent===null?this.root=t:e===e.parent.leftCh?e.parent.leftCh=t:e.parent.rightCh=t,t!==null&&(t.parent=e.parent)},buckets.BSTree.prototype.removeNode=function(e){if(e.leftCh===null)this.transplant(e,e.rightCh);else if(e.rightCh===null)this.transplant(e,e.leftCh);else{var t=this.minimumAux(e.rightCh);t.parent!==e&&(this.transplant(t,t.rightCh),t.rightCh=e.rightCh,t.rightCh.parent=t),this.transplant(e,t),t.leftCh=e.leftCh,t.leftCh.parent=t}},buckets.BSTree.prototype.inorderTraversalAux=function(e,t,n){if(e===null||n.stop)return;this.inorderTraversalAux(e.leftCh,t,n);if(n.stop)return;n.stop=t(e.element)===!1;if(n.stop)return;this.inorderTraversalAux(e.rightCh,t,n)},buckets.BSTree.prototype.levelTraversalAux=function(e,t){var n=new buckets.Queue;e!==null&&n.enqueue(e);while(!n.isEmpty()){e=n.dequeue();if(t(e.element)===!1)return;e.leftCh!==null&&n.enqueue(e.leftCh),e.rightCh!==null&&n.enqueue(e.rightCh)}},buckets.BSTree.prototype.preorderTraversalAux=function(e,t,n){if(e===null||n.stop)return;n.stop=t(e.element)===!1;if(n.stop)return;this.preorderTraversalAux(e.leftCh,t,n);if(n.stop)return;this.preorderTraversalAux(e.rightCh,t,n)},buckets.BSTree.prototype.postorderTraversalAux=function(e,t,n){if(e===null||n.stop)return;this.postorderTraversalAux(e.leftCh,t,n);if(n.stop)return;this.postorderTraversalAux(e.rightCh,t,n);if(n.stop)return;n.stop=t(e.element)===!1},buckets.BSTree.prototype.minimumAux=function(e){while(e.leftCh!==null)e=e.leftCh;return e},buckets.BSTree.prototype.maximumAux=function(e){while(e.rightCh!==null)e=e.rightCh;return e},buckets.BSTree.prototype.successorNode=function(e){if(e.rightCh!==null)return this.minimumAux(e.rightCh);var t=e.parent;while(t!==null&&e===t.rightCh)e=t,t=e.parent;return t},buckets.BSTree.prototype.heightAux=function(e){return e===null?-1:Math.max(this.heightAux(e.leftCh),this.heightAux(e.rightCh))+1},buckets.BSTree.prototype.insertNode=function(e){var t=null,n=this.root,r=null;while(n!==null){r=this.compare(e.element,n.element);if(r===0)return null;r<0?(t=n,n=n.leftCh):(t=n,n=n.rightCh)}return e.parent=t,t===null?this.root=e:this.compare(e.element,t.element)<0?t.leftCh=e:t.rightCh=e,e},buckets.BSTree.prototype.createNode=function(e){return{element:e,leftCh:null,rightCh:null,parent:null}},function(){function r(e,t){try{for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}catch(r){e.prototype=t}}function s(e){var t=-1,n=e.length,r=[];while(++t<n)r.push(e[t]);return r}function o(e){return Array.prototype.slice.call(e)}function f(){}function h(){return this}function p(e,t,n){return function(){var r=n.apply(t,arguments);return arguments.length?e:r}}function v(e){return e!=null&&!isNaN(e)}function m(e){return e.length}function y(e){return e==null}function b(e){return e.replace(/(^\s+)|(\s+$)/g,"").replace(/\s+/g," ")}function w(e){var t=1;while(e*t%1)t*=10;return t}function x(){}function T(e){function r(){var n=t,r=-1,i=n.length,s;while(++r<i)(s=n[r].on)&&s.apply(this,arguments);return e}var t=[],n=new f;return r.on=function(r,i){var s=n.get(r),o;return arguments.length<2?s&&s.on:(s&&(s.on=null,t=t.slice(0,o=t.indexOf(s)).concat(t.slice(o+1)),n.remove(r)),i&&t.push(n.set(r,{on:i})),e)},r}function k(e,t){return t-(e?1+Math.floor(Math.log(e+Math.pow(10,1+Math.floor(Math.log(e)/Math.LN10)-t))/Math.LN10):1)}function L(e){return e+""}function A(e){var t=e.lastIndexOf("."),n=t>=0?e.substring(t):(t=e.length,""),r=[];while(t>0)r.push(e.substring(t-=3,t+3));return r.reverse().join(",")+n}function M(e,t){return{scale:Math.pow(10,(8-t)*3),symbol:e}}function j(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function F(e){return function(t){return 1-e(1-t)}}function I(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function q(e){return e}function R(e){return function(t){return Math.pow(t,e)}}function U(e){return 1-Math.cos(e*Math.PI/2)}function z(e){return Math.pow(2,10*(e-1))}function W(e){return 1-Math.sqrt(1-e*e)}function X(e,t){var n;return arguments.length<2&&(t=.45),arguments.length<1?(e=1,n=t/4):n=t/(2*Math.PI)*Math.asin(1/e),function(r){return 1+e*Math.pow(2,10*-r)*Math.sin((r-n)*2*Math.PI/t)}}function V(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function $(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function J(){d3.event.stopPropagation(),d3.event.preventDefault()}function K(){var e=d3.event,t;while(t=e.sourceEvent)e=t;return e}function Q(e){var t=new x,n=0,r=arguments.length;while(++n<r)t[arguments[n]]=T(t);return t.of=function(n,r){return function(i){try{var s=i.sourceEvent=d3.event;i.target=e,d3.event=i,t[i.type].apply(n,r)}finally{d3.event=s}}},t}function Y(e){return e=="transform"?d3.interpolateTransform:d3.interpolate}function Z(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return(n-e)*t}}function et(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return Math.max(0,Math.min(1,(n-e)*t))}}function tt(e,t,n){return new nt(e,t,n)}function nt(e,t,n){this.r=e,this.g=t,this.b=n}function rt(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function it(e,t,n){var r=0,i=0,s=0,o,u,a;o=/([a-z]+)\((.*)\)/i.exec(e);if(o){u=o[2].split(",");switch(o[1]){case"hsl":return n(parseFloat(u[0]),parseFloat(u[1])/100,parseFloat(u[2])/100);case"rgb":return t(ot(u[0]),ot(u[1]),ot(u[2]))}}return(a=ut.get(e))?t(a.r,a.g,a.b):(e!=null&&e.charAt(0)==="#"&&(e.length===4?(r=e.charAt(1),r+=r,i=e.charAt(2),i+=i,s=e.charAt(3),s+=s):e.length===7&&(r=e.substring(1,3),i=e.substring(3,5),s=e.substring(5,7)),r=parseInt(r,16),i=parseInt(i,16),s=parseInt(s,16)),t(r,i,s))}function st(e,t,n){var r=Math.min(e/=255,t/=255,n/=255),i=Math.max(e,t,n),s=i-r,o,u,a=(i+r)/2;return s?(u=a<.5?s/(i+r):s/(2-i-r),e==i?o=(t-n)/s+(t<n?6:0):t==i?o=(n-e)/s+2:o=(e-t)/s+4,o*=60):u=o=0,at(o,u,a)}function ot(e){var t=parseFloat(e);return e.charAt(e.length-1)==="%"?Math.round(t*2.55):t}function at(e,t,n){return new ft(e,t,n)}function ft(e,t,n){this.h=e,this.s=t,this.l=n}function lt(e,t,n){function s(e){return e>360?e-=360:e<0&&(e+=360),e<60?r+(i-r)*e/60:e<180?i:e<240?r+(i-r)*(240-e)/60:r}function o(e){return Math.round(s(e)*255)}var r,i;return e%=360,e<0&&(e+=360),t=t<0?0:t>1?1:t,n=n<0?0:n>1?1:n,i=n<=.5?n*(1+t):n+t-n*t,r=2*n-i,tt(o(e+120),o(e),o(e-120))}function ct(e){return a(e,gt),e}function yt(e){return function(){return ht(e,this)}}function bt(e){return function(){return pt(e,this)}}function Et(e,t){function s(){if(t=this.classList)return t.add(e);var t=this.className,r=t.baseVal!=null,i=r?t.baseVal:t;n.lastIndex=0,n.test(i)||(i=b(i+" "+e),r?t.baseVal=i:this.className=i)}function o(){if(t=this.classList)return t.remove(e);var t=this.className,r=t.baseVal!=null,i=r?t.baseVal:t;i=b(i.replace(n," ")),r?t.baseVal=i:this.className=i}function u(){(t.apply(this,arguments)?s:o).call(this)}var n=new RegExp("(^|\\s+)"+d3.requote(e)+"(\\s+|$)","g");if(arguments.length<2){var r=this.node();if(i=r.classList)return i.contains(e);var i=r.className;return n.lastIndex=0,n.test(i.baseVal!=null?i.baseVal:i)}return this.each(typeof t=="function"?u:t?s:o)}function St(e){return{__data__:e}}function xt(e){return function(){return mt(this,e)}}function Tt(e){return arguments.length||(e=d3.ascending),function(t,n){return e(t&&t.__data__,n&&n.__data__)}}function Ct(e){return a(e,kt),e}function Lt(e,t,n){a(e,_t);var r=new f,i=d3.dispatch("start","end"),s=qt;return e.id=t,e.time=n,e.tween=function(t,n){return arguments.length<2?r.get(t):(n==null?r.remove(t):r.set(t,n),e)},e.ease=function(t){return arguments.length?(s=typeof t=="function"?t:d3.ease.apply(d3,arguments),e):s},e.each=function(t,n){return arguments.length<2?Rt.call(e,t):(i.on(t,n),e)},d3.timer(function(o){return e.each(function(u,a,f){function v(e){return d.active>t?g():(d.active=t,r.forEach(function(e,t){(tween=t.call(c,u,a))&&l.push(tween)}),i.start.call(c,u,a),m(e)||d3.timer(m,0,n),1)}function m(e){if(d.active!==t)return g();var n=(e-h)/p,r=s(n),o=l.length;while(o>0)l[--o].call(c,r);if(n>=1)return g(),Pt=t,i.end.call(c,u,a),Pt=0,1}function g(){return--d.count||delete c.__transition__,1}var l=[],c=this,h=e[f][a].delay,p=e[f][a].duration,d=c.__transition__||(c.__transition__={active:0,count:0});++d.count,h<=o?v(o):d3.timer(v,h,n)}),1},0,n),e}function Ot(e,t,n){return n!=""&&At}function Mt(e,t){function r(e,r,i){var s=t.call(this,e,r);return s==null?i!=""&&At:i!=s&&n(i,s)}function i(e,r,i){return i!=t&&n(i,t)}var n=Y(e);return typeof t=="function"?r:t==null?Ot:(t+="",i)}function Rt(e){var t=Pt,n=qt,r=Ft,i=It;Pt=this.id,qt=this.ease();for(var s=0,o=this.length;s<o;s++)for(var u=this[s],a=0,f=u.length;a<f;a++){var l=u[a];l&&(Ft=this[s][a].delay,It=this[s][a].duration,e.call(l=l.node,l.__data__,a,s))}return Pt=t,qt=n,Ft=r,It=i,this}function Xt(){var e,t=Date.now(),n=Ut;while(n)e=t-n.then,e>=n.delay&&(n.flush=n.callback(e)),n=n.next;var r=Vt()-t;r>24?(isFinite(r)&&(clearTimeout(Wt),Wt=setTimeout(Xt,r)),zt=0):(zt=1,$t(Xt))}function Vt(){var e=null,t=Ut,n=Infinity;while(t)t.flush?t=e?e.next=t.next:Ut=t.next:(n=Math.min(n,t.then+t.delay),t=(e=t).next);return n}function Jt(e){var t=[e.a,e.b],n=[e.c,e.d],r=Qt(t),i=Kt(t,n),s=Qt(Gt(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Yt,this.translate=[e.e,e.f],this.scale=[r,s],this.skew=s?Math.atan2(i,s)*Yt:0}function Kt(e,t){return e[0]*t[0]+e[1]*t[1]}function Qt(e){var t=Math.sqrt(Kt(e,e));return t&&(e[0]/=t,e[1]/=t),t}function Gt(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function en(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();if(Zt<0&&(window.scrollX||window.scrollY)){n=d3.select(document.body).append("svg").style("position","absolute").style("top",0).style("left",0);var i=n[0][0].getScreenCTM();Zt=!i.f&&!i.e,n.remove()}return Zt?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}function tn(){}function nn(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function rn(e){return e.rangeExtent?e.rangeExtent():nn(e.range())}function sn(e,t){var n=0,r=e.length-1,i=e[n],s=e[r],o;s<i&&(o=n,n=r,r=o,o=i,i=s,s=o);if(o=s-i)t=t(o),e[n]=t.floor(i),e[r]=t.ceil(s);return e}function on(){return Math}function un(e,t,n,r){function o(){var o=Math.min(e.length,t.length)>2?dn:pn,a=r?et:Z;return i=o(e,t,a,n),s=o(t,e,a,d3.interpolate),u}function u(e){return i(e)}var i,s;return u.invert=function(e){return s(e)},u.domain=function(t){return arguments.length?(e=t.map(Number),o()):e},u.range=function(e){return arguments.length?(t=e,o()):t},u.rangeRound=function(e){return u.range(e).interpolate(d3.interpolateRound)},u.clamp=function(e){return arguments.length?(r=e,o()):r},u.interpolate=function(e){return arguments.length?(n=e,o()):n},u.ticks=function(t){return cn(e,t)},u.tickFormat=function(t){return hn(e,t)},u.nice=function(){return sn(e,fn),o()},u.copy=function(){return un(e,t,n,r)},o()}function an(e,t){return d3.rebind(e,t,"range","rangeRound","interpolate","clamp")}function fn(e){return e=Math.pow(10,Math.round(Math.log(e)/Math.LN10)-1),{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}}function ln(e,t){var n=nn(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),s=t/r*i;return s<=.15?i*=10:s<=.35?i*=5:s<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+i*.5,n[2]=i,n}function cn(e,t){return d3.range.apply(d3,ln(e,t))}function hn(e,t){return d3.format(",."+Math.max(0,-Math.floor(Math.log(ln(e,t)[2])/Math.LN10+.01))+"f")}function pn(e,t,n,r){var i=n(e[0],e[1]),s=r(t[0],t[1]);return function(e){return s(i(e))}}function dn(e,t,n,r){var i=[],s=[],o=0,u=Math.min(e.length,t.length)-1;e[u]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());while(++o<=u)i.push(n(e[o-1],e[o])),s.push(r(t[o-1],t[o]));return function(t){var n=d3.bisect(e,t,1,u)-1;return s[n](i[n](t))}}function vn(e,t){function r(n){return e(t(n))}var n=t.pow;return r.invert=function(t){return n(e.invert(t))},r.domain=function(i){return arguments.length?(t=i[0]<0?yn:gn,n=t.pow,e.domain(i.map(t)),r):e.domain().map(n)},r.nice=function(){return e.domain(sn(e.domain(),on)),r},r.ticks=function(){var r=nn(e.domain()),i=[];if(r.every(isFinite)){var s=Math.floor(r[0]),o=Math.ceil(r[1]),u=n(r[0]),a=n(r[1]);if(t===yn){i.push(n(s));for(;s++<o;)for(var f=9;f>0;f--)i.push(n(s)*f)}else{for(;s<o;s++)for(var f=1;f<10;f++)i.push(n(s)*f);i.push(n(s))}for(s=0;i[s]<u;s++);for(o=i.length;i[o-1]>a;o--);i=i.slice(s,o)}return i},r.tickFormat=function(e,i){arguments.length<2&&(i=mn);if(arguments.length<1)return i;var s=e/r.ticks().length,o=t===yn?(u=-1e-12,Math.floor):(u=1e-12,Math.ceil),u;return function(e){return e/n(o(t(e)+u))<s?i(e):""}},r.copy=function(){return vn(e.copy(),t)},an(r,e)}function gn(e){return Math.log(e<0?0:e)/Math.LN10}function yn(e){return-Math.log(e>0?0:-e)/Math.LN10}function bn(e,t){function i(t){return e(n(t))}var n=wn(t),r=wn(1/t);return i.invert=function(t){return r(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain(t.map(n)),i):e.domain().map(r)},i.ticks=function(e){return cn(i.domain(),e)},i.tickFormat=function(e){return hn(i.domain(),e)},i.nice=function(){return i.domain(sn(i.domain(),fn))},i.exponent=function(e){if(!arguments.length)return t;var s=i.domain();return n=wn(t=e),r=wn(1/t),i.domain(s)},i.copy=function(){return bn(e.copy(),t)},an(i,e)}function wn(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function En(e,t){function s(t){return r[((n.get(t)||n.set(t,e.push(t)))-1)%r.length]}function o(t,n){return d3.range(e.length).map(function(e){return t+n*e})}var n,r,i;return s.domain=function(r){if(!arguments.length)return e;e=[],n=new f;var i=-1,o=r.length,u;while(++i<o)n.has(u=r[i])||n.set(u,e.push(u));return s[t.t](t.x,t.p)},s.range=function(e){return arguments.length?(r=e,i=0,t={t:"range",x:e},s):r},s.rangePoints=function(n,u){arguments.length<2&&(u=0);var a=n[0],f=n[1],l=(f-a)/(e.length-1+u);return r=o(e.length<2?(a+f)/2:a+l*u/2,l),i=0,t={t:"rangePoints",x:n,p:u},s},s.rangeBands=function(n,u){arguments.length<2&&(u=0);var a=n[1]<n[0],f=n[a-0],l=n[1-a],c=(l-f)/(e.length+u);return r=o(f+c*u,c),a&&r.reverse(),i=c*(1-u),t={t:"rangeBands",x:n,p:u},s},s.rangeRoundBands=function(n,u){arguments.length<2&&(u=0);var a=n[1]<n[0],f=n[a-0],l=n[1-a],c=Math.floor((l-f)/(e.length+u)),h=l-f-(e.length-u)*c;return r=o(f+Math.round(h/2),c),a&&r.reverse(),i=Math.round(c*(1-u)),t={t:"rangeRoundBands",x:n,p:u},s},s.rangeBand=function(){return i},s.rangeExtent=function(){return nn(t.x)},s.copy=function(){return En(e,t)},s.domain(e)}function Cn(e,t){function r(){var r=0,s=e.length,o=t.length;n=[];while(++r<o)n[r-1]=d3.quantile(e,r/o);return i}function i(e){return isNaN(e=+e)?NaN:t[d3.bisect(n,e)]}var n;return i.domain=function(t){return arguments.length?(e=t.filter(function(e){return!isNaN(e)}).sort(d3.ascending),r()):e},i.range=function(e){return arguments.length?(t=e,r()):t},i.quantiles=function(){return n},i.copy=function(){return Cn(e,t)},r()}function kn(e,t,n){function s(t){return n[Math.max(0,Math.min(i,Math.floor(r*(t-e))))]}function o(){return r=n.length/(t-e),i=n.length-1,s}var r,i;return s.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],o()):[e,t]},s.range=function(e){return arguments.length?(n=e,o()):n},s.copy=function(){return kn(e,t,n)},o()}function Ln(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return cn(e,t)},t.tickFormat=function(t){return hn(e,t)},t.copy=function(){return Ln(e)},t}function Mn(e){return e.innerRadius}function _n(e){return e.outerRadius}function Dn(e){return e.startAngle}function Pn(e){return e.endAngle}function Hn(e){function o(r){return r.length<1?null:"M"+i(e(Bn(this,r,t,n)),s)}var t=jn,n=Fn,r=In,i=qn.get(r),s=.7;return o.x=function(e){return arguments.length?(t=e,o):t},o.y=function(e){return arguments.length?(n=e,o):n},o.interpolate=function(e){return arguments.length?(qn.has(e+="")||(e=In),i=qn.get(r=e),o):r},o.tension=function(e){return arguments.length?(s=e,o):s},o}function Bn(e,t,n,r){var i=[],s=-1,o=t.length,u=typeof n=="function",a=typeof r=="function",f;if(u&&a)while(++s<o)i.push([n.call(e,f=t[s],s),r.call(e,f,s)]);else if(u)while(++s<o)i.push([n.call(e,t[s],s),r]);else if(a)while(++s<o)i.push([n,r.call(e,t[s],s)]);else while(++s<o)i.push([n,r]);return i}function jn(e){return e[0]}function Fn(e){return e[1]}function Rn(e){var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];while(++t<n)i.push("L",(r=e[t])[0],",",r[1]);return i.join("")}function Un(e){var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];while(++t<n)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function zn(e){var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];while(++t<n)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function Wn(e,t){return e.length<4?Rn(e):e[1]+$n(e.slice(1,e.length-1),Jn(e,t))}function Xn(e,t){return e.length<3?Rn(e):e[0]+$n((e.push(e[0]),e),Jn([e[e.length-2]].concat(e,[e[1]]),t))}function Vn(e,t,n){return e.length<3?Rn(e):e[0]+$n(e,Jn(e,t))}function $n(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return Rn(e);var n=e.length!=t.length,r="",i=e[0],s=e[1],o=t[0],u=o,a=1;n&&(r+="Q"+(s[0]-o[0]*2/3)+","+(s[1]-o[1]*2/3)+","+s[0]+","+s[1],i=e[1],a=2);if(t.length>1){u=t[1],s=e[a],a++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(s[0]-u[0])+","+(s[1]-u[1])+","+s[0]+","+s[1];for(var f=2;f<t.length;f++,a++)s=e[a],u=t[f],r+="S"+(s[0]-u[0])+","+(s[1]-u[1])+","+s[0]+","+s[1]}if(n){var l=e[a];r+="Q"+(s[0]+u[0]*2/3)+","+(s[1]+u[1]*2/3)+","+l[0]+","+l[1]}return r}function Jn(e,t){var n=[],r=(1-t)/2,i,s=e[0],o=e[1],u=1,a=e.length;while(++u<a)i=s,s=o,o=e[u],n.push([r*(o[0]-i[0]),r*(o[1]-i[1])]);return n}function Kn(e){if(e.length<3)return Rn(e);var t=1,n=e.length,r=e[0],i=r[0],s=r[1],o=[i,i,i,(r=e[1])[0]],u=[s,s,s,r[1]],a=[i,",",s];rr(a,o,u);while(++t<n)r=e[t],o.shift(),o.push(r[0]),u.shift(),u.push(r[1]),rr(a,o,u);t=-1;while(++t<2)o.shift(),o.push(r[0]),u.shift(),u.push(r[1]),rr(a,o,u);return a.join("")}function Qn(e){if(e.length<4)return Rn(e);var t=[],n=-1,r=e.length,i,s=[0],o=[0];while(++n<3)i=e[n],s.push(i[0]),o.push(i[1]);t.push(Zn(nr,s)+","+Zn(nr,o)),--n;while(++n<r)i=e[n],s.shift(),s.push(i[0]),o.shift(),o.push(i[1]),rr(t,s,o);return t.join("")}function Gn(e){var t,n=-1,r=e.length,i=r+4,s,o=[],u=[];while(++n<4)s=e[n%r],o.push(s[0]),u.push(s[1]);t=[Zn(nr,o),",",Zn(nr,u)],--n;while(++n<i)s=e[n%r],o.shift(),o.push(s[0]),u.shift(),u.push(s[1]),rr(t,o,u);return t.join("")}function Yn(e,t){var n=e.length-1,r=e[0][0],i=e[0][1],s=e[n][0]-r,o=e[n][1]-i,u=-1,a,f;while(++u<=n)a=e[u],f=u/n,a[0]=t*a[0]+(1-t)*(r+f*s),a[1]=t*a[1]+(1-t)*(i+f*o);return Kn(e)}function Zn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function rr(e,t,n){e.push("C",Zn(er,t),",",Zn(er,n),",",Zn(tr,t),",",Zn(tr,n),",",Zn(nr,t),",",Zn(nr,n))}function ir(e,t){return(t[1]-e[1])/(t[0]-e[0])}function sr(e){var t=0,n=e.length-1,r=[],i=e[0],s=e[1],o=r[0]=ir(i,s);while(++t<n)r[t]=o+(o=ir(i=s,s=e[t+1]));return r[t]=o,r}function or(e){var t=[],n,r,i,s,o=sr(e),u=-1,a=e.length-1;while(++u<a)n=ir(e[u],e[u+1]),Math.abs(n)<1e-6?o[u]=o[u+1]=0:(r=o[u]/n,i=o[u+1]/n,s=r*r+i*i,s>9&&(s=n*3/Math.sqrt(s),o[u]=s*r,o[u+1]=s*i));u=-1;while(++u<=a)s=(e[Math.min(a,u+1)][0]-e[Math.max(0,u-1)][0])/(6*(1+o[u]*o[u])),t.push([s||0,o[u]*s||0]);return t}function ur(e){return e.length<3?Rn(e):e[0]+$n(e,or(e))}function ar(e){var t,n=-1,r=e.length,i,s;while(++n<r)t=e[n],i=t[0],s=t[1]+An,t[0]=i*Math.cos(s),t[1]=i*Math.sin(s);return e}function fr(e){function f(s){if(s.length<1)return null;var f=Bn(this,s,t,r),l=Bn(this,s,t===n?lr(f):n,r===i?cr(f):i);return"M"+o(e(l),a)+"L"+u(e(f.reverse()),a)+"Z"}var t=jn,n=jn,r=0,i=Fn,s,o,u,a=.7;return f.x=function(e){return arguments.length?(t=n=e,f):n},f.x0=function(e){return arguments.length?(t=e,f):t},f.x1=function(e){return arguments.length?(n=e,f):n},f.y=function(e){return arguments.length?(r=i=e,f):i},f.y0=function(e){return arguments.length?(r=e,f):r},f.y1=function(e){return arguments.length?(i=e,f):i},f.interpolate=function(e){return arguments.length?(qn.has(e+="")||(e=In),o=qn.get(s=e),u=o.reverse||o,f):s},f.tension=function(e){return arguments.length?(a=e,f):a},f.interpolate("linear")}function lr(e){return function(t,n){return e[n][0]}}function cr(e){return function(t,n){return e[n][1]}}function hr(e){return e.source}function pr(e){return e.target}function dr(e){return e.radius}function vr(e){return e.startAngle}function mr(e){return e.endAngle}function gr(e){return[e.x,e.y]}function yr(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]+An;return[n*Math.cos(r),n*Math.sin(r)]}}function br(){return 64}function wr(){return"circle"}function Er(e){var t=Math.sqrt(e/Math.PI);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+ -t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Nr(e,t){e.attr("transform",function(e){return"translate("+t(e)+",0)"})}function Cr(e,t){e.attr("transform",function(e){return"translate(0,"+t(e)+")"})}function kr(e,t,n){i=[];if(n&&t.length>1){var r=nn(e.domain()),i,s=-1,o=t.length,u=(t[1]-t[0])/++n,a,f;while(++s<o)for(a=n;--a>0;)(f=+t[s]-a*u)>=r[0]&&i.push(f);for(--s,a=0;++a<n&&(f=+t[s]+a*u)<r[1];)i.push(f)}return i}function _r(){Or||(Or=d3.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y","scroll").append("div").style("height","2000px").node().parentNode);var e=d3.event,t;try{Or.scrollTop=1e3,Or.dispatchEvent(e),t=1e3-Or.scrollTop}catch(n){t=e.wheelDelta||-e.detail*5}return t}function Dr(e){var t=e.source,n=e.target,r=Hr(t,n),i=[t];while(t!==r)t=t.parent,i.push(t);var s=i.length;while(n!==r)i.splice(s,0,n),n=n.parent;return i}function Pr(e){var t=[],n=e.parent;while(n!=null)t.push(e),e=n,n=n.parent;return t.push(e),t}function Hr(e,t){if(e===t)return e;var n=Pr(e),r=Pr(t),i=n.pop(),s=r.pop(),o=null;while(i===s)o=i,i=n.pop(),s=r.pop();return o}function Fr(e){e.fixed|=2}function Ir(e){e!==jr&&(e.fixed&=1)}function qr(){jr.fixed&=1,Br=jr=null}function Rr(){jr.px=d3.event.x,jr.py=d3.event.y,Br.resume()}function Ur(e,t,n){var r=0,i=0;e.charge=0;if(!e.leaf){var s=e.nodes,o=s.length,u=-1,a;while(++u<o){a=s[u];if(a==null)continue;Ur(a,t,n),e.charge+=a.charge,r+=a.charge*a.cx,i+=a.charge*a.cy}}if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var f=t*n[e.point.index];e.charge+=e.pointCharge=f,r+=f*e.point.x,i+=f*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}function zr(e){return 20}function Wr(e){return 1}function Vr(e){return e.x}function $r(e){return e.y}function Jr(e,t,n){e.y0=t,e.y=n}function Gr(e){return d3.range(e.length)}function Yr(e){var t=-1,n=e[0].length,r=[];while(++t<n)r[t]=0;return r}function Zr(e){var t=1,n=0,r=e[0][1],i,s=e.length;for(;t<s;++t)(i=e[t][1])>r&&(n=t,r=i);return n}function ei(e){return e.reduce(ti,0)}function ti(e,t){return e+t[1]}function ni(e,t){return ri(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function ri(e,t){var n=-1,r=+e[0],i=(e[1]-r)/t,s=[];while(++n<=t)s[n]=i*n+r;return s}function ii(e){return[d3.min(e),d3.max(e)]}function si(e,t){return d3.rebind(e,t,"sort","children","value"),e.links=fi,e.nodes=function(t){return li=!0,(e.nodes=e)(t)},e}function oi(e){return e.children}function ui(e){return e.value}function ai(e,t){return t.value-e.value}function fi(e){return d3.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function ci(e,t){return e.value-t.value}function hi(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function pi(e,t){e._pack_next=t,t._pack_prev=e}function di(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return i*i-n*n-r*r>.001}function vi(e){function c(e){t=Math.min(e.x-e.r,t),n=Math.max(e.x+e.r,n),r=Math.min(e.y-e.r,r),i=Math.max(e.y+e.r,i)}var t=Infinity,n=-Infinity,r=Infinity,i=-Infinity,s=e.length,o,u,a,f,l;e.forEach(mi),o=e[0],o.x=-o.r,o.y=0,c(o);if(s>1){u=e[1],u.x=u.r,u.y=0,c(u);if(s>2){a=e[2],wi(o,u,a),c(a),hi(o,a),o._pack_prev=a,hi(a,u),u=o._pack_next;for(var h=3;h<s;h++){wi(o,u,a=e[h]);var p=0,d=1,v=1;for(f=u._pack_next;f!==u;f=f._pack_next,d++)if(di(f,a)){p=1;break}if(p==1)for(l=o._pack_prev;l!==f._pack_prev;l=l._pack_prev,v++)if(di(l,a))break;p?(d<v||d==v&&u.r<o.r?pi(o,u=f):pi(o=l,u),h--):(hi(o,a),u=a,c(a))}}}var m=(t+n)/2,g=(r+i)/2,y=0;for(var h=0;h<s;h++){var b=e[h];b.x-=m,b.y-=g,y=Math.max(y,b.r+Math.sqrt(b.x*b.x+b.y*b.y))}return e.forEach(gi),y}function mi(e){e._pack_next=e._pack_prev=e}function gi(e){delete e._pack_next,delete e._pack_prev}function yi(e){var t=e.children;t&&t.length?(t.forEach(yi),e.r=vi(t)):e.r=Math.sqrt(e.value)}function bi(e,t,n,r){var i=e.children;e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r;if(i){var s=-1,o=i.length;while(++s<o)bi(i[s],t,n,r)}}function wi(e,t,n){var r=e.r+n.r,i=t.x-e.x,s=t.y-e.y;if(r&&(i||s)){var o=t.r+n.r,u=Math.sqrt(i*i+s*s),a=Math.max(-1,Math.min(1,(r*r+u*u-o*o)/(2*r*u))),f=Math.acos(a),l=a*(r/=u),c=Math.sin(f)*r;n.x=e.x+l*i+c*s,n.y=e.y+l*s-c*i}else n.x=e.x+r,n.y=e.y}function Ei(e){return 1+d3.max(e,function(e){return e.y})}function Si(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function xi(e){var t=e.children;return t&&t.length?xi(t[0]):e}function Ti(e){var t=e.children,n;return t&&(n=t.length)?Ti(t[n-1]):e}function Ni(e,t){return e.parent==t.parent?1:2}function Ci(e){var t=e.children;return t&&t.length?t[0]:e._tree.thread}function ki(e){var t=e.children,n;return t&&(n=t.length)?t[n-1]:e._tree.thread}function Li(e,t){var n=e.children;if(n&&(i=n.length)){var r,i,s=-1;while(++s<i)t(r=Li(n[s],t),e)>0&&(e=r)}return e}function Ai(e,t){return e.x-t.x}function Oi(e,t){return t.x-e.x}function Mi(e,t){return e.depth-t.depth}function _i(e,t){function n(e,r){var i=e.children;if(i&&(a=i.length)){var s,o=null,u=-1,a;while(++u<a)s=i[u],n(s,o),o=s}t(e,r)}n(e,null)}function Di(e){var t=0,n=0,r=e.children,i=r.length,s;while(--i>=0)s=r[i]._tree,s.prelim+=t,s.mod+=t,t+=s.shift+(n+=s.change)}function Pi(e,t,n){e=e._tree,t=t._tree;var r=n/(t.number-e.number);e.change+=r,t.change-=r,t.shift+=n,t.prelim+=n,t.mod+=n}function Hi(e,t,n){return e._tree.ancestor.parent==t.parent?e._tree.ancestor:n}function Bi(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function ji(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],s=e.dy-t[0]-t[2];return i<0&&(n+=i/2,i=0),s<0&&(r+=s/2,s=0),{x:n,y:r,dx:i,dy:s}}function Fi(e){return e.map(Ii).join(",")}function Ii(e){return/[",\n]/.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}function Ri(e,t){return function(n){return n&&e.hasOwnProperty(n.type)?e[n.type](n):t}}function Ui(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+ -2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function zi(e,t){Wi.hasOwnProperty(e.type)&&Wi[e.type](e,t)}function Xi(e,t){zi(e.geometry,t)}function Vi(e,t){for(var n=e.features,r=0,i=n.length;r<i;r++)zi(n[r].geometry,t)}function $i(e,t){for(var n=e.geometries,r=0,i=n.length;r<i;r++)zi(n[r],t)}function Ji(e,t){for(var n=e.coordinates,r=0,i=n.length;r<i;r++)t.apply(null,n[r])}function Ki(e,t){for(var n=e.coordinates,r=0,i=n.length;r<i;r++)for(var s=n[r],o=0,u=s.length;o<u;o++)t.apply(null,s[o])}function Qi(e,t){for(var n=e.coordinates,r=0,i=n.length;r<i;r++)for(var s=n[r][0],o=0,u=s.length;o<u;o++)t.apply(null,s[o])}function Gi(e,t){t.apply(null,e.coordinates)}function Yi(e,t){for(var n=e.coordinates[0],r=0,i=n.length;r<i;r++)t.apply(null,n[r])}function Zi(e){return e.source}function es(e){return e.target}function ts(e,t){function m(e){var t=Math.sin(d-(e*=d))/v,n=Math.sin(e)/v,s=t*o*r+n*h*f,a=t*o*i+n*h*l,c=t*u+n*p;return[Math.atan2(a,s)/qi,Math.atan2(c,Math.sqrt(s*s+a*a))/qi]}var n=e[0]*qi,r=Math.cos(n),i=Math.sin(n),s=e[1]*qi,o=Math.cos(s),u=Math.sin(s),a=t[0]*qi,f=Math.cos(a),l=Math.sin(a),c=t[1]*qi,h=Math.cos(c),p=Math.sin(c),d=m.d=Math.acos(Math.max(-1,Math.min(1,u*p+o*h*Math.cos(a-n)))),v=Math.sin(d);return m}function is(e){var t=0,n=0;for(;;){if(e(t,n))return[t,n];t===0?(t=n+1,n=0):(t-=1,n+=1)}}function ss(e,t,n,r){var i,s,o,u,a,f,l;return i=r[e],s=i[0],o=i[1],i=r[t],u=i[0],a=i[1],i=r[n],f=i[0],l=i[1],(l-o)*(u-s)-(a-o)*(f-s)>0}function os(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function us(e,t,n,r){var i=e[0],s=t[0],o=n[0],u=r[0],a=e[1],f=t[1],l=n[1],c=r[1],h=i-o,p=s-i,d=u-o,v=a-l,m=f-a,g=c-l,y=(d*v-g*h)/(g*p-d*m);return[i+y*p,a+y*m]}function fs(e,t){var n={list:e.map(function(e,t){return{index:t,x:e[0],y:e[1]}}).sort(function(e,t){return e.y<t.y?-1:e.y>t.y?1:e.x<t.x?-1:e.x>t.x?1:0}),bottomSite:null},r={list:[],leftEnd:null,rightEnd:null,init:function(){r.leftEnd=r.createHalfEdge(null,"l"),r.rightEnd=r.createHalfEdge(null,"l"),r.leftEnd.r=r.rightEnd,r.rightEnd.l=r.leftEnd,r.list.unshift(r.leftEnd,r.rightEnd)},createHalfEdge:function(e,t){return{edge:e,side:t,vertex:null,l:null,r:null}},insert:function(e,t){t.l=e,t.r=e.r,e.r.l=t,e.r=t},leftBound:function(e){var t=r.leftEnd;do t=t.r;while(t!=r.rightEnd&&i.rightOf(t,e));return t=t.l,t},del:function(e){e.l.r=e.r,e.r.l=e.l,e.edge=null},right:function(e){return e.r},left:function(e){return e.l},leftRegion:function(e){return e.edge==null?n.bottomSite:e.edge.region[e.side]},rightRegion:function(e){return e.edge==null?n.bottomSite:e.edge.region[as[e.side]]}},i={bisect:function(e,t){var n={region:{l:e,r:t},ep:{l:null,r:null}},r=t.x-e.x,i=t.y-e.y,s=r>0?r:-r,o=i>0?i:-i;return n.c=e.x*r+e.y*i+(r*r+i*i)*.5,s>o?(n.a=1,n.b=i/r,n.c/=r):(n.b=1,n.a=r/i,n.c/=i),n},intersect:function(e,t){var n=e.edge,r=t.edge;if(!n||!r||n.region.r==r.region.r)return null;var i=n.a*r.b-n.b*r.a;if(Math.abs(i)<1e-10)return null;var s=(n.c*r.b-r.c*n.b)/i,o=(r.c*n.a-n.c*r.a)/i,u=n.region.r,a=r.region.r,f,l;u.y<a.y||u.y==a.y&&u.x<a.x?(f=e,l=n):(f=t,l=r);var c=s>=l.region.r.x;return c&&f.side==="l"||!c&&f.side==="r"?null:{x:s,y:o}},rightOf:function(e,t){var n=e.edge,r=n.region.r,i=t.x>r.x;if(i&&e.side==="l")return 1;if(!i&&e.side==="r")return 0;if(n.a===1){var s=t.y-r.y,o=t.x-r.x,u=0,a=0;!i&&n.b<0||i&&n.b>=0?a=u=s>=n.b*o:(a=t.x+t.y*n.b>n.c,n.b<0&&(a=!a),a||(u=1));if(!u){var f=r.x-n.region.l.x;a=n.b*(o*o-s*s)<f*s*(1+2*o/f+n.b*n.b),n.b<0&&(a=!a)}}else{var l=n.c-n.a*t.x,c=t.y-l,h=t.x-r.x,p=l-r.y;a=c*c>h*h+p*p}return e.side==="l"?a:!a},endPoint:function(e,n,r){e.ep[n]=r;if(!e.ep[as[n]])return;t(e)},distance:function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}},s={list:[],insert:function(e,t,n){e.vertex=t,e.ystar=t.y+n;for(var r=0,i=s.list,o=i.length;r<o;r++){var u=i[r];if(e.ystar>u.ystar||e.ystar==u.ystar&&t.x>u.vertex.x)continue;break}i.splice(r,0,e)},del:function(e){for(var t=0,n=s.list,r=n.length;t<r&&n[t]!=e;++t);n.splice(t,1)},empty:function(){return s.list.length===0},nextEvent:function(e){for(var t=0,n=s.list,r=n.length;t<r;++t)if(n[t]==e)return n[t+1];return null},min:function(){var e=s.list[0];return{x:e.vertex.x,y:e.ystar}},extractMin:function(){return s.list.shift()}};r.init(),n.bottomSite=n.list.shift();var o=n.list.shift(),u,a,f,l,c,h,p,d,v,m,g,y,b;for(;;){s.empty()||(u=s.min());if(o&&(s.empty()||o.y<u.y||o.y==u.y&&o.x<u.x))a=r.leftBound(o),f=r.right(a),p=r.rightRegion(a),y=i.bisect(p,o),h=r.createHalfEdge(y,"l"),r.insert(a,h),m=i.intersect(a,h),m&&(s.del(a),s.insert(a,m,i.distance(m,o))),a=h,h=r.createHalfEdge(y,"r"),r.insert(a,h),m=i.intersect(h,f),m&&s.insert(h,m,i.distance(m,o)),o=n.list.shift();else{if(!!s.empty())break;a=s.extractMin(),l=r.left(a),f=r.right(a),c=r.right(f),p=r.leftRegion(a),d=r.rightRegion(f),g=a.vertex,i.endPoint(a.edge,a.side,g),i.endPoint(f.edge,f.side,g),r.del(a),s.del(f),r.del(f),b="l",p.y>d.y&&(v=p,p=d,d=v,b="r"),y=i.bisect(p,d),h=r.createHalfEdge(y,b),r.insert(l,h),i.endPoint(y,as[b],g),m=i.intersect(l,h),m&&(s.del(l),s.insert(l,m,i.distance(m,p))),m=i.intersect(h,c),m&&s.insert(h,m,i.distance(m,p))}}for(a=r.right(r.leftEnd);a!=r.rightEnd;a=r.right(a))t(a.edge)}function ls(){return{leaf:!0,nodes:[],point:null}}function cs(e,t,n,r,i,s){if(!e(t,n,r,i,s)){var o=(n+i)*.5,u=(r+s)*.5,a=t.nodes;a[0]&&cs(e,a[0],n,r,o,u),a[1]&&cs(e,a[1],o,r,i,u),a[2]&&cs(e,a[2],n,u,o,s),a[3]&&cs(e,a[3],o,u,i,s)}}function hs(e){return{x:e[0],y:e[1]}}function ds(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function ms(e,t,n,r){var i,s,o=0,u=t.length,a=n.length;while(o<u){if(r>=a)return-1;i=t.charCodeAt(o++);if(i==37){s=Ss[t.charAt(o++)];if(!s||(r=s(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function xs(e,t,n){return Ns.test(t.substring(n,n+=3))?n:-1}function Ts(e,t,n){Cs.lastIndex=0;var r=Cs.exec(t.substring(n,n+10));return r?n+=r[0].length:-1}function ks(e,t,n){var r=Ls.get(t.substring(n,n+=3).toLowerCase());return r==null?-1:(e.m=r,n)}function As(e,t,n){Os.lastIndex=0;var r=Os.exec(t.substring(n,n+12));return r?(e.m=Ms.get(r[0].toLowerCase()),n+=r[0].length):-1}function Ds(e,t,n){return ms(e,Es.c.toString(),t,n)}function Ps(e,t,n){return ms(e,Es.x.toString(),t,n)}function Hs(e,t,n){return ms(e,Es.X.toString(),t,n)}function Bs(e,t,n){Xs.lastIndex=0;var r=Xs.exec(t.substring(n,n+4));return r?(e.y=+r[0],n+=r[0].length):-1}function js(e,t,n){Xs.lastIndex=0;var r=Xs.exec(t.substring(n,n+2));return r?(e.y=Fs()+ +r[0],n+=r[0].length):-1}function Fs(){return~~((new Date).getFullYear()/1e3)*1e3}function Is(e,t,n){Xs.lastIndex=0;var r=Xs.exec(t.substring(n,n+2));return r?(e.m=r[0]-1,n+=r[0].length):-1}function qs(e,t,n){Xs.lastIndex=0;var r=Xs.exec(t.substring(n,n+2));return r?(e.d=+r[0],n+=r[0].length):-1}function Rs(e,t,n){Xs.lastIndex=0;var r=Xs.exec(t.substring(n,n+2));return r?(e.H=+r[0],n+=r[0].length):-1}function Us(e,t,n){Xs.lastIndex=0;var r=Xs.exec(t.substring(n,n+2));return r?(e.M=+r[0],n+=r[0].length):-1}function zs(e,t,n){Xs.lastIndex=0;var r=Xs.exec(t.substring(n,n+2));return r?(e.S=+r[0],n+=r[0].length):-1}function Ws(e,t,n){Xs.lastIndex=0;var r=Xs.exec(t.substring(n,n+3));return r?(e.L=+r[0],n+=r[0].length):-1}function Vs(e,t,n){var r=$s.get(t.substring(n,n+=2).toLowerCase());return r==null?-1:(e.p=r,n)}function Js(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=~~(Math.abs(t)/60),i=Math.abs(t)%60;return n+gs(r)+gs(i)}function Qs(e){return e.toISOString()}function Gs(e,t,n){function r(t){var n=e(t),r=s(n,1);return t-n<r-t?n:r}function i(n){return t(n=e(new ps(n-1)),1),n}function s(e,n){return t(e=new ps(+e),n),e}function o(e,r,s){var o=i(e),u=[];if(s>1)while(o<r)n(o)%s||u.push(new Date(+o)),t(o,1);else while(o<r)u.push(new Date(+o)),t(o,1);return u}function u(e,t,n){try{ps=ds;var r=new ds;return r._=e,o(r,t,n)}finally{ps=Date}}e.floor=e,e.round=r,e.ceil=i,e.offset=s,e.range=o;var a=e.utc=Ys(e);return a.floor=a,a.round=Ys(r),a.ceil=Ys(i),a.offset=Ys(s),a.range=u,e}function Ys(e){return function(t,n){try{ps=ds;var r=new ds;return r._=t,e(r,n)._}finally{ps=Date}}}function Zs(e,t,n){function r(t){return e(t)}return r.invert=function(t){return to(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain().map(to)},r.nice=function(e){var t=eo(r.domain());return r.domain([e.floor(t[0]),e.ceil(t[1])])},r.ticks=function(n,i){var s=eo(r.domain());if(typeof n!="function"){var o=s[1]-s[0],u=o/n,a=d3.bisect(so,u);if(a==so.length)return t.year(s,n);if(!a)return e.ticks(n).map(to);Math.log(u/so[a-1])<Math.log(so[a]/u)&&--a,n=t[a],i=n[1],n=n[0].range}return n(s[0],new Date(+s[1]+1),i)},r.tickFormat=function(){return n},r.copy=function(){return Zs(e.copy(),t,n)},d3.rebind(r,e,"range","rangeRound","interpolate","clamp")}function eo(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function to(e){return new Date(e)}function no(e){return function(t){var n=e.length-1,r=e[n];while(!r[1](t))r=e[--n];return r[0](t)}}function ro(e){var t=new Date(e,0,1);return t.setFullYear(e),t}function io(e){var t=e.getFullYear(),n=ro(t),r=ro(t+1);return t+(e-n)/(r-n)}function po(e){var t=new Date(Date.UTC(e,0,1));return t.setUTCFullYear(e),t}function vo(e){var t=e.getUTCFullYear(),n=po(t),r=po(t+1);return t+(e-n)/(r-n)}Date.now||(Date.now=function(){return+(new Date)});try{document.createElement("div").style.setProperty("opacity",0,"")}catch(e){var t=CSSStyleDeclaration.prototype,n=t.setProperty;t.setProperty=function(e,t,r){n.call(this,e,t+"",r)}}d3={version:"2.8.1"};var i=o;try{i(document.documentElement.childNodes)[0].nodeType}catch(u){i=s}var a=[].__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};d3.map=function(e){var t=new f;for(var n in e)t.set(n,e[n]);return t},r(f,{has:function(e){return l+e in this},get:function(e){return this[l+e]},set:function(e,t){return this[l+e]=t},remove:function(e){return e=l+e,e in this&&delete this[e]},keys:function(){var e=[];return this.forEach(function(t){e.push(t)}),e},values:function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e},entries:function(){var e=[];return this.forEach(function(t,n){e.push({key:t,value:n})}),e},forEach:function(e){for(var t in this)t.charCodeAt(0)===c&&e.call(this,t.substring(1),this[t])}});var l="\0",c=l.charCodeAt(0);d3.functor=function(e){return typeof e=="function"?e:function(){return e}},d3.rebind=function(e,t){var n=1,r=arguments.length,i;while(++n<r)e[i=arguments[n]]=p(e,t,t[i]);return e},d3.ascending=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},d3.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},d3.mean=function(e,t){var n=e.length,r,i=0,s=-1,o=0;if(arguments.length===1)while(++s<n)v(r=e[s])&&(i+=(r-i)/++o);else while(++s<n)v(r=t.call(e,e[s],s))&&(i+=(r-i)/++o);return o?i:undefined},d3.median=function(e,t){return arguments.length>1&&(e=e.map(t)),e=e.filter(v),e.length?d3.quantile(e.sort(d3.ascending),.5):undefined},d3.min=function(e,t){var n=-1,r=e.length,i,s;if(arguments.length===1){while(++n<r&&((i=e[n])==null||i!=i))i=undefined;while(++n<r)(s=e[n])!=null&&i>s&&(i=s)}else{while(++n<r&&((i=t.call(e,e[n],n))==null||i!=i))i=undefined;while(++n<r)(s=t.call(e,e[n],n))!=null&&i>s&&(i=s)}return i},d3.max=function(e,t){var n=-1,r=e.length,i,s;if(arguments.length===1){while(++n<r&&((i=e[n])==null||i!=i))i=undefined;while(++n<r)(s=e[n])!=null&&s>i&&(i=s)}else{while(++n<r&&((i=t.call(e,e[n],n))==null||i!=i))i=undefined;while(++n<r)(s=t.call(e,e[n],n))!=null&&s>i&&(i=s)}return i},d3.extent=function(e,t){var n=-1,r=e.length,i,s,o;if(arguments.length===1){while(++n<r&&((i=o=e[n])==null||i!=i))i=o=undefined;while(++n<r)(s=e[n])!=null&&(i>s&&(i=s),o<s&&(o=s))}else{while(++n<r&&((i=o=t.call(e,e[n],n))==null||i!=i))i=undefined;while(++n<r)(s=t.call(e,e[n],n))!=null&&(i>s&&(i=s),o<s&&(o=s))}return[i,o]},d3.random={normal:function(e,t){return arguments.length<2&&(t=1),arguments.length<1&&(e=0),function(){var n,r,i;do n=Math.random()*2-1,r=Math.random()*2-1,i=n*n+r*r;while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}}},d3.sum=function(e,t){var n=0,r=e.length,i,s=-1;if(arguments.length===1)while(++s<r)isNaN(i=+e[s])||(n+=i);else while(++s<r)isNaN(i=+t.call(e,e[s],s))||(n+=i);return n},d3.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=e[r-1],s=n-r;return s?i+s*(e[r]-i):i},d3.transpose=function(e){return d3.zip.apply(d3,e)},d3.zip=function(){if(!(i=arguments.length))return[];for(var e=-1,t=d3.min(arguments,m),n=new Array(t);++e<t;)for(var r=-1,i,s=n[e]=new Array(i);++r<i;)s[r]=arguments[r][e];return n},d3.bisector=function(e){return{left:function(t,n,r,i){arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);while(r<i){var s=r+i>>1;e.call(t,t[s],s)<n?r=s+1:i=s}return r},right:function(t,n,r,i){arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);while(r<i){var s=r+i>>1;n<e.call(t,t[s],s)?i=s:r=s+1}return r}}};var g=d3.bisector(function(e){return e});d3.bisectLeft=g.left,d3.bisect=d3.bisectRight=g.right,d3.first=function(e,t){var n=0,r=e.length,i=e[0],s;arguments.length===1&&(t=d3.ascending);while(++n<r)t.call(e,i,s=e[n])>0&&(i=s);return i},d3.last=function(e,t){var n=0,r=e.length,i=e[0],s;arguments.length===1&&(t=d3.ascending);while(++n<r)t.call(e,i,s=e[n])<=0&&(i=s);return i},d3.nest=function(){function s(n,o){if(o>=t.length)return i?i.call(e,n):r?n.sort(r):n;var u=-1,a=n.length,l=t[o++],c,h,p=new f,d,v={};while(++u<a)(d=p.get(c=l(h=n[u])))?d.push(h):p.set(c,[h]);return p.forEach(function(e){v[e]=s(p.get(e),o)}),v}function o(e,r){if(r>=t.length)return e;var i=[],s=n[r++],u;for(u in e)i.push({key:u,values:o(e[u],r)});return s&&i.sort(function(e,t){return s(e.key,t.key)}),i}var e={},t=[],n=[],r,i;return e.map=function(e){return s(e,0)},e.entries=function(e){return o(s(e,0),0)},e.key=function(n){return t.push(n),e},e.sortKeys=function(r){return n[t.length-1]=r,e},e.sortValues=function(t){return r=t,e},e.rollup=function(t){return i=t,e},e},d3.keys=function(e){var t=[];for(var n in e)t.push(n);return t},d3.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},d3.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},d3.permute=function(e,t){var n=[],r=-1,i=t.length;while(++r<i)n[r]=e[t[r]];return n},d3.merge=function(e){return Array.prototype.concat.apply([],e)},d3.split=function(e,t){var n=[],r=[],i,s=-1,o=e.length;arguments.length<2&&(t=y);while(++s<o)t.call(r,i=e[s],s)?r=[]:(r.length||n.push(r),r.push(i));return n},d3.range=function(e,t,n){arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0));if((t-e)/n===Infinity)throw new Error("infinite range");var r=[],i=w(Math.abs(n)),s=-1,o;e*=i,t*=i,n*=i;if(n<0)while((o=e+n*++s)>t)r.push(o/i);else while((o=e+n*++s)<t)r.push(o/i);return r},d3.requote=function(e){return e.replace(E,"\\$&")};var E=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;d3.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)},d3.xhr=function(e,t,n){var r=new XMLHttpRequest;arguments.length<3?(n=t,t=null):t&&r.overrideMimeType&&r.overrideMimeType(t),r.open("GET",e,!0),t&&r.setRequestHeader("Accept",t),r.onreadystatechange=function(){r.readyState===4&&n(r.status<300?r:null)},r.send(null)},d3.text=function(e,t,n){function r(e){n(e&&e.responseText)}arguments.length<3&&(n=t,t=null),d3.xhr(e,t,r)},d3.json=function(e,t){d3.text(e,"application/json",function(e){t(e?JSON.parse(e):null)})},d3.html=function(e,t){d3.text(e,"text/html",function(e){if(e!=null){var n=document.createRange();n.selectNode(document.body),e=n.createContextualFragment(e)}t(e)})},d3.xml=function(e,t,n){function r(e){n(e&&e.responseXML)}arguments.length<3&&(n=t,t=null),d3.xhr(e,t,r)};var S={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};d3.ns={prefix:S,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&(n=e.substring(0,t),e=e.substring(t+1)),S.hasOwnProperty(n)?{space:S[n],local:e}:e}},d3.dispatch=function(){var e=new x,t=-1,n=arguments.length;while(++t<n)e[arguments[t]]=T(e);return e},x.prototype.on=function(e,t){var n=e.indexOf("."),r="";return n>0&&(r=e.substring(n+1),e=e.substring(0,n)),arguments.length<2?this[e].on(r):this[e].on(r,t)},d3.format=function(e){var t=N.exec(e),n=t[1]||" ",r=t[3]||"",i=t[5],s=+t[6],o=t[7],u=t[8],a=t[9],f=1,l="",c=!1;u&&(u=+u.substring(1)),i&&(n="0",o&&(s-=Math.floor((s-1)/4)));switch(a){case"n":o=!0,a="g";break;case"%":f=100,l="%",a="f";break;case"p":f=100,l="%",a="r";break;case"d":c=!0,u=0;break;case"s":f=-1,a="r"}return a=="r"&&!u&&(a="g"),a=C.get(a)||L,function(e){if(c&&e%1)return"";var t=e<0&&(e=-e)?"−":r;if(f<0){var h=d3.formatPrefix(e,u);e*=h.scale,l=h.symbol}else e*=f;e=a(e,u);if(i){var p=e.length+t.length;p<s&&(e=(new Array(s-p+1)).join(n)+e),o&&(e=A(e)),e=t+e}else{o&&(e=A(e)),e=t+e;var p=e.length;p<s&&(e=(new Array(s-p+1)).join(n)+e)}return e+l}};var N=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,C=d3.map({g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return d3.round(e,t=k(e,t)).toFixed(Math.max(0,Math.min(20,t)))}}),O=["y","z","a","f","p","n","μ","m","","k","M","G","T","P","E","Z","Y"].map(M);d3.formatPrefix=function(e,t){var n=0;return e&&(e<0&&(e*=-1),t&&(e=d3.round(e,k(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,Math.floor((n<=0?n+1:n-1)/3)*3))),O[8+n/3]};var _=R(2),D=R(3),P=function(){return q},H=d3.map({linear:P,poly:R,quad:function(){return _},cubic:function(){return D},sin:function(){return U},exp:function(){return z},circle:function(){return W},elastic:X,back:V,bounce:function(){return $}}),B=d3.map({"in":q,out:F,"in-out":I,"out-in":function(e){return I(F(e))}});d3.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.substring(0,t):e,r=t>=0?e.substring(t+1):"in";return n=H.get(n)||P,r=B.get(r)||q,j(r(n.apply(null,Array.prototype.slice.call(arguments,1))))},d3.event=null,d3.interpolate=function(e,t){var n=d3.interpolators.length,r;while(--n>=0&&!(r=d3.interpolators[n](e,t)));return r},d3.interpolateNumber=function(e,t){return t-=e,function(n){return e+t*n}},d3.interpolateRound=function(e,t){return t-=e,function(n){return Math.round(e+t*n)}},d3.interpolateString=function(e,t){var n,r,i,s=0,o=0,u=[],a=[],f,l;G.lastIndex=0;for(r=0;n=G.exec(t);++r)n.index&&u.push(t.substring(s,o=n.index)),a.push({i:u.length,x:n[0]}),u.push(null),s=G.lastIndex;s<t.length&&u.push(t.substring(s));for(r=0,f=a.length;(n=G.exec(e))&&r<f;++r){l=a[r];if(l.x==n[0]){if(l.i)if(u[l.i+1]==null){u[l.i-1]+=l.x,u.splice(l.i,1);for(i=r+1;i<f;++i)a[i].i--}else{u[l.i-1]+=l.x+u[l.i+1],u.splice(l.i,2);for(i=r+1;i<f;++i)a[i].i-=2}else if(u[l.i+1]==null)u[l.i]=l.x;else{u[l.i]=l.x+u[l.i+1],u.splice(l.i+1,1);for(i=r+1;i<f;++i)a[i].i--}a.splice(r,1),f--,r--}else l.x=d3.interpolateNumber(parseFloat(n[0]),parseFloat(l.x))}while(r<f)l=a.pop(),u[l.i+1]==null?u[l.i]=l.x:(u[l.i]=l.x+u[l.i+1],u.splice(l.i+1,1)),f--;return u.length===1?u[0]==null?a[0].x:function(){return t}:function(e){for(r=0;r<f;++r)u[(l=a[r]).i]=l.x(e);return u.join("")}},d3.interpolateTransform=function(e,t){var n=[],r=[],i,s=d3.transform(e),o=d3.transform(t),u=s.translate,a=o.translate,f=s.rotate,l=o.rotate,c=s.skew,h=o.skew,p=s.scale,d=o.scale;return u[0]!=a[0]||u[1]!=a[1]?(n.push("translate(",null,",",null,")"),r.push({i:1,x:d3.interpolateNumber(u[0],a[0])},{i:3,x:d3.interpolateNumber(u[1],a[1])})):a[0]||a[1]?n.push("translate("+a+")"):n.push(""),f!=l?r.push({i:n.push(n.pop()+"rotate(",null,")")-2,x:d3.interpolateNumber(f,l)}):l&&n.push(n.pop()+"rotate("+l+")"),c!=h?r.push({i:n.push(n.pop()+"skewX(",null,")")-2,x:d3.interpolateNumber(c,h)}):h&&n.push(n.pop()+"skewX("+h+")"),p[0]!=d[0]||p[1]!=d[1]?(i=n.push(n.pop()+"scale(",null,",",null,")"),r.push({i:i-4,x:d3.interpolateNumber(p[0],d[0])},{i:i-2,x:d3.interpolateNumber(p[1],d[1])})):(d[0]!=1||d[1]!=1)&&n.push(n.pop()+"scale("+d+")"),i=r.length,function(e){var t=-1,s;while(++t<i)n[(s=r[t]).i]=s.x(e);return n.join("")}},d3.interpolateRgb=function(e,t){e=d3.rgb(e),t=d3.rgb(t);var n=e.r,r=e.g,i=e.b,s=t.r-n,o=t.g-r,u=t.b-i;return function(e){return"#"+rt(Math.round(n+s*e))+rt(Math.round(r+o*e))+rt(Math.round(i+u*e))}},d3.interpolateHsl=function(e,t){e=d3.hsl(e),t=d3.hsl(t);var n=e.h,r=e.s,i=e.l,s=t.h-n,o=t.s-r,u=t.l-i;return function(e){return lt(n+s*e,r+o*e,i+u*e).toString()}},d3.interpolateArray=function(e,t){var n=[],r=[],i=e.length,s=t.length,o=Math.min(e.length,t.length),u;for(u=0;u<o;++u)n.push(d3.interpolate(e[u],t[u]));for(;u<i;++u)r[u]=e[u];for(;u<s;++u)r[u]=t[u];return function(e){for(u=0;u<o;++u)r[u]=n[u](e);return r}},d3.interpolateObject=function(e,t){var n={},r={},i;for(i in e)i in t?n[i]=Y(i)(e[i],t[i]):r[i]=e[i];for(i in t)i in e||(r[i]=t[i]);return function(e){for(i in n)r[i]=n[i](e);return r}};var G=/[-+]?(?:\d*\.?\d+)(?:[eE][-+]?\d+)?/g;d3.interpolators=[d3.interpolateObject,function(e,t){return t instanceof Array&&d3.interpolateArray(e,t)},function(e,t){return(typeof e=="string"||typeof t=="string")&&d3.interpolateString(e+"",t+"")},function(e,t){return(typeof t=="string"?ut.has(t)||/^(#|rgb\(|hsl\()/.test(t):t instanceof nt||t instanceof ft)&&d3.interpolateRgb(e,t)},function(e,t){return!isNaN(e=+e)&&!isNaN(t=+t)&&d3.interpolateNumber(e,t)}],d3.rgb=function(e,t,n){return arguments.length===1?e instanceof nt?tt(e.r,e.g,e.b):it(""+e,tt,lt):tt(~~e,~~t,~~n)},nt.prototype.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return!t&&!n&&!r?tt(i,i,i):(t&&t<i&&(t=i),n&&n<i&&(n=i),r&&r<i&&(r=i),tt(Math.min(255,Math.floor(t/e)),Math.min(255,Math.floor(n/e)),Math.min(255,Math.floor(r/e))))},nt.prototype.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),tt(Math.floor(e*this.r),Math.floor(e*this.g),Math.floor(e*this.b))},nt.prototype.hsl=function(){return st(this.r,this.g,this.b)},nt.prototype.toString=function(){return"#"+rt(this.r)+rt(this.g)+rt(this.b)};var ut=d3.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});ut.forEach(function(e,t){ut.set(e,it(t,tt,lt))}),d3.hsl=function(e,t,n){return arguments.length===1?e instanceof ft?at(e.h,e.s,e.l):it(""+e,st,at):at(+e,+t,+n)},ft.prototype.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),at(this.h,this.s,this.l/e)},ft.prototype.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),at(this.h,this.s,e*this.l)},ft.prototype.rgb=function(){return lt(this.h,this.s,this.l)},ft.prototype.toString=function(){return this.rgb().toString()};var ht=function(e,t){return t.querySelector(e)},pt=function(e,t){return t.querySelectorAll(e)},dt=document.documentElement,vt=dt.matchesSelector||dt.webkitMatchesSelector||dt.mozMatchesSelector||dt.msMatchesSelector||dt.oMatchesSelector,mt=function(e,t){return vt.call(e,t)};typeof Sizzle=="function"&&(ht=function(e,t){return Sizzle(e,t)[0]},pt=function(e,t){return Sizzle.uniqueSort(Sizzle(e,t))},mt=Sizzle.matchesSelector);var gt=[];d3.selection=function(){return Nt},d3.selection.prototype=gt,gt.select=function(e){var t=[],n,r,i,s;typeof e!="function"&&(e=yt(e));for(var o=-1,u=this.length;++o<u;){t.push(n=[]),n.parentNode=(i=this[o]).parentNode;for(var a=-1,f=i.length;++a<f;)(s=i[a])?(n.push(r=e.call(s,s.__data__,a)),r&&"__data__"in s&&(r.__data__=s.__data__)):n.push(null)}return ct(t)},gt.selectAll=function(e){var t=[],n,r;typeof e!="function"&&(e=bt(e));for(var s=-1,o=this.length;++s<o;)for(var u=this[s],a=-1,f=u.length;++a<f;)if(r=u[a])t.push(n=i(e.call(r,r.__data__,a))),n.parentNode=r;return ct(t)},gt.attr=function(e,t){function r(){this.removeAttribute(e)}function i(){this.removeAttributeNS(e.space,e.local)}function s(){this.setAttribute(e,t)}function o(){this.setAttributeNS(e.space,e.local,t)}function u(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}function a(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}e=d3.ns.qualify(e);if(arguments.length<2){var n=this.node();return e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}return this.each(t==null?e.local?i:r:typeof t=="function"?e.local?a:u:e.local?o:s)},gt.classed=function(e,t){var n=e.split(wt),r=n.length,i=-1;if(arguments.length>1){while(++i<r)Et.call(this,n[i],t);return this}while(++i<r)if(!Et.call(this,n[i]))return!1;return!0};var wt=/\s+/g;gt.style=function(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function s(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return arguments.length<3&&(n=""),arguments.length<2?window.getComputedStyle(this.node(),null).getPropertyValue(e):this.each(t==null?r:typeof t=="function"?s:i)},gt.property=function(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}return arguments.length<2?this.node()[e]:this.each(t==null?n:typeof t=="function"?i:r)},gt.text=function(e){return arguments.length<1?this.node().textContent:this.each(typeof e=="function"?function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}:e==null?function(){this.textContent=""}:function(){this.textContent=e})},gt.html=function(e){return arguments.length<1?this.node().innerHTML:this.each(typeof e=="function"?function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}:e==null?function(){this.innerHTML=""}:function(){this.innerHTML=e})},gt.append=function(e){function t(){return this.appendChild(document.createElementNS(this.namespaceURI,e))}function n(){return this.appendChild(document.createElementNS(e.space,e.local))}return e=d3.ns.qualify(e),this.select(e.local?n:t)},gt.insert=function(e,t){function n(){return this.insertBefore(document.createElementNS(this.namespaceURI,e),ht(t,this))}function r(){return this.insertBefore(document.createElementNS(e.space,e.local),ht(t,this))}return e=d3.ns.qualify(e),this.select(e.local?r:n)},gt.remove=function(){return this.each(function(){var e=this.parentNode;e&&e.removeChild(this)})},gt.data=function(e,t){function o(e,n){var r,i=e.length,s=n.length,o=Math.min(i,s),c=Math.max(i,s),h=[],p=[],d=[],v,m;if(t){var g=new f,y=[],b,w=n.length;for(r=-1;++r<i;)b=t.call(v=e[r],v.__data__,r),g.has(b)?d[w++]=v:g.set(b,v),y.push(b);for(r=-1;++r<s;)b=t.call(n,m=n[r],r),g.has(b)?(h[r]=v=g.get(b),v.__data__=m,p[r]=d[r]=null):(p[r]=St(m),h[r]=d[r]=null),g.remove(b);for(r=-1;++r<i;)g.has(y[r])&&(d[r]=e[r])}else{for(r=-1;++r<o;)v=e[r],m=n[r],v?(v.__data__=m,h[r]=v,p[r]=d[r]=null):(p[r]=St(m),h[r]=d[r]=null);for(;r<s;++r)p[r]=St(n[r]),h[r]=d[r]=null;for(;r<c;++r)d[r]=e[r],p[r]=h[r]=null}p.update=h,p.parentNode=h.parentNode=d.parentNode=e.parentNode,u.push(p),a.push(h),l.push(d)}var n=-1,r=this.length,i,s;if(!arguments.length){e=new Array(r=(i=this[0]).length);while(++n<r)if(s=i[n])e[n]=s.__data__;return e}var u=Ct([]),a=ct([]),l=ct([]);if(typeof e=="function")while(++n<r)o(i=this[n],e.call(i,i.parentNode.__data__,n));else while(++n<r)o(i=this[n],e);return a.enter=function(){return u},a.exit=function(){return l},a},gt.datum=gt.map=function(e){return arguments.length<1?this.property("__data__"):this.property("__data__",e)},gt.filter=function(e){var t=[],n,r,i;typeof e!="function"&&(e=xt(e));for(var s=0,o=this.length;s<o;s++){t.push(n=[]),n.parentNode=(r=this[s]).parentNode;for(var u=0,a=r.length;u<a;u++)(i=r[u])&&e.call(i,i.__data__,u)&&n.push(i)}return ct(t)},gt.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n=this[e],r=n.length-1,i=n[r],s;--r>=0;)if(s=n[r])i&&i!==s.nextSibling&&i.parentNode.insertBefore(s,i),i=s;return this},gt.sort=function(e){e=Tt.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},gt.on=function(e,t,n){arguments.length<3&&(n=!1);var r="__on"+e,i=e.indexOf(".");return i>0&&(e=e.substring(0,i)),arguments.length<2?(i=this.node()[r])&&i._:this.each(function(i,s){function a(e){var n=d3.event;d3.event=e;try{t.call(o,o.__data__,s)}finally{d3.event=n}}var o=this,u=o[r];u&&(o.removeEventListener(e,u,u.$),delete o[r]),t&&(o.addEventListener(e,o[r]=a,a.$=n),a._=t)})},gt.each=function(e){for(var t=-1,n=this.length;++t<n;)for(var r=this[t],i=-1,s=r.length;++i<s;){var o=r[i];o&&e.call(o,o.__data__,i,t)}return this},gt.call=function(e){return e.apply(this,(arguments[0]=this,arguments)),this},gt.empty=function(){return!this.node()},gt.node=function(e){for(var t=0,n=this.length;t<n;t++)for(var r=this[t],i=0,s=r.length;i<s;i++){var o=r[i];if(o)return o}return null},gt.transition=function(){var e=[],t,n;for(var r=-1,i=this.length;++r<i;){e.push(t=[]);for(var s=this[r],o=-1,u=s.length;++o<u;)t.push((n=s[o])?{node:n,delay:Ft,duration:It}:null)}return Lt(e,Pt||++Dt,Date.now())};var Nt=ct([[document]]);Nt[0].parentNode=dt,d3.select=function(e){return typeof e=="string"?Nt.select(e):ct([[e]])},d3.selectAll=function(e){return typeof e=="string"?Nt.selectAll(e):ct([i(e)])};var kt=[];d3.selection.enter=Ct,d3.selection.enter.prototype=kt,kt.append=gt.append,kt.insert=gt.insert,kt.empty=gt.empty,kt.node=gt.node,kt.select=function(e){var t=[],n,r,i,s,o;for(var u=-1,a=this.length;++u<a;){i=(s=this[u]).update,t.push(n=[]),n.parentNode=s.parentNode;for(var f=-1,l=s.length;++f<l;)(o=s[f])?(n.push(i[f]=r=e.call(s.parentNode,o.__data__,f)),r.__data__=o.__data__):n.push(null)}return ct(t)};var At={},_t=[],Dt=0,Pt=0,Ht=0,Bt=250,jt=d3.ease("cubic-in-out"),Ft=Ht,It=Bt,qt=jt;_t.call=gt.call,d3.transition=function(e){return arguments.length?Pt?e.transition():e:Nt.transition()},d3.transition.prototype=_t,_t.select=function(e){var t=[],n,r,i;typeof e!="function"&&(e=yt(e));for(var s=-1,o=this.length;++s<o;){t.push(n=[]);for(var u=this[s],a=-1,f=u.length;++a<f;)(i=u[a])&&(r=e.call(i.node,i.node.__data__,a))?("__data__"in i.node&&(r.__data__=i.node.__data__),n.push({node:r,delay:i.delay,duration:i.duration})):n.push(null)}return Lt(t,this.id,this.time).ease(this.ease())},_t.selectAll=function(e){var t=[],n,r,i;typeof e!="function"&&(e=bt(e));for(var s=-1,o=this.length;++s<o;)for(var u=this[s],a=-1,f=u.length;++a<f;)if(i=u[a]){r=e.call(i.node,i.node.__data__,a),t.push(n=[]);for(var l=-1,c=r.length;++l<c;)n.push({node:r[l],delay:i.delay,duration:i.duration})}return Lt(t,this.id,this.time).ease(this.ease())},_t.attr=function(e,t){return this.attrTween(e,Mt(e,t))},_t.attrTween=function(e,t){function r(e,r){var i=t.call(this,e,r,this.getAttribute(n));return i===At?(this.removeAttribute(n),null):i&&function(e){this.setAttribute(n,i(e))}}function i(e,r){var i=t.call(this,e,r,this.getAttributeNS(n.space,n.local));return i===At?(this.removeAttributeNS(n.space,n.local),null):i&&function(e){this.setAttributeNS(n.space,n.local,i(e))}}var n=d3.ns.qualify(e);return this.tween("attr."+e,n.local?i:r)},_t.style=function(e,t,n){return arguments.length<3&&(n=""),this.styleTween(e,Mt(e,t),n)},_t.styleTween=function(e,t,n){return arguments.length<3&&(n=""),this.tween("style."+e,function(r,i){var s=t.call(this,r,i,window.getComputedStyle(this,null).getPropertyValue(e));return s===At?(this.style.removeProperty(e),null):s&&function(t){this.style.setProperty(e,s(t),n)}})},_t.text=function(e){return this.tween("text",function(t,n){this.textContent=typeof e=="function"?e.call(this,t,n):e})},_t.remove=function(){return this.each("end.transition",function(){var e;!this.__transition__&&(e=this.parentNode)&&e.removeChild(this)})},_t.delay=function(e){var t=this;return t.each(typeof e=="function"?function(n,r,i){t[i][r].delay=e.apply(this,arguments)|0}:(e|=0,function(n,r,i){t[i][r].delay=e}))},_t.duration=function(e){var t=this;return t.each(typeof e=="function"?function(n,r,i){t[i][r].duration=Math.max(1,e.apply(this,arguments)|0)}:(e=Math.max(1,e|0),function(n,r,i){t[i][r].duration=e}))},_t.transition=function(){return this.select(h)};var Ut=null,zt,Wt;d3.timer=function(e,t,n){var r=!1,i,s=Ut;if(arguments.length<3){if(arguments.length<2)t=0;else if(!isFinite(t))return;n=Date.now()}while(s){if(s.callback===e){s.then=n,s.delay=t,r=!0;break}i=s,s=s.next}r||(Ut={callback:e,then:n,delay:t,next:Ut}),zt||(Wt=clearTimeout(Wt),zt=1,$t(Xt))},d3.timer.flush=function(){var e,t=Date.now(),n=Ut;while(n)e=t-n.then,n.delay||(n.flush=n.callback(e)),n=n.next;Vt()};var $t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,17)};d3.transform=function(e){var t=document.createElementNS(d3.ns.prefix.svg,"g"),n={a:1,b:0,c:0,d:1,e:0,f:0};return(d3.transform=function(e){t.setAttribute("transform",e);var r=t.transform.baseVal.consolidate();return new Jt(r?r.matrix:n)})(e)},Jt.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Yt=180/Math.PI;d3.mouse=function(e){return en(e,K())};var Zt=/WebKit/.test(navigator.userAgent)?-1:0;d3.touches=function(e,t){return arguments.length<2&&(t=K().touches),t?i(t).map(function(t){var n=en(e,t);return n.identifier=t.identifier,n}):[]},d3.scale={},d3.scale.linear=function(){return un([0,1],[0,1],d3.interpolate,!1)},d3.scale.log=function(){return vn(d3.scale.linear(),gn)};var mn=d3.format(".0e");gn.pow=function(e){return Math.pow(10,e)},yn.pow=function(e){return-Math.pow(10,-e)},d3.scale.pow=function(){return bn(d3.scale.linear(),1)},d3.scale.sqrt=function(){return d3.scale.pow().exponent(.5)},d3.scale.ordinal=function(){return En([],{t:"range",x:[]})},d3.scale.category10=function(){return d3.scale.ordinal().range(Sn)},d3.scale.category20=function(){return d3.scale.ordinal().range(xn)},d3.scale.category20b=function(){return d3.scale.ordinal().range(Tn)},d3.scale.category20c=function(){return d3.scale.ordinal().range(Nn)};var Sn=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],xn=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],Tn=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],Nn=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];d3.scale.quantile=function(){return Cn([],[])},d3.scale.quantize=function(){return kn(0,1,[0,1])},d3.scale.identity=function(){return Ln([0,1])},d3.svg={},d3.svg.arc=function(){function i(){var i=e.apply(this,arguments),s=t.apply(this,arguments),o=n.apply(this,arguments)+An,u=r.apply(this,arguments)+An,a=(u<o&&(a=o,o=u,u=a),u-o),f=a<Math.PI?"0":"1",l=Math.cos(o),c=Math.sin(o),h=Math.cos(u),p=Math.sin(u);return a>=On?i?"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+ -s+"A"+s+","+s+" 0 1,1 0,"+s+"M0,"+i+"A"+i+","+i+" 0 1,0 0,"+ -i+"A"+i+","+i+" 0 1,0 0,"+i+"Z":"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+ -s+"A"+s+","+s+" 0 1,1 0,"+s+"Z":i?"M"+s*l+","+s*c+"A"+s+","+s+" 0 "+f+",1 "+s*h+","+s*p+"L"+i*h+","+i*p+"A"+i+","+i+" 0 "+f+",0 "+i*l+","+i*c+"Z":"M"+s*l+","+s*c+"A"+s+","+s+" 0 "+f+",1 "+s*h+","+s*p+"L0,0"+"Z"}var e=Mn,t=_n,n=Dn,r=Pn;return i.innerRadius=function(t){return arguments.length?(e=d3.functor(t),i):e},i.outerRadius=function(e){return arguments.length?(t=d3.functor(e),i):t},i.startAngle=function(e){return arguments.length?(n=d3.functor(e),i):n},i.endAngle=function(e){return arguments.length?(r=d3.functor(e),i):r},i.centroid=function(){var i=(e.apply(this,arguments)+t.apply(this,arguments))/2,s=(n.apply(this,arguments)+r.apply(this,arguments))/2+An;return[Math.cos(s)*i,Math.sin(s)*i]},i};var An=-Math.PI/2,On=2*Math.PI-1e-6;d3.svg.line=function(){return Hn(Object)};var In="linear",qn=d3.map({linear:Rn,"step-before":Un,"step-after":zn,basis:Kn,"basis-open":Qn,"basis-closed":Gn,bundle:Yn,cardinal:Vn,"cardinal-open":Wn,"cardinal-closed":Xn,monotone:ur}),er=[0,2/3,1/3,0],tr=[0,1/3,2/3,0],nr=[0,1/6,2/3,1/6];d3.svg.line.radial=function(){var e=Hn(ar);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Un.reverse=zn,zn.reverse=Un,d3.svg.area=function(){return fr(Object)},d3.svg.area.radial=function(){var e=fr(ar);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},d3.svg.chord=function(){function s(n,r){var i=o(this,e,n,r),s=o(this,t,n,r);return"M"+i.p0+a(i.r,i.p1,i.a1-i.a0)+(u(i,s)?f(i.r,i.p1,i.r,i.p0):f(i.r,i.p1,s.r,s.p0)+a(s.r,s.p1,s.a1-s.a0)+f(s.r,s.p1,i.r,i.p0))+"Z"}function o(e,t,s,o){var u=t.call(e,s,o),a=n.call(e,u,o),f=r.call(e,u,o)+An,l=i.call(e,u,o)+An;return{r:a,a0:f,a1:l,p0:[a*Math.cos(f),a*Math.sin(f)],p1:[a*Math.cos(l),a*Math.sin(l)]}}function u(e,t){return e.a0==t.a0&&e.a1==t.a1}function a(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Math.PI)+",1 "+t}function f(e,t,n,r){return"Q 0,0 "+r}var e=hr,t=pr,n=dr,r=Dn,i=Pn;return s.radius=function(e){return arguments.length?(n=d3.functor(e),s):n},s.source=function(t){return arguments.length?(e=d3.functor(t),s):e},s.target=function(e){return arguments.length?(t=d3.functor(e),s):t},s.startAngle=function(e){return arguments.length?(r=d3.functor(e),s):r},s.endAngle=function(e){return arguments.length?(i=d3.functor(e),s):i},s},d3.svg.diagonal=function(){function r(r,i){var s=e.call(this,r,i),o=t.call(this,r,i),u=(s.y+o.y)/2,a=[s,{x:s.x,y:u},{x:o.x,y:u},o];return a=a.map(n),"M"+a[0]+"C"+a[1]+" "+a[2]+" "+a[3]}var e=hr,t=pr,n=gr;return r.source=function(t){return arguments.length?(e=d3.functor(t),r):e},r.target=function(e){return arguments.length?(t=d3.functor(e),r):t},r.projection=function(e){return arguments.length?(n=e,r):n},r},d3.svg.diagonal.radial=function(){var e=d3.svg.diagonal(),t=gr,n=e.projection;return e.projection=function(e){return arguments.length?n(yr(t=e)):t},e},d3.svg.mouse=d3.mouse,d3.svg.touches=d3.touches,d3.svg.symbol=function(){function n(n,r){return(Sr.get(e.call(this,n,r))||Er)(t.call(this,n,r))}var e=wr,t=br;return n.type=function(t){return arguments.length?(e=d3.functor(t),n):e},n.size=function(e){return arguments.length?(t=d3.functor(e),n):t},n};var Sr=d3.map({circle:Er,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+ -3*t+","+ -t+"H"+ -t+"V"+ -3*t+"H"+t+"V"+ -t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+ -t+"V"+t+"H"+ -3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Tr)),n=t*Tr;return"M0,"+ -t+"L"+n+",0"+" 0,"+t+" "+ -n+",0"+"Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+ -t+","+ -t+"L"+t+","+ -t+" "+t+","+t+" "+ -t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/xr),n=t*xr/2;return"M0,"+n+"L"+t+","+ -n+" "+ -t+","+ -n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/xr),n=t*xr/2;return"M0,"+ -n+"L"+t+","+n+" "+ -t+","+n+"Z"}});d3.svg.symbolTypes=Sr.keys();var xr=Math.sqrt(3),Tr=Math.tan(30*Math.PI/180);d3.svg.axis=function(){function l(l){l.each(function(){var l=d3.select(this),c=u==null?e.ticks?e.ticks.apply(e,o):e.domain():u,h=a==null?e.tickFormat?e.tickFormat.apply(e,o):String:a,p=kr(e,c,f),d=l.selectAll(".minor").data(p,String),v=d.enter().insert("line","g").attr("class","tick minor").style("opacity",1e-6),m=d3.transition(d.exit()).style("opacity",1e-6).remove(),g=d3.transition(d).style("opacity",1),y=l.selectAll("g").data(c,String),b=y.enter().insert("g","path").style("opacity",1e-6),w=d3.transition(y.exit()).style("opacity",1e-6).remove(),E=d3.transition(y).style("opacity",1),S,x=rn(e),T=l.selectAll(".domain").data([0]),N=T.enter().append("path").attr("class","domain"),C=d3.transition(T),k=e.copy(),L=this.__chart__||k;this.__chart__=k,b.append("line").attr("class","tick"),b.append("text"),E.select("text").text(h);switch(t){case"bottom":S=Nr,v.attr("y2",r),g.attr("x2",0).attr("y2",r),b.select("line").attr("y2",n),b.select("text").attr("y",Math.max(n,0)+s),E.select("line").attr("x2",0).attr("y2",n),E.select("text").attr("x",0).attr("y",Math.max(n,0)+s).attr("dy",".71em").attr("text-anchor","middle"),C.attr("d","M"+x[0]+","+i+"V0H"+x[1]+"V"+i);break;case"top":S=Nr,v.attr("y2",-r),g.attr("x2",0).attr("y2",-r),b.select("line").attr("y2",-n),b.select("text").attr("y",-(Math.max(n,0)+s)),E.select("line").attr("x2",0).attr("y2",-n),E.select("text").attr("x",0).attr("y",-(Math.max(n,0)+s)).attr("dy","0em").attr("text-anchor","middle"),C.attr("d","M"+x[0]+","+ -i+"V0H"+x[1]+"V"+ -i);break;case"left":S=Cr,v.attr("x2",-r),g.attr("x2",-r).attr("y2",0),b.select("line").attr("x2",-n),b.select("text").attr("x",-(Math.max(n,0)+s)),E.select("line").attr("x2",-n).attr("y2",0),E.select("text").attr("x",-(Math.max(n,0)+s)).attr("y",0).attr("dy",".32em").attr("text-anchor","end"),C.attr("d","M"+ -i+","+x[0]+"H0V"+x[1]+"H"+ -i);break;case"right":S=Cr,v.attr("x2",r),g.attr("x2",r).attr("y2",0),b.select("line").attr("x2",n),b.select("text").attr("x",Math.max(n,0)+s),E.select("line").attr("x2",n).attr("y2",0),E.select("text").attr("x",Math.max(n,0)+s).attr("y",0).attr("dy",".32em").attr("text-anchor","start"),C.attr("d","M"+i+","+x[0]+"H0V"+x[1]+"H"+i)}if(e.ticks)b.call(S,L),E.call(S,k),w.call(S,k),v.call(S,L),g.call(S,k),m.call(S,k);else{var A=k.rangeBand()/2,O=function(e){return k(e)+A};b.call(S,O),E.call(S,O)}})}var e=d3.scale.linear(),t="bottom",n=6,r=6,i=6,s=3,o=[10],u=null,a,f=0;return l.scale=function(t){return arguments.length?(e=t,l):e},l.orient=function(e){return arguments.length?(t=e,l):t},l.ticks=function(){return arguments.length?(o=arguments,l):o},l.tickValues=function(e){return arguments.length?(u=e,l):u},l.tickFormat=function(e){return arguments.length?(a=e,l):a},l.tickSize=function(e,t,s){if(!arguments.length)return n;var o=arguments.length-1;return n=+e,r=o>1?+t:n,i=o>0?+arguments[o]:n,l},l.tickPadding=function(e){return arguments.length?(s=+e,l):s},l.tickSubdivide=function(e){return arguments.length?(f=+e,l):f},l},d3.svg.brush=function(){function o(e){e.each(function(){var e=d3.select(this),i=e.selectAll(".background").data([0]),s=e.selectAll(".extent").data([0]),c=e.selectAll(".resize").data(r,String),h;e.style("pointer-events","all").on("mousedown.brush",l).on("touchstart.brush",l),i.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),s.enter().append("rect").attr("class","extent").style("cursor","move"),c.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Lr[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),c.style("display",o.empty()?"none":null),c.exit().remove(),t&&(h=rn(t),i.attr("x",h[0]).attr("width",h[1]-h[0]),a(e)),n&&(h=rn(n),i.attr("y",h[0]).attr("height",h[1]-h[0]),f(e)),u(e)})}function u(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+i[+/e$/.test(e)][0]+","+i[+/^s/.test(e)][1]+")"})}function a(e){e.select(".extent").attr("x",i[0][0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",i[1][0]-i[0][0])}function f(e){e.select(".extent").attr("y",i[0][1]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",i[1][1]-i[0][1])}function l(){function x(){var e=d3.event.changedTouches;return e?d3.touches(r,e)[0]:d3.mouse(r)}function T(){d3.event.keyCode==32&&(m||(g=null,y[0]-=i[1][0],y[1]-=i[1][1],m=2),J())}function N(){d3.event.keyCode==32&&m==2&&(y[0]+=i[1][0],y[1]+=i[1][1],m=0,J())}function C(){var e=x(),r=!1;b&&(e[0]+=b[0],e[1]+=b[1]),m||(d3.event.altKey?(g||(g=[(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]),y[0]=i[+(e[0]<g[0])][0],y[1]=i[+(e[1]<g[1])][1]):g=null),d&&k(e,t,0)&&(a(h),r=!0),v&&k(e,n,1)&&(f(h),r=!0),r&&(u(h),c({type:"brush",mode:m?"move":"resize"}))}function k(e,t,n){var r=rn(t),o=r[0],u=r[1],a=y[n],f=i[1][n]-i[0][n],l,c;m&&(o-=a,u-=f+a),l=Math.max(o,Math.min(u,e[n])),m?c=(l+=a)+f:(g&&(a=Math.max(o,Math.min(u,2*g[n]-l))),a<l?(c=l,l=a):c=a);if(i[0][n]!==l||i[1][n]!==c)return s=null,i[0][n]=l,i[1][n]=c,!0}function L(){C(),h.style("pointer-events","all").selectAll(".resize").style("display",o.empty()?"none":null),d3.select("body").style("cursor",null),w.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),c({type:"brushend"}),J()}var r=this,l=d3.select(d3.event.target),c=e.of(r,arguments),h=d3.select(r),p=l.datum(),d=!/^(n|s)$/.test(p)&&t,v=!/^(e|w)$/.test(p)&&n,m=l.classed("extent"),g,y=x(),b,w=d3.select(window).on("mousemove.brush",C).on("mouseup.brush",L).on("touchmove.brush",C).on("touchend.brush",L).on("keydown.brush",T).on("keyup.brush",N);if(m)y[0]=i[0][0]-y[0],y[1]=i[0][1]-y[1];else if(p){var E=+/w$/.test(p),S=+/^n/.test(p);b=[i[1-E][0]-y[0],i[1-S][1]-y[1]],y[0]=i[E][0],y[1]=i[S][1]}else d3.event.altKey&&(g=y.slice());h.style("pointer-events","none").selectAll(".resize").style("display",null),d3.select("body").style("cursor",l.style("cursor")),c({type:"brushstart"}),C(),J()}var e=Q(o,"brushstart","brush","brushend"),t=null,n=null,r=Ar[0],i=[[0,0],[0,0]],s;return o.x=function(e){return arguments.length?(t=e,r=Ar[!t<<1|!n],o):t},o.y=function(e){return arguments.length?(n=e,r=Ar[!t<<1|!n],o):n},o.extent=function(e){var r,u,a,f,l;return arguments.length?(s=[[0,0],[0,0]],t&&(r=e[0],u=e[1],n&&(r=r[0],u=u[0]),s[0][0]=r,s[1][0]=u,t.invert&&(r=t(r),u=t(u)),u<r&&(l=r,r=u,u=l),i[0][0]=r|0,i[1][0]=u|0),n&&(a=e[0],f=e[1],t&&(a=a[1],f=f[1]),s[0][1]=a,s[1][1]=f,n.invert&&(a=n(a),f=n(f)),f<a&&(l=a,a=f,f=l),i[0][1]=a|0,i[1][1]=f|0),o):(e=s||i,t&&(r=e[0][0],u=e[1][0],s||(r=i[0][0],u=i[1][0],t.invert&&(r=t.invert(r),u=t.invert(u)),u<r&&(l=r,r=u,u=l))),n&&(a=e[0][1],f=e[1][1],s||(a=i[0][1],f=i[1][1],n.invert&&(a=n.invert(a),f=n.invert(f)),f<a&&(l=a,a=f,f=l))),t&&n?[[r,a],[u,f]]:t?[r,u]:n&&[a,f])},o.clear=function(){return s=null,i[0][0]=i[0][1]=i[1][0]=i[1][1]=0,o},o.empty=function(){return t&&i[0][0]===i[1][0]||n&&i[0][1]===i[1][1]},d3.rebind(o,e,"on")};var Lr={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ar=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];d3.behavior={},d3.behavior.drag=function(){function n(){this.on("mousedown.drag",r).on("touchstart.drag",r)}function r(){function f(){var e=n.parentNode,t=d3.event.changedTouches;return t?d3.touches(e,t)[0]:d3.mouse(e)}function l(){if(!n.parentNode)return c();var e=f(),t=e[0]-o[0],i=e[1]-o[1];u|=t|i,o=e,J(),r({type:"drag",x:e[0]+s[0],y:e[1]+s[1],dx:t,dy:i})}function c(){r({type:"dragend"}),u&&(J(),d3.event.target===i&&a.on("click.drag",h,!0)),a.on("mousemove.drag",null).on("touchmove.drag",null).on("mouseup.drag",null).on("touchend.drag",null)}function h(){J(),a.on("click.drag",null)}var n=this,r=e.of(n,arguments),i=d3.event.target,s,o=f(),u=0,a=d3.select(window).on("mousemove.drag",l).on("touchmove.drag",l).on("mouseup.drag",c,!0).on("touchend.drag",c,!0);t?(s=t.apply(n,arguments),s=[s.x-o[0],s.y-o[1]]):s=[0,0],r({type:"dragstart"})}var e=Q(n,"drag","dragstart","dragend"),t=null;return n.origin=function(e){return arguments.length?(t=e,n):t},d3.rebind(n,e,"on")},d3.behavior.zoom=function(){function c(){this.on("mousedown.zoom",g).on("mousewheel.zoom",y).on("mousemove.zoom",b).on("DOMMouseScroll.zoom",y).on("dblclick.zoom",w).on("touchstart.zoom",E).on("touchmove.zoom",S).on("touchend.zoom",E)}function h(t){return[(t[0]-e[0])/n,(t[1]-e[1])/n]}function p(t){return[t[0]*n+e[0],t[1]*n+e[1]]}function d(e){n=Math.max(i[0],Math.min(i[1],e))}function v(t,n){n=p(n),e[0]+=t[0]-n[0],e[1]+=t[1]-n[1]}function m(t){u&&u.domain(o.range().map(function(t){return(t-e[0])/n}).map(o.invert)),f&&f.domain(a.range().map(function(t){return(t-e[1])/n}).map(a.invert)),d3.event.preventDefault(),t({type:"zoom",scale:n,translate:e})}function g(){function u(){r=1,v(d3.mouse(e),o),m(t)}function a(){r&&J(),i.on("mousemove.zoom",null).on("mouseup.zoom",null),r&&d3.event.target===n&&i.on("click.zoom",f)}function f(){J(),i.on("click.zoom",null)}var e=this,t=s.of(e,arguments),n=d3.event.target,r=0,i=d3.select(window).on("mousemove.zoom",u).on("mouseup.zoom",a),o=h(d3.mouse(e));window.focus(),J()}function y(){t||(t=h(d3.mouse(this))),d(Math.pow(2,_r()*.002)*n),v(d3.mouse(this),t),m(s.of(this,arguments))}function b(){t=null}function w(){var e=d3.mouse(this),t=h(e);d(d3.event.shiftKey?n/2:n*2),v(e,t),m(s.of(this,arguments))}function E(){var e=d3.touches(this),i=Date.now();r=n,t={},e.forEach(function(e){t[e.identifier]=h(e)}),J();if(e.length===1&&i-l<500){var o=e[0],u=h(e[0]);d(n*2),v(o,u),m(s.of(this,arguments))}l=i}function S(){var e=d3.touches(this),n=e[0],i=t[n.identifier];if(o=e[1]){var o,u=t[o.identifier];n=[(n[0]+o[0])/2,(n[1]+o[1])/2],i=[(i[0]+u[0])/2,(i[1]+u[1])/2],d(d3.event.scale*r)}v(n,i),m(s.of(this,arguments))}var e=[0,0],t,n=1,r,i=Mr,s=Q(c,"zoom"),o,u,a,f,l;return c.translate=function(t){return arguments.length?(e=t.map(Number),c):e},c.scale=function(e){return arguments.length?(n=+e,c):n},c.scaleExtent=function(e){return arguments.length?(i=e==null?Mr:e.map(Number),c):i},c.x=function(e){return arguments.length?(u=e,o=e.copy(),c):u},c.y=function(e){return arguments.length?(f=e,a=e.copy(),c):f},d3.rebind(c,s,"on")};var Or,Mr=[0,Infinity];d3.layout={},d3.layout.bundle=function(){return function(e){var t=[],n=-1,r=e.length;while(++n<r)t.push(Dr(e[n]));return t}},d3.layout.chord=function(){function f(){var e={},f=[],c=d3.range(i),h=[],p,d,v,m,g;t=[],n=[],p=0,m=-1;while(++m<i){d=0,g=-1;while(++g<i)d+=r[m][g];f.push(d),h.push(d3.range(i)),p+=d}o&&c.sort(function(e,t){return o(f[e],f[t])}),u&&h.forEach(function(e,t){e.sort(function(e,n){return u(r[t][e],r[t][n])})}),p=(2*Math.PI-s*i)/p,d=0,m=-1;while(++m<i){v=d,g=-1;while(++g<i){var y=c[m],b=h[y][g],w=r[y][b],E=d,S=d+=w*p;e[y+"-"+b]={index:y,subindex:b,startAngle:E,endAngle:S,value:w}}n.push({index:y,startAngle:v,endAngle:d,value:(d-v)/p}),d+=s}m=-1;while(++m<i){g=m-1;while(++g<i){var x=e[m+"-"+g],T=e[g+"-"+m];(x.value||T.value)&&t.push(x.value<T.value?{source:T,target:x}:{source:x,target:T})}}a&&l()}function l(){t.sort(function(e,t){return a((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var e={},t,n,r,i,s=0,o,u,a;return e.matrix=function(s){return arguments.length?(i=(r=s)&&r.length,t=n=null,e):r},e.padding=function(r){return arguments.length?(s=r,t=n=null,e):s},e.sortGroups=function(r){return arguments.length?(o=r,t=n=null,e):o},e.sortSubgroups=function(n){return arguments.length?(u=n,t=null,e):u},e.sortChords=function(n){return arguments.length?(a=n,t&&l(),e):a},e.chords=function(){return t||f(),t},e.groups=function(){return n||f(),n},e},d3.layout.force=function(){function g(e){return function(t,n,r,i,s){if(t.point!==e){var o=t.cx-e.x,u=t.cy-e.y,a=1/Math.sqrt(o*o+u*u);if((i-n)*a<l){var f=t.charge*a*a;return e.px-=o*f,e.py-=u*f,!0}if(t.point&&isFinite(a)){var f=t.pointCharge*a*a;e.px-=o*f,e.py-=u*f}}return!t.charge}}function y(t){Fr(jr=t),Br=e}var e={},t=d3.dispatch("start","tick","end"),n=[1,1],r,i,s=.9,o=zr,u=Wr,a=-30,f=.1,l=.8,c,h=[],p=[],d,v,m;return e.tick=function(){if((i*=.99)<.005)return t.end({type:"end",alpha:i=0}),!0;var e=h.length,r=p.length,o,u,l,c,y,b,w,E,S;for(u=0;u<r;++u){l=p[u],c=l.source,y=l.target,E=y.x-c.x,S=y.y-c.y;if(b=E*E+S*S)b=i*v[u]*((b=Math.sqrt(b))-d[u])/b,E*=b,S*=b,y.x-=E*(w=c.weight/(y.weight+c.weight)),y.y-=S*w,c.x+=E*(w=1-w),c.y+=S*w}if(w=i*f){E=n[0]/2,S=n[1]/2,u=-1;if(w)while(++u<e)l=h[u],l.x+=(E-l.x)*w,l.y+=(S-l.y)*w}if(a){Ur(o=d3.geom.quadtree(h),i,m),u=-1;while(++u<e)(l=h[u]).fixed||o.visit(g(l))}u=-1;while(++u<e)l=h[u],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*s,l.y-=(l.py-(l.py=l.y))*s);t.tick({type:"tick",alpha:i})},e.nodes=function(t){return arguments.length?(h=t,e):h},e.links=function(t){return arguments.length?(p=t,e):p},e.size=function(t){return arguments.length?(n=t,e):n},e.linkDistance=function(t){return arguments.length?(o=d3.functor(t),e):o},e.distance=e.linkDistance,e.linkStrength=function(t){return arguments.length?(u=d3.functor(t),e):u},e.friction=function(t){return arguments.length?(s=t,e):s},e.charge=function(t){return arguments.length?(a=typeof t=="function"?t:+t,e):a},e.gravity=function(t){return arguments.length?(f=t,e):f},e.theta=function(t){return arguments.length?(l=t,e):l},e.alpha=function(n){return arguments.length?(i?n>0?i=n:i=0:n>0&&(t.start({type:"start",alpha:i=n}),d3.timer(e.tick)),e):i},e.start=function(){function y(e,n){var r=b(t),i=-1,s=r.length,o;while(++i<s)if(!isNaN(o=r[i][e]))return o;return Math.random()*n}function b(){if(!c){c=[];for(r=0;r<i;++r)c[r]=[];for(r=0;r<s;++r){var e=p[r];c[e.source.index].push(e.target),c[e.target.index].push(e.source)}}return c[t]}var t,r,i=h.length,s=p.length,f=n[0],l=n[1],c,g;for(t=0;t<i;++t)(g=h[t]).index=t,g.weight=0;d=[],v=[];for(t=0;t<s;++t)g=p[t],typeof g.source=="number"&&(g.source=h[g.source]),typeof g.target=="number"&&(g.target=h[g.target]),d[t]=o.call(this,g,t),v[t]=u.call(this,g,t),++g.source.weight,++g.target.weight;for(t=0;t<i;++t)g=h[t],isNaN(g.x)&&(g.x=y("x",f)),isNaN(g.y)&&(g.y=y("y",l)),isNaN(g.px)&&(g.px=g.x),isNaN(g.py)&&(g.py=g.y);m=[];if(typeof a=="function")for(t=0;t<i;++t)m[t]=+a.call(this,h[t],t);else for(t=0;t<i;++t)m[t]=a;return e.resume()},e.resume=function(){return e.alpha(.1)},e.stop=function(){return e.alpha(0)},e.drag=function(){r||(r=d3.behavior.drag().origin(Object).on("dragstart",y).on("drag",Rr).on("dragend",qr)),this.on("mouseover.force",Fr).on("mouseout.force",Ir).call(r)},d3.rebind(e,t,"on")};var Br,jr;d3.layout.partition=function(){function n(e,t,r,i){var s=e.children;e.x=t,e.y=e.depth*i,e.dx=r,e.dy=i;if(s&&(u=s.length)){var o=-1,u,a,f;r=e.value?r/e.value:0;while(++o<u)n(a=s[o],t,f=a.value*r,i),t+=f}}function r(e){var t=e.children,n=0;if(t&&(s=t.length)){var i=-1,s;while(++i<s)n=Math.max(n,r(t[i]))}return 1+n}function i(i,s){var o=e.call(this,i,s);return n(o[0],0,t[0],t[1]/r(o[0])),o}var e=d3.layout.hierarchy(),t=[1,1];return i.size=function(e){return arguments.length?(t=e,i):t},si(i,e)},d3.layout.pie=function(){function i(s,o){var u=s.map(function(t,n){return+e.call(i,t,n)}),a=+(typeof n=="function"?n.apply(this,arguments):n),f=((typeof r=="function"?r.apply(this,arguments):r)-n)/d3.sum(u),l=d3.range(s.length);t!=null&&l.sort(t===Xr?function(e,t){return u[t]-u[e]}:function(e,n){return t(s[e],s[n])});var c=[];return l.forEach(function(e){c[e]={data:s[e],value:d=u[e],startAngle:a,endAngle:a+=d*f}}),c}var e=Number,t=Xr,n=0,r=2*Math.PI;return i.value=function(t){return arguments.length?(e=t,i):e},i.sort=function(e){return arguments.length?(t=e,i):t},i.startAngle=function(e){return arguments.length?(n=e,i):n},i.endAngle=function(e){return arguments.length?(r=e,i):r},i};var Xr={};d3.layout.stack=function(){function o(u,a){var f=u.map(function(t,n){return e.call(o,t,n)}),l=f.map(function(e,t){return e.map(function(e,t){return[i.call(o,e,t),s.call(o,e,t)]})}),c=t.call(o,l,a);f=d3.permute(f,c),l=d3.permute(l,c);var h=n.call(o,l,a),p=f.length,d=f[0].length,v,m,g;for(m=0;m<d;++m){r.call(o,f[0][m],g=h[m],l[0][m][1]);for(v=1;v<p;++v)r.call(o,f[v][m],g+=l[v-1][m][1],l[v][m][1])}return u}var e=Object,t=Gr,n=Yr,r=Jr,i=Vr,s=$r;return o.values=function(t){return arguments.length?(e=t,o):e},o.order=function(e){return arguments.length?(t=typeof e=="function"?e:Kr.get(e)||Gr,o):t},o.offset=function(e){return arguments.length?(n=typeof e=="function"?e:Qr.get(e)||Yr,o):n},o.x=function(e){return arguments.length?(i=e,o):i},o.y=function(e){return arguments.length?(s=e,o):s},o.out=function(e){return arguments.length?(r=e,o):r},o};var Kr=d3.map({"inside-out":function(e){var t=e.length,n,r,i=e.map(Zr),s=e.map(ei),o=d3.range(t).sort(function(e,t){return i[e]-i[t]}),u=0,a=0,f=[],l=[];for(n=0;n<t;++n)r=o[n],u<a?(u+=s[r],f.push(r)):(a+=s[r],l.push(r));return l.reverse().concat(f)},reverse:function(e){return d3.range(e.length).reverse()},"default":Gr}),Qr=d3.map({silhouette:function(e){var t=e.length,n=e[0].length,r=[],i=0,s,o,u,a=[];for(o=0;o<n;++o){for(s=0,u=0;s<t;s++)u+=e[s][o][1];u>i&&(i=u),r.push(u)}for(o=0;o<n;++o)a[o]=(i-r[o])/2;return a},wiggle:function(e){var t=e.length,n=e[0],r=n.length,i=0,s,o,u,a,f,l,c,h,p,d=[];d[0]=h=p=0;for(o=1;o<r;++o){for(s=0,a=0;s<t;++s)a+=e[s][o][1];for(s=0,f=0,c=n[o][0]-n[o-1][0];s<t;++s){for(u=0,l=(e[s][o][1]-e[s][o-1][1])/(2*c);u<s;++u)l+=(e[u][o][1]-e[u][o-1][1])/c;f+=l*e[s][o][1]}d[o]=h-=a?f/a*c:0,h<p&&(p=h)}for(o=0;o<r;++o)d[o]-=p;return d},expand:function(e){var t=e.length,n=e[0].length,r=1/t,i,s,o,u=[];for(s=0;s<n;++s){for(i=0,o=0;i<t;i++)o+=e[i][s][1];if(o)for(i=0;i<t;i++)e[i][s][1]/=o;else for(i=0;i<t;i++)e[i][s][1]=r}for(s=0;s<n;++s)u[s]=0;return u},zero:Yr});d3.layout.histogram=function(){function i(i,s){var o=[],u=i.map(t,this),a=n.call(this,u,s),f=r.call(this,a,u,s),l,s=-1,c=u.length,h=f.length-1,p=e?1:1/c,d;while(++s<h)l=o[s]=[],l.dx=f[s+1]-(l.x=f[s]),l.y=0;s=-1;while(++s<c)d=u[s],d>=a[0]&&d<=a[1]&&(l=o[d3.bisect(f,d,1,h)-1],l.y+=p,l.push(i[s]));return o}var e=!0,t=Number,n=ii,r=ni;return i.value=function(e){return arguments.length?(t=e,i):t},i.range=function(e){return arguments.length?(n=d3.functor(e),i):n},i.bins=function(e){return arguments.length?(r=typeof e=="number"?function(t){return ri(t,e)}:d3.functor(e),i):r},i.frequency=function(t){return arguments.length?(e=!!t,i):e},i},d3.layout.hierarchy=function(){function r(i,o,u){var a=t.call(s,i,o),f=li?i:{data:i};f.depth=o,u.push(f);if(a&&(c=a.length)){var l=-1,c,h=f.children=[],p=0,v=o+1;while(++l<c)d=r(a[l],v,u),d.parent=f,h.push(d),p+=d.value;e&&h.sort(e),n&&(f.value=p)}else n&&(f.value=+n.call(s,i,o)||0);return f}function i(e,t){var r=e.children,o=0;if(r&&(a=r.length)){var u=-1,a,f=t+1;while(++u<a)o+=i(r[u],f)}else n&&(o=+n.call(s,li?e:e.data,t)||0);return n&&(e.value=o),o}function s(e){var t=[];return r(e,0,t),t}var e=ai,t=oi,n=ui;return s.sort=function(t){return arguments.length?(e=t,s):e},s.children=function(e){return arguments.length?(t=e,s):t},s.value=function(e){return arguments.length?(n=e,s):n},s.revalue=function(e){return i(e,0),e},s};var li=!1;d3.layout.pack=function(){function n(n,r){var i=e.call(this,n,r),s=i[0];s.x=0,s.y=0,yi(s);var o=t[0],u=t[1],a=1/Math.max(2*s.r/o,2*s.r/u);return bi(s,o/2,u/2,a),i}var e=d3.layout.hierarchy().sort(ci),t=[1,1];return n.size=function(e){return arguments.length?(t=e,n):t},si(n,e)},d3.layout.cluster=function(){function r(r,i){var s=e.call(this,r,i),o=s[0],u,a=0,f,l;_i(o,function(e){var n=e.children;n&&n.length?(e.x=Si(n),e.y=Ei(n)):(e.x=u?a+=t(e,u):0,e.y=0,u=e)});var c=xi(o),h=Ti(o),p=c.x-t(c,h)/2,d=h.x+t(h,c)/2;return _i(o,function(e){e.x=(e.x-p)/(d-p)*n[0],e.y=(1-(o.y?e.y/o.y:1))*n[1]}),s}var e=d3.layout.hierarchy().sort(null).value(null),t=Ni,n=[1,1];return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(e){return arguments.length?(n=e,r):n},si(r,e)},d3.layout.tree=function(){function r(r,i){function u(e,n){var r=e.children,i=e._tree;if(r&&(s=r.length)){var s,o=r[0],a,l=o,c,h=-1;while(++h<s)c=r[h],u(c,a),l=f(c,a,l),a=c;Di(e);var p=.5*(o._tree.prelim+c._tree.prelim);n?(i.prelim=n._tree.prelim+t(e,n),i.mod=i.prelim-p):i.prelim=p}else n&&(i.prelim=n._tree.prelim+t(e,n))}function a(e,t){e.x=e._tree.prelim+t;var n=e.children;if(n&&(i=n.length)){var r=-1,i;t+=e._tree.mod;while(++r<i)a(n[r],t)}}function f(e,n,r){if(n){var i=e,s=e,o=n,u=e.parent.children[0],a=i._tree.mod,f=s._tree.mod,l=o._tree.mod,c=u._tree.mod,h;while(o=ki(o),i=Ci(i),o&&i)u=Ci(u),s=ki(s),s._tree.ancestor=e,h=o._tree.prelim+l-i._tree.prelim-a+t(o,i),h>0&&(Pi(Hi(o,e,r),e,h),a+=h,f+=h),l+=o._tree.mod,a+=i._tree.mod,c+=u._tree.mod,f+=s._tree.mod;o&&!ki(s)&&(s._tree.thread=o,s._tree.mod+=l-f),i&&!Ci(u)&&(u._tree.thread=i,u._tree.mod+=a-c,r=e)}return r}var s=e.call(this,r,i),o=s[0];_i(o,function(e,t){e._tree={ancestor:e,prelim:0,mod:0,change:0,shift:0,number:t?t._tree.number+1:0}}),u(o),a(o,-o._tree.prelim);var l=Li(o,Oi),c=Li(o,Ai),h=Li(o,Mi),p=l.x-t(l,c)/2,d=c.x+t(c,l)/2,v=h.depth||1;return _i(o,function(e){e.x=(e.x-p)/(d-p)*n[0],e.y=e.depth/v*n[1],delete e._tree}),s}var e=d3.layout.hierarchy().sort(null).value(null),t=Ni,n=[1,1];return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(e){return arguments.length?(n=e,r):n},si(r,e)},d3.layout.treemap=function(){function a(e,t){var n=-1,r=e.length,i,s;while(++n<r)s=(i=e[n]).value*(t<0?0:t),i.area=isNaN(s)||s<=0?0:s}function f(e){var t=e.children;if(t&&t.length){var n=i(e),r=[],s=t.slice(),o,u=Infinity,l,p=Math.min(n.dx,n.dy),d;a(s,n.dx*n.dy/e.value),r.area=0;while((d=s.length)>0)r.push(o=s[d-1]),r.area+=o.area,(l=c(r,p))<=u?(s.pop(),u=l):(r.area-=r.pop().area,h(r,p,n,!1),p=Math.min(n.dx,n.dy),r.length=r.area=0,u=Infinity);r.length&&(h(r,p,n,!0),r.length=r.area=0),t.forEach(f)}}function l(e){var t=e.children;if(t&&t.length){var n=i(e),r=t.slice(),s,o=[];a(r,n.dx*n.dy/e.value),o.area=0;while(s=r.pop())o.push(s),o.area+=s.area,s.z!=null&&(h(o,s.z?n.dx:n.dy,n,!r.length),o.length=o.area=0);t.forEach(l)}}function c(e,t){var n=e.area,r,i=0,s=Infinity,o=-1,a=e.length;while(++o<a){if(!(r=e[o].area))continue;r<s&&(s=r),r>i&&(i=r)}return n*=n,t*=t,n?Math.max(t*i*u/n,n/(t*s*u)):Infinity}function h(e,n,r,i){var s=-1,o=e.length,u=r.x,a=r.y,f=n?t(e.area/n):0,l;if(n==r.dx){if(i||f>r.dy)f=r.dy;while(++s<o)l=e[s],l.x=u,l.y=a,l.dy=f,u+=l.dx=Math.min(r.x+r.dx-u,f?t(l.area/f):0);l.z=!0,l.dx+=r.x+r.dx-u,r.y+=f,r.dy-=f}else{if(i||f>r.dx)f=r.dx;while(++s<o)l=e[s],l.x=u,l.y=a,l.dx=f,a+=l.dy=Math.min(r.y+r.dy-a,f?t(l.area/f):0);l.z=!1,l.dy+=r.y+r.dy-a,r.x+=f,r.dx-=f}}function p(t){var r=o||e(t),i=r[0];return i.x=0,i.y=0,i.dx=n[0],i.dy=n[1],o&&e.revalue(i),a([i],i.dx*i.dy/i.value),(o?l:f)(i),s&&(o=r),r}var e=d3.layout.hierarchy(),t=Math.round,n=[1,1],r=null,i=Bi,s=!1,o,u=.5*(1+Math.sqrt(5));return p.size=function(e){return arguments.length?(n=e,p):n},p.padding=function(e){function t(t){var n=e.call(p,t,t.depth);return n==null?Bi(t):ji(t,typeof n=="number"?[n,n,n,n]:n)}function n(t){return ji(t,e)}if(!arguments.length)return r;var s;return i=(r=e)==null?Bi:(s=typeof e)==="function"?t:s==="number"?(e=[e,e,e,e],n):n,p},p.round=function(e){return arguments.length?(t=e?Math.round:Number,p):t!=Number},p.sticky=function(e){return arguments.length?(s=e,o=null,p):s},p.ratio=function(e){return arguments.length?(u=e,p):u},si(p,e)},d3.csv=function(e,t){d3.text(e,"text/csv",function(e){t(e&&d3.csv.parse(e))})},d3.csv.parse=function(e){var t;return d3.csv.parseRows(e,function(e,n){if(n){var r={},i=-1,s=t.length;while(++i<s)r[t[i]]=e[i];return r}return t=e,null})},d3.csv.parseRows=function(e,t){function f(){if(s.lastIndex>=e.length)return r;if(a)return a=!1,n;var t=s.lastIndex;if(e.charCodeAt(t)===34){var i=t;while(i++<e.length)if(e.charCodeAt(i)===34){if(e.charCodeAt(i+1)!==34)break;i++}s.lastIndex=i+2;var o=e.charCodeAt(i+1);return o===13?(a=!0,e.charCodeAt(i+2)===10&&s.lastIndex++):o===10&&(a=!0),e.substring(t+1,i).replace(/""/g,'"')}var u=s.exec(e);return u?(a=u[0].charCodeAt(0)!==44,e.substring(t,u.index)):(s.lastIndex=e.length,e.substring(t))}var n={},r={},i=[],s=/\r\n|[,\r\n]/g,o=0,u,a;s.lastIndex=0;while((u=f())!==r){var l=[];while(u!==n&&u!==r)l.push(u),u=f();if(t&&!(l=t(l,o++)))continue;i.push(l)}return i},d3.csv.format=function(e){return e.map(Fi).join("\n")},d3.geo={};var qi=Math.PI/180;d3.geo.azimuthal=function(){function a(t){var s=t[0]*qi-i,a=t[1]*qi,f=Math.cos(s),l=Math.sin(s),c=Math.cos(a),h=Math.sin(a),p=e!=="orthographic"?u*h+o*c*f:null,d,v=e==="stereographic"?1/(1+p):e==="gnomonic"?1/p:e==="equidistant"?(d=Math.acos(p),d?d/Math.sin(d):0):e==="equalarea"?Math.sqrt(2/(1+p)):1,m=v*c*l,g=v*(u*c*f-o*h);return[n*m+r[0],n*g+r[1]]}var e="orthographic",t,n=200,r=[480,250],i,s,o,u;return a.invert=function(t){var s=(t[0]-r[0])/n,a=(t[1]-r[1])/n,f=Math.sqrt(s*s+a*a),l=e==="stereographic"?2*Math.atan(f):e==="gnomonic"?Math.atan(f):e==="equidistant"?f:e==="equalarea"?2*Math.asin(.5*f):Math.asin(f),c=Math.sin(l),h=Math.cos(l);return[(i+Math.atan2(s*c,f*o*h+a*u*c))/qi,Math.asin(h*u-(f?a*c*o/f:0))/qi]},a.mode=function(t){return arguments.length?(e=t+"",a):e},a.origin=function(e){return arguments.length?(t=e,i=t[0]*qi,s=t[1]*qi,o=Math.cos(s),u=Math.sin(s),a):t},a.scale=function(e){return arguments.length?(n=+e,a):n},a.translate=function(e){return arguments.length?(r=[+e[0],+e[1]],a):r},a.origin([0,0])},d3.geo.albers=function(){function a(e){var t=s*(qi*e[0]-i),a=Math.sqrt(o-2*s*Math.sin(qi*e[1]))/s;return[n*a*Math.sin(t)+r[0],n*(a*Math.cos(t)-u)+r[1]]}function f(){var n=qi*t[0],r=qi*t[1],f=qi*e[1],l=Math.sin(n),c=Math.cos(n);return i=qi*e[0],s=.5*(l+Math.sin(r)),o=c*c+2*s*l,u=Math.sqrt(o-2*s*Math.sin(f))/s,a}var e=[-98,38],t=[29.5,45.5],n=1e3,r=[480,250],i,s,o,u;return a.invert=function(e){var t=(e[0]-r[0])/n,a=(e[1]-r[1])/n,f=u+a,l=Math.atan2(t,f),c=Math.sqrt(t*t+f*f);return[(i+l/s)/qi,Math.asin((o-c*c*s*s)/(2*s))/qi]},a.origin=function(t){return arguments.length?(e=[+t[0],+t[1]],f()):e},a.parallels=function(e){return arguments.length?(t=[+e[0],+e[1]],f()):t},a.scale=function(e){return arguments.length?(n=+e,a):n},a.translate=function(e){return arguments.length?(r=[+e[0],+e[1]],a):r},f()},d3.geo.albersUsa=function(){function i(i){var s=i[0],o=i[1];return(o>50?t:s<-140?n:o<21?r:e)(i)}var e=d3.geo.albers(),t=d3.geo.albers().origin([-160,60]).parallels([55,65]),n=d3.geo.albers().origin([-160,20]).parallels([8,18]),r=d3.geo.albers().origin([-60,10]).parallels([8,18]);return i.scale=function(s){return arguments.length?(e.scale(s),t.scale(s*.6),n.scale(s),r.scale(s*1.5),i.translate(e.translate())):e.scale()},i.translate=function(s){if(!arguments.length)return e.translate();var o=e.scale()/1e3,u=s[0],a=s[1];return e.translate(s),t.translate([u-400*o,a+170*o]),n.translate([u-190*o,a+200*o]),r.translate([u+580*o,a+430*o]),i},i.scale(e.scale())},d3.geo.bonne=function(){function o(o){var u=o[0]*qi-n,a=o[1]*qi-r;if(i){var f=s+i-a,l=u*Math.cos(a)/f;u=f*Math.sin(l),a=f*Math.cos(l)-s}else u*=Math.cos(a),a*=-1;return[e*u+t[0],e*a+t[1]]}var e=200,t=[480,250],n,r,i,s;return o.invert=function(r){var o=(r[0]-t[0])/e,u=(r[1]-t[1])/e;if(i){var a=s+u,f=Math.sqrt(o*o+a*a);u=s+i-f,o=n+f*Math.atan2(o,a)/Math.cos(u)}else u*=-1,o/=Math.cos(u);return[o/qi,u/qi]},o.parallel=function(e){return arguments.length?(s=1/Math.tan(i=e*qi),o):i/qi},o.origin=function(e){return arguments.length?(n=e[0]*qi,r=e[1]*qi,o):[n/qi,r/qi]},o.scale=function(t){return arguments.length?(e=+t,o):e},o.translate=function(e){return arguments.length?(t=[+e[0],+e[1]],o):t},o.origin([0,0]).parallel(45)},d3.geo.equirectangular=function(){function n(n){var r=n[0]/360,i=-n[1]/360;return[e*r+t[0],e*i+t[1]]}var e=500,t=[480,250];return n.invert=function(n){var r=(n[0]-t[0])/e,i=(n[1]-t[1])/e;return[360*r,-360*i]},n.scale=function(t){return arguments.length?(e=+t,n):e},n.translate=function(e){return arguments.length?(t=[+e[0],+e[1]],n):t},n},d3.geo.mercator=function(){function n(n){var r=n[0]/360,i=-(Math.log(Math.tan(Math.PI/4+n[1]*qi/2))/qi)/360;return[e*r+t[0],e*Math.max(-0.5,Math.min(.5,i))+t[1]]}var e=500,t=[480,250];return n.invert=function(n){var r=(n[0]-t[0])/e,i=(n[1]-t[1])/e;return[360*r,2*Math.atan(Math.exp(-360*i*qi))/qi-90]},n.scale=function(t){return arguments.length?(e=+t,n):e},n.translate=function(e){return arguments.length?(t=[+e[0],+e[1]],n):t},n},d3.geo.path=function(){function r(n,r){return typeof e=="function"&&(t=Ui(e.apply(this,arguments))),s(n)||null}function i(e){return n(e).join(",")}function u(e){var t=l(e[0]),n=0,r=e.length;while(++n<r)t-=l(e[n]);return t}function a(e){var t=d3.geom.polygon(e[0].map(n)),r=t.area(),i=t.centroid(r<0?(r*=-1,1):-1),s=i[0],o=i[1],u=r,a=0,f=e.length;while(++a<f)t=d3.geom.polygon(e[a].map(n)),r=t.area(),i=t.centroid(r<0?(r*=-1,1):-1),s-=i[0],o-=i[1],u-=r;return[s,o,6*u]}function l(e){return Math.abs(d3.geom.polygon(e.map(n)).area())}var e=4.5,t=Ui(e),n=d3.geo.albersUsa(),s=Ri({FeatureCollection:function(e){var t=[],n=e.features,r=-1,i=n.length;while(++r<i)t.push(s(n[r].geometry));return t.join("")},Feature:function(e){return s(e.geometry)},Point:function(e){return"M"+i(e.coordinates)+t},MultiPoint:function(e){var n=[],r=e.coordinates,s=-1,o=r.length;while(++s<o)n.push("M",i(r[s]),t);return n.join("")},LineString:function(e){var t=["M"],n=e.coordinates,r=-1,s=n.length;while(++r<s)t.push(i(n[r]),"L");return t.pop(),t.join("")},MultiLineString:function(e){var t=[],n=e.coordinates,r=-1,s=n.length,o,u,a;while(++r<s){o=n[r],u=-1,a=o.length,t.push("M");while(++u<a)t.push(i(o[u]),"L");t.pop()}return t.join("")},Polygon:function(e){var t=[],n=e.coordinates,r=-1,s=n.length,o,u,a;while(++r<s){o=n[r],u=-1;if((a=o.length-1)>0){t.push("M");while(++u<a)t.push(i(o[u]),"L");t[t.length-1]="Z"}}return t.join("")},MultiPolygon:function(e){var t=[],n=e.coordinates,r=-1,s=n.length,o,u,a,f,l,c;while(++r<s){o=n[r],u=-1,a=o.length;while(++u<a){f=o[u],l=-1;if((c=f.length-1)>0){t.push("M");while(++l<c)t.push(i(f[l]),"L");t[t.length-1]="Z"}}}return t.join("")},GeometryCollection:function(e){var t=[],n=e.geometries,r=-1,i=n.length;while(++r<i)t.push(s(n[r]));return t.join("")}}),o=r.area=Ri({FeatureCollection:function(e){var t=0,n=e.features,r=-1,i=n.length;while(++r<i)t+=o(n[r]);return t},Feature:function(e){return o(e.geometry)},Polygon:function(e){return u(e.coordinates)},MultiPolygon:function(e){var t=0,n=e.coordinates,r=-1,i=n.length;while(++r<i)t+=u(n[r]);return t},GeometryCollection:function(e){var t=0,n=e.geometries,r=-1,i=n.length;while(++r<i)t+=o(n[r]);return t}},0),f=r.centroid=Ri({Feature:function(e){return f(e.geometry)},Polygon:function(e){var t=a(e.coordinates);return[t[0]/t[2],t[1]/t[2]]},MultiPolygon:function(e){var t=0,n=e.coordinates,r,i=0,s=0,o=0,u=-1,f=n.length;while(++u<f)r=a(n[u]),i+=r[0],s+=r[1],o+=r[2];return[i/o,s/o]}});return r.projection=function(e){return n=e,r},r.pointRadius=function(n){return typeof n=="function"?e=n:(e=+n,t=Ui(e)),r},r},d3.geo.bounds=function(e){var t=Infinity,n=Infinity,r=-Infinity,i=-Infinity;return zi(e,function(e,s){e<t&&(t=e),e>r&&(r=e),s<n&&(n=s),s>i&&(i=s)}),[[t,n],[r,i]]};var Wi={Feature:Xi,FeatureCollection:Vi,GeometryCollection:$i,LineString:Ji,MultiLineString:Ki,MultiPoint:Ji,MultiPolygon:Qi,Point:Gi,Polygon:Yi};d3.geo.circle=function(){function i(){}function s(e){return r.distance(e)<n}function u(e){var t=-1,i=e.length,s=[],o,u,f,l,c;while(++t<i)c=r.distance(f=e[t]),c<n?(u&&s.push(ts(u,f)((l-n)/(l-c))),s.push(f),o=u=null):(u=f,!o&&s.length&&(s.push(ts(s[s.length-1],u)((n-l)/(c-l))),o=u)),l=c;return u&&s.length&&(c=r.distance(f=s[0]),s.push(ts(u,f)((l-n)/(l-c)))),a(s)}function a(e){var t=0,n=e.length,i,s,o=n?[e[0]]:e,u,a=r.source();while(++t<n){u=r.source(e[t-1])(e[t]).coordinates;for(i=0,s=u.length;++i<s;)o.push(u[i])}return r.source(a),o}var e=[0,0],t=89.99,n=t*qi,r=d3.geo.greatArc().target(Object);i.clip=function(t){return r.source(typeof e=="function"?e.apply(this,arguments):e),o(t)};var o=Ri({FeatureCollection:function(e){var t=e.features.map(o).filter(Object);return t&&(e=Object.create(e),e.features=t,e)},Feature:function(e){var t=o(e.geometry);return t&&(e=Object.create(e),e.geometry=t,e)},Point:function(e){return s(e.coordinates)&&e},MultiPoint:function(e){var t=e.coordinates.filter(s);return t.length&&{type:e.type,coordinates:t}},LineString:function(e){var t=u(e.coordinates);return t.length&&(e=Object.create(e),e.coordinates=t,e)},MultiLineString:function(e){var t=e.coordinates.map(u).filter(function(e){return e.length});return t.length&&(e=Object.create(e),e.coordinates=t,e)},Polygon:function(e){var t=e.coordinates.map(u);return t[0].length&&(e=Object.create(e),e.coordinates=t,e)},MultiPolygon:function(e){var t=e.coordinates.map(function(e){return e.map(u)}).filter(function(e){return e[0].length});return t.length&&(e=Object.create(e),e.coordinates=t,e)},GeometryCollection:function(e){var t=e.geometries.map(o).filter(Object);return t.length&&(e=Object.create(e),e.geometries=t,e)}});return i.origin=function(t){return arguments.length?(e=t,i):e},i.angle=function(e){return arguments.length?(n=(t=+e)*qi,i):t},i.precision=function(e){return arguments.length?(r.precision(e),i):r.precision()},i},d3.geo.greatArc=function(){function r(){var r=typeof e=="function"?e.apply(this,arguments):e,i=typeof t=="function"?t.apply(this,arguments):t,s=ts(r,i),o=n/s.d,u=0,a=[r];while((u+=o)<1)a.push(s(u));return a.push(i),{type:"LineString",coordinates:a}}var e=Zi,t=es,n=6*qi;return r.distance=function(){var n=typeof e=="function"?e.apply(this,arguments):e,r=typeof t=="function"?t.apply(this,arguments):t;return ts(n,r).d},r.source=function(t){return arguments.length?(e=t,r):e},r.target=function(e){return arguments.length?(t=e,r):t},r.precision=function(e){return arguments.length?(n=e*qi,r):n/qi},r},d3.geo.greatCircle=d3.geo.circle,d3.geom={},d3.geom.contour=function(e,t){var n=t||is(e),r=[],i=n[0],s=n[1],o=0,u=0,a=NaN,f=NaN,l=0;do l=0,e(i-1,s-1)&&(l+=1),e(i,s-1)&&(l+=2),e(i-1,s)&&(l+=4),e(i,s)&&(l+=8),l===6?(o=f===-1?-1:1,u=0):l===9?(o=0,u=a===1?-1:1):(o=ns[l],u=rs[l]),o!=a&&u!=f&&(r.push([i,s]),a=o,f=u),i+=o,s+=u;while(n[0]!=i||n[1]!=s);return r};var ns=[1,0,1,1,-1,0,-1,1,0,0,0,0,-1,0,-1,NaN],rs=[0,-1,0,0,0,-1,0,0,1,-1,1,1,0,-1,0,NaN];d3.geom.hull=function(e){if(e.length<3)return[];var t=e.length,n=t-1,r=[],i=[],s,o,u=0,a,f,l,c,h,p,d,v;for(s=1;s<t;++s)e[s][1]<e[u][1]?u=s:e[s][1]==e[u][1]&&(u=e[s][0]<e[u][0]?s:u);for(s=0;s<t;++s){if(s===u)continue;f=e[s][1]-e[u][1],a=e[s][0]-e[u][0],r.push({angle:Math.atan2(f,a),index:s})}r.sort(function(e,t){return e.angle-t.angle}),d=r[0].angle,p=r[0].index,h=0;for(s=1;s<n;++s)o=r[s].index,d==r[s].angle?(a=e[p][0]-e[u][0],f=e[p][1]-e[u][1],l=e[o][0]-e[u][0],c=e[o][1]-e[u][1],a*a+f*f>=l*l+c*c?r[s].index=-1:(r[h].index=-1,d=r[s].angle,h=s,p=o)):(d=r[s].angle,h=s,p=o);i.push(u);for(s=0,o=0;s<2;++o)r[o].index!==-1&&(i.push(r[o].index),s++);v=i.length;for(;o<n;++o){if(r[o].index===-1)continue;while(!ss(i[v-2],i[v-1],r[o].index,e))--v;i[v++]=r[o].index}var m=[];for(s=0;s<v;++s)m.push(e[i[s]]);return m},d3.geom.polygon=function(e){return e.area=function(){var t=0,n=e.length,r=e[n-1][0]*e[0][1],i=e[n-1][1]*e[0][0];while(++t<n)r+=e[t-1][0]*e[t][1],i+=e[t-1][1]*e[t][0];return(i-r)*.5},e.centroid=function(t){var n=-1,r=e.length,i=0,s=0,o,u=e[r-1],a;arguments.length||(t=-1/(6*e.area()));while(++n<r)o=u,u=e[n],a=o[0]*u[1]-u[0]*o[1],i+=(o[0]+u[0])*a,s+=(o[1]+u[1])*a;return[i*t,s*t]},e.clip=function(t){var n,r=-1,i=e.length,s,o,u=e[i-1],a,f,l;while(++r<i){n=t.slice(),t.length=0,a=e[r],f=n[(o=n.length)-1],s=-1;while(++s<o)l=n[s],os(l,u,a)?(os(f,u,a)||t.push(us(f,l,u,a)),t.push(l)):os(f,u,a)&&t.push(us(f,l,u,a)),f=l;u=a}return t},e},d3.geom.voronoi=function(e){var t=e.map(function(){return[]});return fs(e,function(e){var n,r,i,s,o,u;e.a===1&&e.b>=0?(n=e.ep.r,r=e.ep.l):(n=e.ep.l,r=e.ep.r),e.a===1?(o=n?n.y:-1e6,i=e.c-e.b*o,u=r?r.y:1e6,s=e.c-e.b*u):(i=n?n.x:-1e6,o=e.c-e.a*i,s=r?r.x:1e6,u=e.c-e.a*s);var a=[i,o],f=[s,u];t[e.region.l.index].push(a,f),t[e.region.r.index].push(a,f)}),t.map(function(t,n){var r=e[n][0],i=e[n][1];return t.forEach(function(e){e.angle=Math.atan2(e[0]-r,e[1]-i)}),t.sort(function(e,t){return e.angle-t.angle}).filter(function(e,n){return!n||e.angle-t[n-1].angle>1e-10})})};var as={l:"r",r:"l"};d3.geom.delaunay=function(e){var t=e.map(function(){return[]}),n=[];return fs(e,function(n){t[n.region.l.index].push(e[n.region.r.index])}),t.forEach(function(t,r){var i=e[r],s=i[0],o=i[1];t.forEach(function(e){e.angle=Math.atan2(e[0]-s,e[1]-o)}),t.sort(function(e,t){return e.angle-t.angle});for(var u=0,a=t.length-1;u<a;u++)n.push([i,t[u],t[u+1]])}),n},d3.geom.quadtree=function(e,t,n,r,i){function l(e,t,n,r,i,s){if(isNaN(t.x)||isNaN(t.y))return;if(e.leaf){var o=e.point;o?Math.abs(o.x-t.x)+Math.abs(o.y-t.y)<.01?c(e,t,n,r,i,s):(e.point=null,c(e,o,n,r,i,s),c(e,t,n,r,i,s)):e.point=t}else c(e,t,n,r,i,s)}function c(e,t,n,r,i,s){var o=(n+i)*.5,u=(r+s)*.5,a=t.x>=o,f=t.y>=u,c=(f<<1)+a;e.leaf=!1,e=e.nodes[c]||(e.nodes[c]=ls()),a?n=o:i=o,f?r=u:s=u,l(e,t,n,r,i,s)}var s,o=-1,u=e.length;u&&isNaN(e[0].x)&&(e=e.map(hs));if(arguments.length<5)if(arguments.length===3)i=r=n,n=t;else{t=n=Infinity,r=i=-Infinity;while(++o<u)s=e[o],s.x<t&&(t=s.x),s.y<n&&(n=s.y),s.x>r&&(r=s.x),s.y>i&&(i=s.y);var a=r-t,f=i-n;a>f?i=n+a:r=t+f}var h=ls();return h.add=function(e){l(h,e,t,n,r,i)},h.visit=function(e){cs(e,h,t,n,r,i)},e.forEach(h.add),h},d3.time={};var ps=Date;ds.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){vs.setUTCDate.apply(this._,arguments)},setDay:function(){vs.setUTCDay.apply(this._,arguments)},setFullYear:function(){vs.setUTCFullYear.apply(this._,arguments)},setHours:function(){vs.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){vs.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){vs.setUTCMinutes.apply(this._,arguments)},setMonth:function(){vs.setUTCMonth.apply(this._,arguments)},setSeconds:function(){vs.setUTCSeconds.apply(this._,arguments)},setTime:function(){vs.setTime.apply(this._,arguments)}};var vs=Date.prototype;d3.time.format=function(e){function n(n){var r=[],i=-1,s=0,o,u;while(++i<t)e.charCodeAt(i)==37&&(r.push(e.substring(s,i),(u=Es[o=e.charAt(++i)])?u(n):o),s=i+1);return r.push(e.substring(s,i)),r.join("")}var t=e.length;return n.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},r=ms(n,e,t,0);if(r!=t.length)return null;"p"in n&&(n.H=n.H%12+n.p*12);var i=new ps;return i.setFullYear(n.y,n.m,n.d),i.setHours(n.H,n.M,n.S,n.L),i},n.toString=function(){return e},n};var gs=d3.format("02d"),ys=d3.format("03d"),bs=d3.format("04d"),ws=d3.format("2d"),Es={a:function(e){return d3_time_weekdays[e.getDay()].substring(0,3)},A:function(e){return d3_time_weekdays[e.getDay()]},b:function(e){return _s[e.getMonth()].substring(0,3)},B:function(e){return _s[e.getMonth()]},c:d3.time.format("%a %b %e %H:%M:%S %Y"),d:function(e){return gs(e.getDate())},e:function(e){return ws(e.getDate())},H:function(e){return gs(e.getHours())},I:function(e){return gs(e.getHours()%12||12)},j:function(e){return ys(1+d3.time.dayOfYear(e))},L:function(e){return ys(e.getMilliseconds())},m:function(e){return gs(e.getMonth()+1)},M:function(e){return gs(e.getMinutes())},p:function(e){return e.getHours()>=12?"PM":"AM"},S:function(e){return gs(e.getSeconds())},U:function(e){return gs(d3.time.sundayOfYear(e))},w:function(e){return e.getDay()},W:function(e){return gs(d3.time.mondayOfYear(e))},x:d3.time.format("%m/%d/%y"),X:d3.time.format("%H:%M:%S"),y:function(e){return gs(e.getFullYear()%100)},Y:function(e){return bs(e.getFullYear()%1e4)},Z:Js,"%":function(e){return"%"}},Ss={a:xs,A:Ts,b:ks,B:As,c:Ds,d:qs,e:qs,H:Rs,I:Rs,L:Ws,m:Is,M:Us,p:Vs,S:zs,x:Ps,X:Hs,y:js,Y:Bs},Ns=/^(?:sun|mon|tue|wed|thu|fri|sat)/i,Cs=/^(?:Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday)/i;d3_time_weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var Ls=d3.map({jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11}),Os=/^(?:January|February|March|April|May|June|July|August|September|October|November|December)/ig,Ms=d3.map({january:0,february:1,march:2,april:3,may:4,june:5,july:6,august:7,september:8,october:9,november:10,december:11}),_s=["January","February","March","April","May","June","July","August","September","October","November","December"],Xs=/\s*\d+/,$s=d3.map({am:0,pm:1});d3.time.format.utc=function(e){function n(e){try{ps=ds;var n=new ps;return n._=e,t(n)}finally{ps=Date}}var t=d3.time.format(e);return n.parse=function(e){try{ps=ds;var n=t.parse(e);return n&&n._}finally{ps=Date}},n.toString=t.toString,n};var Ks=d3.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");d3.time.format.iso=Date.prototype.toISOString?Qs:Ks,Qs.parse=function(e){return new Date(e)},Qs.toString=Ks.toString,d3.time.second=Gs(function(e){return new ps(Math.floor(e/1e3)*1e3)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*1e3)},function(e){return e.getSeconds()}),d3.time.seconds=d3.time.second.range,d3.time.seconds.utc=d3.time.second.utc.range,d3.time.minute=Gs(function(e){return new ps(Math.floor(e/6e4)*6e4)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*6e4)},function(e){return e.getMinutes()}),d3.time.minutes=d3.time.minute.range,d3.time.minutes.utc=d3.time.minute.utc.range,d3.time.hour=Gs(function(e){var t=e.getTimezoneOffset()/60;return new ps((Math.floor(e/36e5-t)+t)*36e5)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*36e5)},function(e){return e.getHours()}),d3.time.hours=d3.time.hour.range,d3.time.hours.utc=d3.time.hour.utc.range,d3.time.day=Gs(function(e){return new ps(e.getFullYear(),e.getMonth(),e.getDate())},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),d3.time.days=d3.time.day.range,d3.time.days.utc=d3.time.day.utc.range,d3.time.dayOfYear=function(e){var t=d3.time.year(e);return Math.floor((e-t)/864e5-(e.getTimezoneOffset()-t.getTimezoneOffset())/1440)},d3_time_weekdays.forEach(function(e,t){e=e.toLowerCase(),t=7-t;var n=d3.time[e]=Gs(function(e){return(e=d3.time.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+Math.floor(t)*7)},function(e){var n=d3.time.year(e).getDay();return Math.floor((d3.time.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});d3.time[e+"s"]=n.range,d3.time[e+"s"].utc=n.utc.range,d3.time[e+"OfYear"]=function(e){var n=d3.time.year(e).getDay();return Math.floor((d3.time.dayOfYear(e)+(n+t)%7)/7)}}),d3.time.week=d3.time.sunday,d3.time.weeks=d3.time.sunday.range,d3.time.weeks.utc=d3.time.sunday.utc.range,d3.time.weekOfYear=d3.time.sundayOfYear,d3.time.month=Gs(function(e){return new ps(e.getFullYear(),e.getMonth(),1)},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),d3.time.months=d3.time.month.range,d3.time.months.utc=d3.time.month.utc.range,d3.time.year=Gs(function(e){return new ps(e.getFullYear(),0,1)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),d3.time.years=d3.time.year.range,d3.time.years.utc=d3.time.year.utc.range;var so=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],oo=[[d3.time.second,1],[d3.time.second,5],[d3.time.second,15],[d3.time.second,30],[d3.time.minute,1],[d3.time.minute,5],[d3.time.minute,15],[d3.time.minute,30],[d3.time.hour,1],[d3.time.hour,3],[d3.time.hour,6],[d3.time.hour,12],[d3.time.day,1],[d3.time.day,2],[d3.time.week,1],[d3.time.month,1],[d3.time.month,3],[d3.time.year,1]],uo=[[d3.time.format("%Y"),function(e){return!0}],[d3.time.format("%B"),function(e){return e.getMonth()}],[d3.time.format("%b %d"),function(e){return e.getDate()!=1}],[d3.time.format("%a %d"),function(e){return e.getDay()&&e.getDate()!=1}],[d3.time.format("%I %p"),function(e){return e.getHours()}],[d3.time.format("%I:%M"),function(e){return e.getMinutes()}],[d3.time.format(":%S"),function(e){return e.getSeconds()}],[d3.time.format(".%L"),function(e){return e.getMilliseconds()}]],ao=d3.scale.linear(),fo=no(uo);oo.year=function(e,t){return ao.domain(e.map(io)).ticks(t).map(ro)},d3.time.scale=function(){return Zs(d3.scale.linear(),oo,fo)};var lo=oo.map(function(e){return[e[0].utc,e[1]]}),co=[[d3.time.format.utc("%Y"),function(e){return!0}],[d3.time.format.utc("%B"),function(e){return e.getUTCMonth()}],[d3.time.format.utc("%b %d"),function(e){return e.getUTCDate()!=1}],[d3.time.format.utc("%a %d"),function(e){return e.getUTCDay()&&e.getUTCDate()!=1}],[d3.time.format.utc("%I %p"),function(e){return e.getUTCHours()}],[d3.time.format.utc("%I:%M"),function(e){return e.getUTCMinutes()}],[d3.time.format.utc(":%S"),function(e){return e.getUTCSeconds()}],[d3.time.format.utc(".%L"),function(e){return e.getUTCMilliseconds()}]],ho=no(co);lo.year=function(e,t){return ao.domain(e.map(vo)).ticks(t).map(po)},d3.time.scale.utc=function(){return Zs(d3.scale.linear(),lo,ho)}}(),function(){_.uniqueId=function(e){var t=[],n="0123456789ABCDEF";for(var r=0;r<32;r++)t[r]=n.substr(Math.floor(Math.random()*16),1);t[12]="4",t[16]=n.substr(t[16]&3|8,1);var i=t.join("");return e?e+"-"+i:i},_.isNullOrUndefined=function(e){return _.isNull(e)||_.isUndefined(e)},_.setdefault=function(e,t,n){return _.has(e,t)?e[t]:(e[t]=n,n)}}.call(this),function(){if(!this.rrequire){var e={},t={},n=function(s,o){var u=r(o,s),a=r(u,"./index"),f,l;f=t[u]||t[a];if(f)return f.exports;if(!(l=e[u]||e[u=a]))throw"module '"+s+"' not found";f={id:u,exports:{}};try{return t[u]=f,l(f.exports,function(e){return n(e,i(u))},f),f.exports}catch(c){throw delete t[u],c}},r=function(e,t){var n=[],r,i;/^\.\.?(\/|$)/.test(t)?r=[e,t].join("/").split("/"):r=t.split("/");for(var s=0,o=r.length;s<o;s++)i=r[s],i==".."?n.pop():i!="."&&i!=""&&n.push(i);return n.join("/")},i=function(e){return e.split("/").slice(0,-1).join("/")};this.rrequire=function(e){return n(e,"")},this.rrequire.define=function(t){for(var n in t)e[n]=t[n]},this.rrequire.modules=e,this.rrequire.cache=t}return this.rrequire.define}.call(this)({tests:function(e,t,n){(function(){var t;t=new YAHOO.tool.TestCase({name:"Data Tests",setUp:function(){return this.data={name:"yuitest",year:2007,beta:!0}},tearDown:function(){return delete this.data},testExecute:function(){return $("canvas").remove(),$AL.runScript("scripts/webplot_example.py")},testShellStareted:function(){var e=this;return this.wait(function(){return YAHOO.util.Assert.isTrue($("textarea.pastearea").length>0,"couldn't find s gateone terminal")},0)},testName:function(){var e;return e=YAHOO.util.Assert,e.isObject(this.data),e.isString(this.data.name),e.areEqual("yuitest",this.data.name)},testYear:function(){var e;return e=YAHOO.util.Assert,e.isObject(this.data),e.isNumber(this.data.year),e.areEqual(2007,this.data.year)},testBeta:function(){var e;return e=YAHOO.util.Assert,e.isObject(this.data),e.isBoolean(this.data.beta),e.isTrue(this.data.beta)}}),window.yui_tests=function(){var e,n,r,i;return console.log("window.yui_tests"),e=new YAHOO.tool.TestSuite("Example Suite"),e.add(t),i=new YAHOO.tool.TestLogger,YAHOO.tool.TestRunner.add(e),r=function(e){return console.log("Test named '"+e.testName+"' failed with message: '"+e.error.message+"'.")},n=YAHOO.tool.TestRunner,n.subscribe(n.TEST_FAIL_EVENT,r),n.subscribe(n.TEST_SUITE_COMPLETE_EVENT,function(){return console.log("tests complete")}),n.subscribe(n.TEST_PASS_EVENT,function(e){return console.log("test passed",e)}),window.ab=YAHOO.tool.TestRunner.run(),console.log("test_result",ab)},e.yui_tests=yui_tests}).call(this)},help:function(e,t,n){(function(){var t,n={}.hasOwnProperty,r=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.attributes={"class":"wrapper"},t.prototype.initialize=function(e){return t.__super__.initialize.call(this,e),this.render()},t.prototype.render=function(){return this.$el.append($("#helpinfo").html())},t}(Backbone.View),e.HelpView=t}).call(this)},usernamegen:function(e,t,n){(function(){var e;this.$WAKARIDJANGO?e=this.$WAKARIDJANGO:(e={},this.$WAKARIDJANGO=e),e.get_username=function(e,t){return $.post("/usermgmt/getvalidusername",{email:e},t)},$(function(){var t,n;return t=$("#registerform").find("#id_email"),n=$("#registerform").find("#id_username"),t.change(function(){return e.get_username(t.val(),function(e){return n.val(e)})})})}).call(this)},"ipython/main":function(e,t,n){(function(){e.run=function(){var e,t,n,r;return t=rrequire("/environments/envs"),e=t.envgroups,e.fetch({url:"/getenvs",reset:!0}),n=$("body").data("startingenv"),e.current_env=n,r=new t.EnvGroupsView({collection:e}),$("#maintoolbar").append("<label>Environment:</label>"),$("#maintoolbar").append(r.el),window.envview=r,envview.on("env_changed",function(e){return console.log("restarting"),IPython.notebook.kernel.restart(e)}),IPython.selected_env=function(){return e.current_env},null}}).call(this)},index:function(e,t,n){(function(){var e,n,r={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var n in t)r.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};n=t("./mainapp"),t("./idledetect"),e=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return i(r,e),r.prototype.routes={"notebook/*path":"notebook_layout",notebook:"notebook_layout","notebooks/*path":"notebook_layout",notebooks:"notebook_layout","wakari/:username/:sessionname":"main_layout",wakari:"main_layout","wakari/test":"test","fetching/:bundleuser/:bundlename":"fetch_bundle","fetching/:bundleuser/:bundlename/:hasenv":"fetch_bundle"},r.prototype.fetch_bundle=function(e,r,i){var s,o,u;return u=window.username,s="interactive",r=decodeURI(r),n=new n.MainApp({username:u,sessionname:s}),o=t("./share/index"),n.serverinfo.on("fetch",function(){var t;return t=n.serverinfo.authenticate_ipython(),t.done(function(){return o.fetch(e,r,"",n.serverinfo.get("basenburl"),i)}),t.error(function(e,t){debugger})})},r.prototype.test=function(){var e,t;return t=window.username,e="interactive",n=new n.MainApp({username:t,sessionname:e})},r.prototype.notebook_layout=function(e){var t,r;return e&&(e=decodeURI(e)),r=window.username,t="interactive",n=new n.NotebookApp({username:r,sessionname:t,notebook_path:e,router:this}),window.app=n},r.prototype.main_layout=function(e,t){return e||(e=window.username),t||(t="interactive"),n=new n.TabbedApp({username:e,sessionname:t}),window.app=n,setTimeout(function(){var e,t;return e=$("#rightPanel > .tabset > #terminal-tabs > .tablabel").length,t=100/e,$("#rightPanel > .tabset > #terminal-tabs > .tablabel").width(t+"%")},2e3)},r}(Backbone.Router),$(function(){var t;return t=new e,Backbone.history.start({pushState:!0})})}).call(this)},views:function(e,t,n){(function(){var e,n,r,i,s,o,u;i=t("./launcher"),s=t("./layouttemplate"),r=t("./gateone/gateone_lib"),o=r.newTabTerminal,u=r.runScript,e=i.Config,n=function(e,t,n,r){var i;return i={dialogTitle:e,dialogText:t},$("#confirmModal").empty().prepend(_.template($("#modal-confirm-template").html(),i)),typeof n=="function"&&$("#modalConfirmBtn").click(n),typeof r=="function"&&$("#modalCancelBtn").click(r),$("#confirmModal").modal("show")},n.updateTitle=function(e){e===void 0&&(e=""),$("#modalTitle").empty().append(e)},n.dismiss=function(){$("#confirmModal").modal("hide")},n.removeFooter=function(){$("#modalFooter").remove()},n.showprogress=function(e){return e===void 0&&(e=""),$("#modalBody").empty().append(_.template($("#modal-progress-template").html(),{msg:e}))}}).call(this)},"layout/layouttemplate":function(e,t,n){n.exports=function(e){e||(e={});var t=[],n=function(e){var n=t,r;return t=[],e.call(this),r=t.join(""),t=n,i(r)},r=function(e){return e&&e.ecoSafe?e:typeof e!="undefined"&&e!=null?o(e):""},i,s=e.safe,o=e.escape;return i=e.safe=function(e){if(e&&e.ecoSafe)return e;if(typeof e=="undefined"||e==null)e="";var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){t.push('<div class="modal hide fade" id="confirmModal"></div>\n<div class="modal hide fade" id="connectionErrorModal"></div>    \n<div id="alRoot" class="al-root">\n  <div id="leftPanel"class="al-pane active">\n    <div id="filemanager"></div>    \n  </div>\n  <div id="al-main" class="container-fluid">\n    <div id="midPanel" class="al-pane">\n    </div>\n    <div id="rightPanel" class="al-pane active">\n    </div>\n    <!-- end rightPanel -->\n  </div>\n</div>\n\n<div id="setDefaultEnvModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal">x</button>\n        <h3 id="modalTitle">Set Default Environment</h3>\n      </div>\n      <div id="modalBody" class="modal-body" >\n        <p>Would you like to set <b><span id="defaultEnv"></span></b> as your default Wakari environment?</p>\n      </div>\n      <div id="modalFooter" class="modal-footer">\n        <button class="btn btn-primary set-default-yes-btn">Yes</button>\n        <button id="modalCancelBtn" href="#" class="btn" data-dismiss="modal">No</button>\n      </div>\n</div>\n\n<div id="setDefaultDoneModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal">x</button>\n        <h3 id="modalTitle">Default Environment Set</h3>\n      </div>\n      <div id="modalBody" class="modal-body" >\n        <p>Default environment set to <b><span id="defaultEnvDone"></span></b></p>\n      </div>\n      <div id="modalFooter" class="modal-footer">\n        <button id="modalCancelBtn" href="#" class="btn" data-dismiss="modal">Close</button>\n      </div>\n</div>')}).call(this)}.call(e),e.safe=s,e.escape=o,t.join("")}},"layout/layout":function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l={}.hasOwnProperty,c=function(e,t){function r(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};o=t("../launcher"),u=t("./layouttemplate"),s=t("../gateone/gateone_lib"),a=s.newTabTerminal,f=s.runScript,n=o.Config,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.defaults={sidebar:!0,midpane:!1,rightpane:!0},t}(Backbone.Model),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.initialize=function(e){return this.app=e.app,this.render_init(),this.listenTo(this.model,"change",this.render)},t.prototype.events={"click .al-go-btn":"gobtn","click .set-default-btn":"set_default","click .set-default-yes-btn":"set_default_yes","change .envselect":"envselect"},t.prototype.envselect=function(){var e;return e=this.$el.find(".envselect").val(),e===n.notebookToken?$("#termEnvSelect").addClass("hidden"):$("#termEnvSelect").removeClass("hidden")},t.prototype.gobtn=function(){return $("#termTypeSelect").val()==="pylab"?a(null,!1,"ipython","--pylab=inline"):a(null,!1,null,null)},t.prototype.set_default=function(){$("#defaultEnv").empty().append($("#termEnvSelect").val()),$("#setDefaultEnvModal").modal({backdrop:!1})},t.prototype.set_default_yes=function(){localStorage.setItem("default_env",$("#termEnvSelect").val()),$("#defaultEnvDone").empty().append($("#termEnvSelect").val()),$("#setDefaultEnvModal").modal("hide"),$("#setDefaultDoneModal").modal({backdrop:!1})},t.prototype.delegateEvents=function(e){return t.__super__.delegateEvents.call(this,e),$(window).on("resize",s.gateone_resize)},t.prototype.render_init=function(){var e;return e=u({help:$("#helpinfo").html()}),this.$el.html(e),this.render()},t.prototype.render=function(){return this.model.get("midpane")&&this.model.get("rightpane")?(this.$("#midPanel").addClass("active").width("50%"),this.$("#rightPanel").addClass("active").width("50%")):this.model.get("midpane")?(this.$("#midPanel").addClass("active").width("100%"),this.$("#rightPanel").removeClass("active")):this.model.get("rightpane")?(this.$("#rightPanel").addClass("active").width("100%"),this.$("#midPanel").removeClass("active")):(this.$("#rightPanel").removeClass("active"),this.$("#midPanel").removeClass("active")),this.model.get("sidebar")?(this.$("#leftPanel").addClass("active").width("260px"),this.$(".splitter-bar").show(),this.$("#alRoot").trigger("resize")):(this.$("#leftPanel").removeClass("active").width("260px"),this.$(".splitter-bar").hide(),this.$("#alRoot").trigger("resize")),Mousetrap.bind("alt+s",function(){return $("#leftPanel").toggleClass("active"),$("#toggle-buttons .active:first-child").toggleClass("active")}),Mousetrap.bind("ctrl+enter",function(){return $(".execute_file").click()})},t.prototype.delegateEvents=function(e){return t.__super__.delegateEvents.call(this,e),document.onkeydown=this.hotkey},t.prototype.hotkey=function(e){var t;e.ctrlKey&&(t=0,window.event?t=event.keyCode:t=e.keyCode,t===49?togglePane(1):t===50?togglePane(2):t===51&&togglePane(3))},t}(Backbone.View),e.LayoutView=i,e.LayoutModel=r}).call(this)},"share/sharenotebookmodal":function(e,t,n){n.exports=function(e){e||(e={});var t=[],n=function(e){var n=t,r;return t=[],e.call(this),r=t.join(""),t=n,i(r)},r=function(e){return e&&e.ecoSafe?e:typeof e!="undefined"&&e!=null?o(e):""},i,s=e.safe,o=e.escape;return i=e.safe=function(e){if(e&&e.ecoSafe)return e;if(typeof e=="undefined"||e==null)e="";var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){t.push('<div class="modal-header">\n  <button type="button" class="close" data-dismiss="modal">x</button>\n  <h3>Sharing</h3>\n</div>\n<div class="modal-body" >\n  <form class="form form-inline">\n    <div class="row">\n      '),this.name_message&&(t.push('\n        <div class="alert alert-'),t.push(r(this.name_message_type)),t.push('">'),t.push(r(this.name_message)),t.push("</div>\n      ")),t.push('\n      <div class="span4">\n        <h6>NAME</h6>\n        <input class="sharing-name-input" type="text" value="'),t.push(r(this.name)),t.push('"/>\n      </div>\n      <div class="span4">\n        <h6>NOTEBOOK</h6>\n        <p> '),t.push(r(this.notebooks[0])),t.push(' </p>\n      </div>\n    </div>\n    \n    <h6>DESCRIPTION</h6>\n    <textarea class="sharing-description-input input-block-level">'),t.push(r(this.description)),t.push('</textarea>\n    \n    <h6>ADVANCED FEATURE: ENVIRONMENT SHARING</h6>\n    <p>\n      Packaging your environment is important if your code depends on any packages you installed manually.  Installing an environment can take up to 10-15 minutes. USE WITH CAUTION\n    </p>\n    <span class="envviewholder"></span>\n    <label class="checkbox"> \n      <input type="checkbox" class="sharing-package-env"> Share Environment (for advanced users only)\n    </label>\n\n    '),this.can_set_password?t.push('\n      <h6>PASSWORD</h6>\n      <input type="password" class="sharing-password">\n      <label class="checkbox">\n        <input type="checkbox" class="sharing-clear-password"> Clear Password?\n      </label>\n    '):t.push('\n      <h6>PASSWORD</h6>\n      <p>\n        This bundle will be shared publicly - you can password protect your bundle if you <a href="/settings/billing" target="_blank">upgrade your plan</a>\n      </p>\n    '),t.push('    \n  </form>\n</div>\n<div class="modal-footer">\n  <button class="sharesubmit btn btn-primary">Submit</button>\n</div>\n')}).call(this)}.call(e),e.safe=s,e.escape=o,t.join("")}},"share/sharestatus":function(e,t,n){n.exports=function(e){e||(e={});var t=[],n=function(e){var n=t,r;return t=[],e.call(this),r=t.join(""),t=n,i(r)},r=function(e){return e&&e.ecoSafe?e:typeof e!="undefined"&&e!=null?o(e):""},i,s=e.safe,o=e.escape;return i=e.safe=function(e){if(e&&e.ecoSafe)return e;if(typeof e=="undefined"||e==null)e="";var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){t.push('<div class="modal-header">\n  <button type="button" class="close" data-dismiss="modal">x</button>\n  <h3> Sharing Status</h3>\n</div>\n<div class="modal-body" >\n  '),this.errormsg&&(t.push("\n  <h5>"),t.push(r(this.errormsg)),t.push("</h5>\n  ")),t.push("\n  "),this.completed&&this.status_code===0?(t.push("  \n  <h5>Sharing Completed</h5>\n  "),this.link&&(t.push('\n  <a href="'),t.push(r(this.link)),t.push('">Link to the bundle</a>\n  ')),t.push("  \n  ")):this.completed&&this.status_code!==0?t.push("\n  <h5>There has been an unknown error</h5>\n  "):t.push("\n  <h5>Sharing In Progress</h5>  \n  "),t.push('\n  <h5>Output</h5>\n  <pre class="sharing-logs">'),t.push(r(this.logs)),t.push('</pre>\n</div>\n<div class="modal-footer">\n  '),this.completed?t.push('\n  <button class="btn" data-dismiss="modal">Close</a>  \n  '):t.push('\n  <button class="share-terminate btn btn-primary">Terminate</button>\n  '),t.push("\n</div>\n")}).call(this)}.call(e),e.safe=s,e.escape=o,t.join("")}},"share/index":function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E={}.hasOwnProperty,S=function(e,t){function r(){this.constructor=e}for(var n in t)E.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},x=function(e,t){return function(){return e.apply(t,arguments)}},T=this;c=t("../editor_class"),h=t("../environments/envs"),p=function(e,t,r,s,o){var u,a,f,l,c;return a="bundles/"+t,f=t,u=$.cookie("most-recent-bundle-cookie"),r=$.cookie(u),l=new n({dirpath:a,envname:f,password:r,bundleuser:e,bundlename:t,hasenv:o},{baseurl:s}),c=new i({model:l}),$("#backbonemodal").empty(),$("#backbonemodal").append(c.$el),$("#backbonemodal").modal({show:!0})},n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return S(t,e),t.prototype.initialize=function(e,n){return t.__super__.initialize.call(this,e,n),this.baseurl=n.baseurl},t.prototype.defaults={dirpath:"",envname:"",install_env:!1,password:null,bundleuser:"",bundlename:""},t}(Backbone.Model),i=function(e){function n(){return this.done_fetching=x(this.done_fetching,this),n.__super__.constructor.apply(this,arguments)}return S(n,e),n.prototype.initialize=function(e){return n.__super__.initialize.call(this,e),this.render()},n.prototype.events={"click .fetch-submit":"fetch_bundle"},n.prototype.load_vals=function(){var e,t,n;return e=this.$(".sharing-dirpath-input").val().trim(),e[e.length-1]==="/"&&(e=e.slice(0,e.length-1)),t=this.$(".sharing-envname-input").val().trim(),n=this.$(".sharing-install-env").is(":checked"),this.model.set({dirpath:e,envname:t,install_env:n})},n.prototype.fetch_bundle=function(){var e,t,n,i,s=this;return t=this.model.get("bundleuser"),e=this.model.get("bundlename"),i=this.model.baseurl+("sharing/fetch/"+t+"/"+e),this.load_vals(),n=$.ajax({type:"POST",url:i,data:{dirpath:this.model.get("dirpath"),envname:this.model.get("envname"),install_env:this.model.get("install_env"),password:this.model.get("password")},xhrFields:{withCredentials:!0}}),n.done(function(){return m("",s.model.baseurl,r,s.done_fetching)}),n.error(function(){return m("you are in the progress of sharing, please wait until it completes",s.model.baseurl,r)})},n.prototype.done_fetching=function(){var e,t,n,r=this;return e=this.model.get("dirpath"),n=this.model.baseurl+"sharing/bundleinfo/",n+=encodeURI(this.model.get("dirpath")),t=$.ajax({dataType:"json",url:n,xhrFields:{withCredentials:!0}}),t.done(function(t){var i,s;return t.metadata.notebooks.length>0&&(i=t.metadata.notebooks[0]),e=r.model.get("dirpath")+"/"+t.metadata.notebooks[0],window.location.origin?s=window.location.origin:s=window.location.protocol+"//"+window.location.host,n=s+("/notebook/"+e),window.location=n})},n.prototype.template=t("./fetchmodal"),n.prototype.render=function(){var e;return e=this.template(this.model.attributes),this.$el.html(""),this.$el.html(e),this},n}(Backbone.View),m=function(e,t,n,r){var i,s;return i=new u({errormsg:e},{baseurl:t}),i.keep_fetching(),n||(n=a),s=new n({model:i,callback:r}),$("#backbonemodal").empty(),$("#backbonemodal").append(s.$el),$("#backbonemodal").modal({show:!0}),$("#backbonemodal").on("hide",function(){return s.remove(),i.stopped=!0,r&&r(),null}),i.on("destroy",function(){return $("#backbonemodal").modal("hide")})},v=function(e,t,n,r,i){var u,a;return i=!window.app.userprofile.get("plan")==="free",a=r+"sharing/suggest/"+encodeURI(t),console.log("sharing",a),u=$.ajax({url:a,data:{name:e,sharetype:n},xhrFields:{withCredentials:!0}}),u.done(function(u){var a,l,c;return u=JSON.parse(u),u.can_set_password=i,h.envs.reset(u.env_info),a=new h.EnvsView({collection:h.envs}),l=new s(u),l.set("path",t),l.set("baseurl",r),n==="directory"?(l.set("share_type","directory"),c=new f({model:l,envview:a})):(l.set("share_type","notebook"),l.set("notebooks",[e]),c=new o({model:l,envview:a})),$("#backbonemodal").empty(),$("#backbonemodal").append(c.$el),$("#backbonemodal").modal({show:!0})}),u.error(function(){return m("you are in the progress of sharing, please wait until it completes",r)})},u=function(e){function t(){return this.keep_fetching=x(this.keep_fetching,this),t.__super__.constructor.apply(this,arguments)}return S(t,e),t.prototype.initialize=function(e,n){var r=this;return t.__super__.initialize.call(this,e,n),this.baseurl=n.baseurl,this.listenTo(this,"destroy",function(){return r.stopped=!0})},t.prototype.defaults={status_code:null,completed:!1,link:"",logs:""},t.prototype.url=function(){return this.baseurl+"sharing/status"},t.prototype.isNew=function(){return!1},t.prototype.sync=function(e,n,r){return r.xhrFields={withCredentials:!0},t.__super__.sync.call(this,e,n,r)},t.prototype.keep_fetching=function(){var e=this;return window.sharestatus=this,this.fetch().done(function(){if(!e.stopped&&!e.get("completed"))return setTimeout(e.keep_fetching,2500);e.trigger("completed")})},t}(Backbone.Model),b=t("./sharestatus"),d=t("./fetchstatus"),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return S(t,e),t.prototype.initialize=function(e){return t.__super__.initialize.call(this,e),this.render()},t.prototype.events={"click .share-terminate":"terminate"},t.prototype.terminate=function(){return this.model.destroy()},t.prototype.delegateEvents=function(e){return t.__super__.delegateEvents.call(this,e),this.listenTo(this.model,"change",this.render)},t.prototype.template=b,t.prototype.render=function(){var e;return e=this.template(this.model.attributes),this.$el.html(""),this.$el.append($(e))},t}(Backbone.View),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return S(t,e),t.prototype.template=d,t.prototype.initialize=function(e){return t.__super__.initialize.call(this,e),this.callback=e.callback},t.prototype.delegateEvents=function(e){return t.__super__.delegateEvents.call(this,e),this.listenTo(this.model,"completed",this.completed)},t.prototype.completed=function(){if(this.model.get("status_code")===0)return _.delay(this.callback,1e3)},t}(a),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return S(t,e),t.prototype.initialize=function(e,n){return t.__super__.initialize.call(this,e,n)},t.prototype.defaults={name_message:"",name_message_type:"",path:"",name:"",description:"",env:null,to_package:!1,notebooks:[],errormsg:"",message:"",share_type:"directory",password:"",clear_password:""},t}(Backbone.Model),g=t("./sharemodal"),y=t("./sharenotebookmodal"),f=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return S(t,e),t.prototype.events={"click .sharesubmit":"share"},t.prototype.load_vals=function(){var e,t,n,r,i,s,o;return r=this.$(".sharing-name-input").val().trim(),t=this.$(".sharing-description-input").val(),n=this.envview.selected_env(),s=this.$(".sharing-package-env").is(":checked"),i=this.$(".sharing-notebooks-input").val(),i=_.map(i.split("\n"),function(e){return e.trim()}),o=this.$(".sharing-password").val(),e=this.$(".sharing-clear-password").is(":checked"),this.model.set({name:r,description:t,env:n,package_env:s,notebooks:i,password:o,clear_password:e})},t.prototype.share=function(){var e,t,n=this;return this.load_vals(),t=this.model.get("baseurl")+"sharing/bundle/"+encodeURI(this.model.get("path")),e=$.ajax({type:"POST",url:t,data:{path:this.model.get("path"),name:this.model.get("name"),description:this.model.get("description"),notebooks:JSON.stringify(this.model.get("notebooks")),env:this.model.get("env"),package_env:JSON.stringify(this.model.get("package_env")),share_type:this.model.get("share_type"),password:this.model.get("password"),clear_password:this.model.get("clear_password")},xhrFields:{withCredentials:!0}}),e.error(function(){return m("Sharing Service is Busy",n.model.get("baseurl")),n.remove(),n.model.destroy()}),e.done(function(){return m("",n.model.get("baseurl")),n.remove(),n.model.destroy()})},t.prototype.template=g,t.prototype.initialize=function(e){return this.envview=e.envview,this.render()},t.prototype.render=function(){var e,t,n,r;return r=window.app.userprofile,n=r.get("plan"),e=n!=="free",t=this.template({name:this.model.get("name"),description:this.model.get("description"),notebooks:this.model.get("notebooks"),name_message:this.model.get("name_message"),name_message_type:this.model.get("name_message_type"),can_set_password:e}),this.envview.$el.detach(),this.$el.html(""),this.$el.append($(t)),this.$(".envviewholder").append(this.envview.el)},t}(Backbone.View),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return S(t,e),t.prototype.template=y,t.prototype.load_vals=function(){var e,t,n,r,i,s;return r=this.$(".sharing-name-input").val().trim(),t=this.$(".sharing-description-input").val(),n=this.envview.selected_env(),i=this.$(".sharing-package-env").is(":checked"),s=this.$(".sharing-password").val(),e=this.$(".sharing-clear-password").is(":checked"),this.model.set({name:r,description:t,env:n,package_env:i,password:s,clear_password:e})},t}(f),l=function(e){var t;return t=$.ajax({type:"DELETE",url:e,headers:{"X-CSRFToken":$.cookie("csrftoken")},xhrFields:{withCredentials:!0}}),t},w=function(e,n){var r,i,s,o;return o="/sharing/bundle/"+encodeURI(e)+"/"+encodeURI(n),i=t("../dialog/index"),r=$.Deferred(),s=i.dialog("Delete Bundle","Are you sure you want to delete the bundle "+n,!0,3),s.pipe(function(){var e;return e=l(o),e})},e.settings_page=function(){return $(".bundledel").click(function(e){var t,n,r;return t=$(e.currentTarget).attr("data-bundle-name"),r=$(e.currentTarget).attr("data-bundle-username"),n=w(r,t),n.pipe(function(){return window.location=window.location})}),null},e.share=v,e.ShareStatus=u,e.fetch=p}).call(this)},"share/sharemodal":function(e,t,n){n.exports=function(e){e||(e={});var t=[],n=function(e){var n=t,r;return t=[],e.call(this),r=t.join(""),t=n,i(r)},r=function(e){return e&&e.ecoSafe?e:typeof e!="undefined"&&e!=null?o(e):""},i,s=e.safe,o=e.escape;return i=e.safe=function(e){if(e&&e.ecoSafe)return e;if(typeof e=="undefined"||e==null)e="";var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){t.push('<div class="modal-header">\n  <button type="button" class="close" data-dismiss="modal">x</button>\n  <h3>Sharing</h3>\n</div>\n<div class="modal-body" >\n  <form class="form form-inline">\n    <div class="row">\n      '),this.name_message&&(t.push('\n        <div class="alert alert-'),t.push(r(this.name_message_type)),t.push('">'),t.push(r(this.name_message)),t.push("</div>\n      ")),t.push('\n      <div class="span4">\n        <h6>NAME</h6>\n        <input class="sharing-name-input" type="text" value="'),t.push(r(this.name)),t.push('"/>\n      </div>\n      <div class="span4">\n        <h6>NOTEBOOKS</h6>\n        <textarea rows="3" class="sharing-notebooks-input">'),t.push(r(this.notebooks.join("\n"))),t.push('</textarea>\n      </div>\n    </div>\n\n    <h6>DESCRIPTION</h6>\n    <textarea class="sharing-description-input input-block-level">'),t.push(r(this.description)),t.push('</textarea>\n\n    <h6>ADVANCED FEATURE: ENVIRONMENT SHARING</h6>\n    <p>\n      Packaging your environment is important if your code depends on any packages you installed manually.  Installing an environment can take up to 10-15 minutes. USE WITH CAUTION\n    </p>\n    <span class="envviewholder"></span>\n    <label class="checkbox"> \n      <input type="checkbox" class="sharing-package-env"> Share Environment (for advanced users only)\n    </label>\n\n    '),this.can_set_password?t.push('\n      <h6>PASSWORD</h6>\n      <input type="password" class="sharing-password"/>\n      <label class="checkbox">\n        <input type="checkbox" class="sharing-clear-password"> Clear Password?\n      </label>\n    '):t.push('\n      <h6>PASSWORD</h6>\n      <p>\n        This bundle will be shared publicly - you can password protect your bundle if you <a href="/settings/billing" target="_blank">upgrade your plan</a>\n      </p>\n    '),t.push('\n  </form>\n</div>\n<div class="modal-footer">\n  <button class="sharesubmit btn btn-primary">Submit</button>\n</div>\n')}).call(this)}.call(e),e.safe=s,e.escape=o,t.join("")}},"share/fetchmodal":function(e,t,n){n.exports=function(e){e||(e={});var t=[],n=function(e){var n=t,r;return t=[],e.call(this),r=t.join(""),t=n,i(r)},r=function(e){return e&&e.ecoSafe?e:typeof e!="undefined"&&e!=null?o(e):""},i,s=e.safe,o=e.escape;return i=e.safe=function(e){if(e&&e.ecoSafe)return e;if(typeof e=="undefined"||e==null)e="";var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){t.push('<div class="modal-header">\n  <button type="button" class="close" data-dismiss="modal">x</button>\n  <h3>Fetch a bundle</h3>\n</div>\n<div class="modal-body" >\n  <form class="form">\n    <label><h5>Destination</h5></label>\n    <input type="text" class="sharing-dirpath-input" value="'),t.push(r(this.dirpath)),t.push('"/>\n    \n    '),this.hasenv?t.push("\n    <div>\n    <label><h5>Environments</h5></label>\n    "):t.push('\n    <div style="display:none">\n    '),t.push('\n    <p>      There is an anaconda environment packaged with this bundle, would you like to install it?  It may take 10-15 minutes.  \n    </p>\n    <label>Environment Name</label>\n    <input type="text" class="sharing-envname-input" value="'),t.push(r(this.envname)),t.push('"/>\n    <label class="checkbox">\n      Install Environment?\n      <input type="checkbox" class="sharing-install-env"/>\n    </label>\n    </div>\n</div>\n<div class="modal-footer">\n  <button class="fetch-submit btn btn-primary">Fetch</button>\n</div>\n')}).call(this)}.call(e),e.safe=s,e.escape=o,t.join("")}},"share/fetchstatus":function(e,t,n){n.exports=function(e){e||(e={});var t=[],n=function(e){var n=t,r;return t=[],e.call(this),r=t.join(""),t=n,i(r)},r=function(e){return e&&e.ecoSafe?e:typeof e!="undefined"&&e!=null?o(e):""},i,s=e.safe,o=e.escape;return i=e.safe=function(e){if(e&&e.ecoSafe)return e;if(typeof e=="undefined"||e==null)e="";var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){t.push('<div class="modal-header">\n  <button type="button" class="close" data-dismiss="modal">x</button>\n  <h3> Fetching Status</h3>\n</div>\n<div class="modal-body" >\n  '),this.errormsg&&(t.push("\n  <h5>"),t.push(r(this.errormsg)),t.push("</h5>\n  ")),t.push("\n  "),this.completed&&this.status_code===0?t.push("  \n  <h5>Fetching Completed</h5>\n  close this dialog to proceed.\n  "):this.completed&&this.status_code!==0?t.push("\n  <h5>There has been an unknown error</h5>\n  "):t.push("\n  <h5>Fetching In Progress</h5>  \n  "),t.push('\n  <h5>Output</h5>\n  <pre class="sharing-logs">'),t.push(r(this.logs)),t.push('</pre>\n</div>\n<div class="modal-footer">\n  '),this.completed?t.push('\n  <button class="btn" data-dismiss="modal">Close</a>  \n  '):t.push('\n  <button class="share-terminate btn btn-primary">Terminate</button>\n  '),t.push("\n</div>\n")}).call(this)}.call(e),e.safe=s,e.escape=o,t.join("")}},"environments/simpleenvselect":function(e,t,n){n.exports=function(e){e||(e={});var t=[],n=function(e){var n=t,r;return t=[],e.call(this),r=t.join(""),t=n,i(r)},r=function(e){return e&&e.ecoSafe?e:typeof e!="undefined"&&e!=null?o(e):""},i,s=e.safe,o=e.escape;return i=e.safe=function(e){if(e&&e.ecoSafe)return e;if(typeof e=="undefined"||e==null)e="";var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var e,n,i,s;s=this.envs;for(n=0,i=s.length;n<i;n++)e=s[n],t.push('\n<option value="'),t.push(r(e.get("env_name"))),t.push('">\n    '),t.push(r(e.get("env_name"))),t.push("\n</option>\n")}).call(this)}.call(e),e.safe=s,e.escape=o,t.join("")}},"environments/envs":function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c={}.hasOwnProperty,h=function(e,t){function r(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},p=function(e,t){return function(){return e.apply(t,arguments)}};n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.defaults={env_name:"",exectuable:""},t}(Backbone.Model),u=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.model=n,t}(Backbone.Collection),a=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return h(n,e),n.prototype.initialize=function(e){return n.__super__.initialize.call(this,e),this.render(),this.listenTo(this.collection,"reset",this.render)},n.prototype.template=t("./simpleenvselect"),n.prototype.tagName="select",n.prototype.selected_env=function(){return this.$el.val()},n.prototype.render=function(){var e;return e=this.template({envs:this.collection.models}),this.$el.empty(),this.$el.html(e),this},n}(Backbone.View),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.defaults={label:""},t.prototype.initialize=function(e,n){return this.envs=new Backbone.Collection(e.envs),t.__super__.initialize.call(this,e,n),this.unset("envs")},t}(Backbone.Model),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.defaults={value:"",label:""},t}(Backbone.Model),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.model=r,t}(Backbone.Collection),l=t("./envselect"),s=function(e){function t(){return this.changed=p(this.changed,this),t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.events={change:"changed"},t.prototype.changed=function(){return this.collection.current_env=this.selected_env(),this.trigger("env_changed",this.selected_env())},t.prototype.initialize=function(e){return t.__super__.initialize.call(this,e),this.render(),this.listenTo(this.collection,"reset",this.render)},t.prototype.selected_env=function(){return this.$el.val()},t.prototype.tagName="select",t.prototype.render=function(){var e,t;return t=this.collection.models,e=l({optgroups:t,current_env:this.collection.current_env}),this.$el.empty(),this.$el.html(e),this},t}(Backbone.View),f=new i,e.envgroups=f,e.EnvGroupsView=s,e.Env=n,e.envs=new u,e.EnvsView=a}).call(this)},"environments/envselect":function(e,t,n){n.exports=function(e){e||(e={});var t=[],n=function(e){var n=t,r;return t=[],e.call(this),r=t.join(""),t=n,i(r)},r=function(e){return e&&e.ecoSafe?e:typeof e!="undefined"&&e!=null?o(e):""},i,s=e.safe,o=e.escape;return i=e.safe=function(e){if(e&&e.ecoSafe)return e;if(typeof e=="undefined"||e==null)e="";var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var e,n,i,s,o,u,a,f;a=this.optgroups;for(i=0,o=a.length;i<o;i++){n=a[i],t.push('\n<optgroup label="'),t.push(r(n.get("label"))),t.push('">\n  '),f=n.envs.models;for(s=0,u=f.length;s<u;s++)e=f[s],t.push("\n  "),e.get("env_name")===this.current_env?(t.push('\n  <option value="'),t.push(r(e.get("env_name"))),t.push('" selected="selected">\n  ')):(t.push('\n  <option value="'),t.push(r(e.get("env_name"))),t.push('">\n  ')),t.push("\n    "),t.push(r(e.get("env_label"))),t.push("\n  </option>\n  ");t.push("\n</optgroup>\n")}t.push("\n\n")}).call(this)}.call(e),e.safe=s,e.escape=o,t.join("")}},bokehserverrun:function(e,t,n){(function(){var n,r,i,s,o,u,a,f={}.hasOwnProperty,l=function(e,t){function r(){this.constructor=e}for(var n in t)f.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};a=t("./serverutils"),s=t("./base"),o=t("./container"),n=s.Config,u=a.utility,i=a.Promises,window.location.protocol==="http:"?n.ws_conn_string="ws://"+window.location.host+":5006/bokeh/sub":n.ws_conn_string="wss://"+window.location.host+":5006/bokeh/sub",r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.events={"click #gotohelp":"gotohelp"},t.prototype.gotohelp=function(){return $("#helptab").click(),$("#lefttabcontent").scrollTop($("#plotdocs").offset().top-100)},t.prototype.initialize=function(e){return this.plotcontextview=e.plotcontextview,this.plotcontext=e.plotcontextview.model,s.safebind(this,this.plotcontext,"change",this.render),this.render()},t.prototype.render=function(){var e,t;return this.$el.addClass("wrapper"),this.plotcontextview.$el.detach(),this.$el.html(""),this.plotcontext.get("children").length===0?(this.$el.append($("<p><b>You have no Plots.  Follow the instructions           below to create some          </b></p>")),e=$("<div></div>").append($("#helpinfo").html()),t=$(e).find("#plotdocs").html(),this.$el.append(t+'<div class="spacer100"></div>')):(this.$el.append($("<p>See the <a id='gotohelp'>help</a> pane for instructions on plotting</p>")),this.$el.append(this.plotcontextview.$el),console.log($("#plotdiv"))),null},t}(Backbone.View),e.PlotContextWrapper=r}).call(this)},"navbar/navbar":function(e,t,n){(function(){var n,r,i,s={}.hasOwnProperty,o=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};i=t("./navbartemplate"),r=t("../usermgmt/lib/containers"),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.prototype.initialize=function(e){var t=this;return this.app=e.app,this.notebook_only=e.notebook_only,this.userprofile=e.userprofile,this.serverinfo=e.serverinfo,this.layoutmodel=e.layoutmodel,this.listenTo(this.layoutmodel,"change",this.render),this.listenTo(this.userprofile,"change",this.render),this.listenTo(this.serverinfo,"change",function(){return t.render()}),this.render()},t.prototype.events={"click .newnotebook":"newnotebook","click #toggleBrowserBtn":"sidebar_click","click #mergepanes":"mergepane_click","click .wakarihelp":"wakarihelp","click .persistentbutton":"togglepersistent","click .sshlink":"ssh_alert","click .restartcontainer":"restartcontainer","mouseleave .dropdown":"close_dropdown","click .session-learnmore":"show_session_learnmore","click .databrowserlink":"show_databrowser","click .envbrowserlink":"show_envbrowser"},t.prototype.show_databrowser=function(){return this.app.show_databrowser()},t.prototype.show_envbrowser=function(){return this.app.show_envbrowser()},t.prototype.close_dropdown=function(e){return $(e.currentTarget).removeClass("open")},t.prototype.show_session_learnmore=function(e){return $("#sessionLearnMore").modal("show")},t.prototype.restartcontainer=function(e){return r.current.stop(function(){return window.location.reload()})},t.prototype.togglepersistent=function(e){return e.preventDefault(),this.serverinfo.togglepersistent()},t.prototype.ssh_alert=function(){return this.app.ssh_alert()},t.prototype.toggle_layout_attr=function(e){return this.layoutmodel.get(e)?this.layoutmodel.set(e,!1):this.layoutmodel.set(e,!0)},t.prototype.sidebar_click=function(){return this.toggle_layout_attr("sidebar")},t.prototype.mergepane_click=function(){return this.app.merge_panes()},t.prototype.newnotebook=function(){return this.app.add_notebook()},t.prototype.render=function(){var e,t,n,r;return n=this.serverinfo.get("persistent"),r=this.userprofile.get("plan"),console.log(this.serverinfo.get("price")),e={notebook_only:this.notebook_only,username:window.username,persistent:n,plan:r,plan_batch_job_cost_hr:this.serverinfo.get("price"),userplan_restrict:this.userprofile.get("userplan_restrict"),userplan_restrict_amount:this.userprofile.get("userplan_restrict_amount"),userplan_notify:this.userprofile.get("userplan_notify"),userplan_notify_amount:this.userprofile.get("userplan_notify_amount")},e=_.extend({},this.layoutmodel.attributes,e),t=i(e),this.$el.html(t)},t.prototype.wakarihelp=function(){return this.app.add_help()},t}(Backbone.View),e.NavBarView=n}).call(this)},"navbar/navbartemplate":function(e,t,n){n.exports=function(e){e||(e={});var t=[],n=function(e){var n=t,r;return t=[],e.call(this),r=t.join(""),t=n,i(r)},r=function(e){return e&&e.ecoSafe?e:typeof e!="undefined"&&e!=null?o(e):""},i,s=e.safe,o=e.escape;return i=e.safe=function(e){if(e&&e.ecoSafe)return e;if(typeof e=="undefined"||e==null)e="";var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){t.push('<div class="navbar navbar-inverse navbar-fixed-top">\n  <div class="navbar-inner">\n    <div class="row-fluid">\n      <div id="nav-session">\n        <ul class="nav">\n          <li>\n            <div id="brand">\n              <a href="/wakari"><i class="icon-adjust"></i> Wakari </a>\n            </div>\n          </li>\n          <li class="dropdown">\n            <a class="dropdown-toggle" data-toggle="dropdown" href="#">\n            '),this.persistent?(t.push('\n              <img src="/static/img/reddot.png"/>\n              Paid Session $'),t.push(r(this.plan_batch_job_cost_hr)),t.push("/hr\n            ")):t.push('\n              <img src="/static/img/greendot.png"/>\n              Auto Shutdown\n            '),t.push('\n              <b class="caret"></b>\n            </a>\n            <ul class="header-dropdown dropdown-menu">\n              '),this.persistent?t.push('\n              <li class="session-info">\n                <a href="#" class="persistentbutton enable-link">\n                <b>Disable Session Keep Alive...</b>\n                </a>\n              </li>\n              '):(t.push('\n              <li class="session-info">\n                <a href="#" class="persistentbutton enable-link">\n                  <b>Enable Session Keep Alive...</b>\n                \n                  <div class=\'session-item\'>Billing rate: $'),t.push(r(this.plan_batch_job_cost_hr)),t.push("/hr</div>\n                \n                  "),this.userplan_restrict&&(t.push("\n                  <div class='session-item'>Spending cap: $"),t.push(r(this.userplan_restrict_amount)),t.push("</div>\n                  ")),t.push("\n                </a>\n              </li>\n              ")),t.push('\n              <li><a class="session-learnmore" href="#"><b>Learn more...</b></a></li>\n              <li class="current-session-info">\n                <div><b>Current Session Mode:</b></div>\n              '),this.persistent?(t.push('\n                <div class="session-item"><b>Session Keep Alive is Enabled</b>.</div>\n                <div class="session-item">Your session will continue running after logout or the browser is disconnected.</div>\n                <div class="session-item">You will be reattached to your session the next time you login.</div>\n                <div class="session-item"><b>Your account is being charged: $'),t.push(r(this.plan_batch_job_cost_hr)),t.push("/hr</b></div>\n                 ")):t.push('\n                <div class="session-item"><b>Auto Shutdown is Enabled</b>.</div>\n                <div class="session-item">Your session will be shutdown after you logout of Wakari or the browser is disconnected.</div>\n                <div class="session-item"><b>All jobs will be terminated.</b></div>\n              '),t.push('\n              </li>\n            </ul>\n          </li>\n\n          <li class="active">\n          	<a href="#shareModal" id="shareBtn" role="button" data-toggle="modal">Share</a>\n          </li>\n          <li class="divider"></li>\n          <li class="active">\n            <a class=link href="http://enterprise.wakari.io" target="_blank" style="color:yellow; padding-left:20px">Run Wakari in Your Data Center</a></li>\n          </li>\n        </ul>\n      </div>\n\n      <!-- Links -->\n      <div id="links">\n        <ul class="nav">\n          <li class="active">\n            <button class="btn btn-primary btn-small newnotebook">\n              New Notebook\n            </button>\n          </li>                        \n          <li class="dropdown active">\n            <a class="dropdown-toggle" data-toggle="dropdown" href="#">\n              View<b class="caret"></b>\n            </a>\n            <ul class="header-dropdown dropdown-menu pull-right">\n              <li>\n                <a href="/wakari">Workbench</a>\n              </li>          \n              <li>\n                <a href="/notebook">Notebooks</a>\n              </li>\n              <li>\n                <a href="/gallery" target="_blank">Notebook Gallery</a>\n              </li>          \n              '),this.notebook_only||t.push('\n              <li>\n                <a href="#" id="mergepanes">Merge Panes</a>\n              </li>\n              '),t.push('\n              <li>\n                <a href="#" id="toggleBrowserBtn">Toggle File Browser</a>\n              </li>\n            </ul>\n          </li>\n          <li class="dropdown active">\n            <a class="dropdown-toggle" data-toggle="dropdown" href="#">\n              Tools<b class="caret"></b>\n            </a>\n            <ul class="header-dropdown dropdown-menu pull-right">\n              <li>\n                <a href="#" class="databrowserlink">Wakari Data Sources</a>\n              </li>\n              <li>\n                <a href="#" class="envbrowserlink">Anaconda Environments</a>\n              </li>\n            </ul>\n          </li>\n          <li class="dropdown active">\n            <a class="dropdown-toggle" data-toggle="dropdown" href="#">\n              Help<b class="caret"></b>\n            </a>\n            <ul class="header-dropdown dropdown-menu pull-right">\n              <li>\n                <small>&nbsp;&nbsp;<u><i>Documentation</i></u></small>\n              </li>\n              <li>\n                <a href="/docs/" target="_blank">Wakari Analytics Environment</a>\n              </li>\n              <li><a href="http://docs.continuum.io/" target="_blank">Anaconda Python Distribution</a></li>\n              <li class="divider"></li>\n              <li>\n                <small>&nbsp;&nbsp;<u><i>Contact Us</i></u></small>\n              </li>\n              <li><a href="mailto:wakari_support@continuum.io?subject=\'Help with Wakari\'">Contact Support</a></li>\n              <li>\n                <!-- HelpOnClick -->\n                <a href=\'javascript:void(0)\' onclick=\'window.open("http://app.helponclick.com/help?lang=en&w=510ff3fe-6c84-46b6-9db7-05d8b86a9e52&d=510bed10-17d4-4321-8753-05cdb86a9e52","hoc_chat_login","width=720,height=550,scrollbars=no,status=0,toolbar=no,location=no,resizable=no")\'>Live Chat</a>\n                <!-- /HelpOnClick -->\n              </li>\n            </ul>\n          </li>\n          <li class="dropdown active">\n            <a class="dropdown-toggle" data-toggle="dropdown" href="#">\n              '),t.push(r(this.username)),t.push('<b class="caret"></b>\n            </a>\n            <ul class="header-dropdown dropdown-menu pull-right">\n              <li><a class="sshlink" href="#">SSH Access</a></li>              \n              <li><a href="/usermgmt/settings">Settings</a></li>            \n              <li><a class="restartcontainer">Restart</a></li>\n              <li><a href="/usermgmt/logout">Logout</a></li>\n            </ul>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n<div id="sessionLearnMore" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal">x</button>\n        <h3 id="modalTitle">Wakari Sessions</h3>\n      </div>\n      <div id="modalBody" class="modal-body" >\n        <p>A Wakari session can operate in one of two modes.</p>\n        <p>The default mode is <b>Auto Shutdown</b>.  After an idle period or logout, the session will be terminated and all running jobs will be stopped.</p>\n        <p>The second mode is <b>Keep Alive</b>.  The session will <b>NOT</b> be terminated, even when the user logs out.  Since your session is not shutdown, your jobs will continue to run until they complete.  Note, your session will stay active until you switch it back to Auto Shutdown mode.</p>\n        <table class="table table-bordered table-condensed">\n          <tr><th>Session Mode</th><th>Cost</th></tr>\n          <tbody>\n          <tr><td>Auto Shutdown</td><td>Free</td></tr>\n          <tr><td>Keep Alive</td><td>Per minute charges apply.</td></tr>\n          </tbody>\n        </table>\n        <p>When you login to Wakari a "session" is either created or you are attached to an existing session that was created from a previous login.</p>\n        <p>Sessions <b>will shutdown</b> if not used for a period of time or after you logout.  When a session is shutdown all underlying processes are stopped.</p>\n        <p>However, it is possible to <b>keep a session alive</b> between logins.  Wakari paid accounts provide the option for users to set their session to a <b>keep alive mode</b>.  It is important to note that when a session is in the keep alive state the user\'s account will <b>charged per minute for the session time</b>.</p>\n        <p>The primary purpose for keeping your session alive is to run jobs that may take significant time to run.  You can start the job, log off and then return later to check your results.</p>\n        <p>Your account will continue to be charged until you login and switch your session back to <b>auto shutdown mode</b>.</p>\n      </div>\n      <div id="modalFooter" class="modal-footer">\n        <a id="modalCancelBtn" href="#" class="btn" data-dismiss="modal">Close</a>\n      </div>\n</div>\n<div id="shareModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal">x</button>\n        <h3 id="modalTitle">Share</h3>\n      </div>\n      <div id="modalBody" class="modal-body" >\n        <p>With Wakari you can create bundles and share them with other users.  A bundle may contain a single IPython notebook or\n        a directory with multiple notebooks.</p>\n        <p>To create a bundle, select a file or directory in the file browser and then click on the share button in the file browser toolbar.</p>\n        <p><img src="/static/img/share_button.png"></img></p>\n        <p>You may also see a list of bundles you have created in <a href="/settings/sharing">Settings -> Sharing</a></p> \n      </div>\n      <div id="modalFooter" class="modal-footer">\n        <a id="modalCancelBtn" href="#" class="btn" data-dismiss="modal">Close</a>\n      </div>\n</div>\n\n\n')}).call(this)}.call(e),e.safe=s,e.escape=o,t.join("")}},bokeh_embed:function(e,t,n){(function(){var n,r;r=t("./serverutils"),n=function(e){return $(".bokeh_plot").each(function(t,n){var i,s,o,u,a,f;return u=$(n).attr("bokeh-plot_uri"),a=u.split("bokeh://")[1],f=a.split("/"),s=f[0],i=f[1],o=f[2],e&&(s=e),r.utility.instantiate_doc_single_plot(i,o,n,s)})},e.get_plots=n}).call(this)},tab_lib:function(e,t,n){(function(){var t,n,r=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};n=function(e){function t(){return this.hold_and_click=r(this.hold_and_click,this),t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.click_tab=function(e){debugger},t.prototype.initialize=function(e){"the template for this view needs to have a tab holder element and\na pane holder element";var t,n,r,i,s=this;this.tab_view_objs=e.tab_view_objs,this.tab_holder_el=$("<ul id='terminal-tabs' class='nav nav-tabs'></ul>"),this.pane_holder_el=$("<div class='tab-content'></div>"),this.tab_view_dict={},i=this.tab_view_objs;for(n=0,r=i.length;n<r;n++)t=i[n],this.add_tab(t);return this.event_sink=_.extend({},Backbone.Events),this.event_sink.on("namechange",function(e){var t,n,r,i,o;return t=e.new_name,r=e.old_route,n=e.new_route,i=s.tab_view_dict,o=s.tab_view_dict[r],s.remove_tab(o.route,!0),s.add_tab({tab_name:t,view:o.view,route:n})}),this.render()},t.prototype.render=function(){return this.$el.addClass("tabset"),this.$el.append(this.tab_holder_el),this.$el.append(this.pane_holder_el)},t.prototype.add_tab=function(e){var t,n,r,i,s,o;return o=e,r=_.keys(this.tab_view_dict).length,i=o.route,_.has(this.tab_view_dict,i)?this.activate(i):(this.tab_view_dict[i]=e,o.tab_el=this._create_tab(e),o.pane_el=this._create_pane(e),this.tab_holder_el.append(o.tab_el),this.pane_holder_el.append(o.pane_el),n=$("#rightPanel > .tabset > #terminal-tabs > .tablabel").length,s=100/n,$("#rightPanel > .tabset > #terminal-tabs > .tablabel").width(s+"%")),_.keys(this.tab_view_dict).length===1&&this.activate(_.keys(this.tab_view_dict)[0]),t=_.keys(this.tab_view_dict).length,this.event_sink.trigger("new_tab_count",{old_tab_count:r,new_tab_count:t}),o.pane_el},t.prototype._remove_tab=function(e,t){var n,r,i;return i=this.tab_view_dict[e],t&&i.view.remove(),$(i.tab_el).remove(),$(i.pane_el).remove(),n=$("#rightPanel > .tabset > #terminal-tabs > .tablabel").length,r=100/n,$("#rightPanel > .tabset > #terminal-tabs > .tablabel").width(r+"%"),n=$("#g_one_tabs .tablabel").length,r=100/n,$("#g_one_tabs .tablabel").width(r+"%"),console.log("terminal gateone tab removed")},t.prototype.hold_and_click=function(e,t){var n,r,i=this;return n=function(){return i.event_sink.trigger("move",t)},r=0,e.mousedown(function(){return r=setTimeout(n,500)}).bind("mouseup mouseleave",function(){return clearTimeout(r)})},t.prototype._create_tab=function(e){var t,n=this;return e.tab_name.toLowerCase()==="terminals"||e.tab_name.toLowerCase()==="plots"?t=$("<li class='tablabel'><a title='"+e.title+"' id="+e.route+"Tab class='tab-tab tab-"+e.route+"'>"+e.tab_name+"</a></li>"):t=$("<li class='tablabel'><a title='"+e.title+"' id="+e.route+"Tab class='tab-tab tab-"+e.route+"'><i class='icon-remove-sign'></i> "+e.tab_name+"</a></li>"),t.find(".tab-tab").click(function(t){return n.activate(e.route)}),this.hold_and_click(t.find(".tab-tab"),e),t.find(".icon-remove-sign").click(function(t){return n.remove_tab(e.route)}),t},t.prototype._create_pane=function(e){var t;return t=$("<div class='tab-pane'></div>"),t.append(e.view.el)},t.prototype.remove_tab=function(e,t,n,r){var i,s,o;_.isUndefined(r)&&(r=!0),o=this.tab_view_dict[e];if(o.cannot_remove&&!n)return;if(!_.has(this.tab_view_dict,e))return;return t||this.event_sink.trigger("delete",{route:e}),s=_.keys(this.tab_view_dict).length,this._remove_tab(e,r),delete this.tab_view_dict[e],i=_.keys(this.tab_view_dict).length,t||this.event_sink.trigger("new_tab_count",{old_tab_count:s,new_tab_count:i}),this.activate("")},t.prototype.activate=function(e){" I'm not sure how to handle the deferred rendering bit here,\nshould tabs only be rendered on first view? or on instatiation?\nwhat about tabs that depend on data being loaded?\n\nthe common pattern in backbone land that I have seen is\n\n\nBackbone.Router.extend({\n  routes: {\n    \"some_tab\" : ->\n      model = new ModelType({id:5})\n      $.when(model.fetch()).then(->\n        view = new View(model:model, el: '#some_id')\n        view.render())}})\n\n\nso far as this tab container is concerned, I want to flip that on\nits head and somehow bundle calling render() on the view from the\nTabContainer, make the view responsible for fetching its own model\n\nI'm not quite sure how to do that, or whether or not I will run\ninto problems that way\n\n\nhopefully I can figure out how to plumb activate into a router\n\n";var t,n,r;if(e===""){if(!(_.keys(this.tab_view_dict).length>0))return null;e=_.keys(this.tab_view_dict)[_.keys(this.tab_view_dict).length-1]}return r=n=this.tab_view_dict[e],this.tab_holder_el.find(".active").removeClass("active"),r.tab_el.addClass("active"),this.pane_holder_el.find(".active").removeClass("active"),r.pane_el.addClass("active"),this.active_tvo=r,t=this.active_tvo.color||"white",this.$(".tab-content").css("background-color",t),r.view.trigger("activate")},t}(Backbone.View),t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.events={},t.prototype.add_gateone_master_tab=function(e){return this.gateone_master_el=e},t.prototype.add_gateone_tab=function(e){var t,n,r,i,s,o,u;return u=e,u.gateone_tab=!0,r=_.keys(this.tab_view_dict).length,i=u.route,_.has(this.tab_view_dict,i)?this.activate(i):(this.tab_view_dict[i]=e,u.tab_el=this._create_tab(e),o=u.tab_el[0],this.tab_holder_el.append(u.tab_el)),_.keys(this.tab_view_dict).length===1&&this.activate(_.keys(this.tab_view_dict)[0]),t=_.keys(this.tab_view_dict).length,this.event_sink.trigger("new_tab_count",{old_tab_count:r,new_tab_count:t}),n=$("#g_one_tabs .tablabel").length,s=100/n,$("#g_one_tabs .tablabel").width(s+"%"),console.log("add gateone tab",_.keys(this.tab_view_dict))},t.prototype.activate=function(e){var t,n,r;return t=this.active_tvo,t!=null&&t.view.deactivate!=null&&t.view.deactivate(),this.gateone_master_el.hide(),e===""&&_.keys(this.tab_view_dict).length>0&&(e=_.keys(this.tab_view_dict)[_.keys(this.tab_view_dict).length-1]),r=n=this.tab_view_dict[e],this.pane_holder_el.find(".active").removeClass("active"),r.gateone_tab?(this.gateone_master_el.show(),r.view.activate()):r.pane_el.addClass("active"),this.tab_holder_el.find(".active").removeClass("active"),r.tab_el.addClass("active"),this.active_tvo=this.tab_view_dict[e]},t}(n),e.TabSet=n,e.GateOneTabSet=t}).call(this)},login_index:function(e,t,n){(function(){var e,t,n={}.hasOwnProperty,r=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.defaults={formvals:{username:"",email:"",password:"",policy_confirm:!1},errorvals:!1},t}(Backbone.Model),e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.initialize=function(e){var t;return this.model=e.model,t=e.next_url},t.prototype.events={"click .submit":"ajax_submit"},t.prototype.render=function(){var e;return e=_.template($("#instant_register").html(),this.model.toJSON()),this.$el.html(e),this},t.prototype.grab_form=function(){return _.reduce(this.$el.find(".register_form").serializeArray(),function(e,t){return e[t.name]=t.value,e},{})},t.prototype.ajax_submit=function(e){var t=this;return this.model.set("formvals",this.grab_form()),$.post("/usermgmt/ajax_register_validate",this.grab_form(),function(e){return e.success?t.register():(t.model.set("errorvals",e),t.render())})},t.prototype.register=function(){return this.direct_register()},t.prototype.direct_register=function(){var e;return console.log("real register"),e=this.$el.find(".register_form"),e.attr("method","POST"),e.attr("action","/usermgmt/register"),e.submit()},t}(Backbone.View),$(function(){var n;return n=new e({model:new t}),$("#backbonemodal").empty(),$("#backbonemodal").append(n.$el),$("#backbonemodal").modal({show:!0}),n.render()})}).call(this)},utils:function(e,t,n){(function(){var t;t=function(e){var t,n,r;return e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),n="[\\?&]"+e+"=([^&#]*)",t=new RegExp(n),r=t.exec(window.location.search),r===null?"":decodeURIComponent(r[1].replace(/\+/g," "))},e.urlParam=t}).call(this)},"accounts/registerform":function(e,t,n){n.exports=function(e){e||(e={});var t=[],n=function(e){var n=t,r;return t=[],e.call(this),r=t.join(""),t=n,i(r)},r=function(e){return e&&e.ecoSafe?e:typeof e!="undefined"&&e!=null?o(e):""},i,s=e.safe,o=e.escape;return i=e.safe=function(e){if(e&&e.ecoSafe)return e;if(typeof e=="undefined"||e==null)e="";var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var e,n,i,s;t.push('<h3> Register </h3>\n<input type="hidden" name="csrf_token" value="'),t.push(r(this.csrftoken)),t.push('"/>\n');if(this.errorvals.__all__){t.push("\n"),s=this.errorvals.__all__;for(n=0,i=s.length;n<i;n++)e=s[n],t.push('\n<div class="alert alert-error"> '),t.push(r(e)),t.push(" </div>\n");t.push("\n")}t.push('\n<label for="username">Username</label>\n'),this.errorvals.username&&(t.push('\n<div class="alert alert-error"> '),t.push(r(this.errorvals.username)),t.push(" </div>\n")),t.push('\n<input type="text" name="username" value="'),t.push(r(this.formvals.username)),t.push('"/>\n<label for="email">Email</label>\n'),this.errorvals.email&&(t.push('\n<div class="alert alert-error"> '),t.push(r(this.errorvals.email)),t.push(" </div>\n")),t.push('\n<input type="text" name="email" value="'),t.push(r(this.formvals.email)),t.push('"/>\n<label for="password">Password</label>\n'),this.errorvals.password&&(t.push('\n<div class="alert alert-error"> '),t.push(r(this.errorvals.password)),t.push(" </div>\n")),t.push('\n<input name="password" type="password" value="'),t.push(r(this.formvals.password)),t.push('"/>\n<label class="checkbox">\n  <input name="policy_confirm" type="checkbox"/>\n  I agree to the <a href="/terms">Terms & Agreements</a>\n</label>\n'),this.errorvals.policy_confirm&&(t.push('\n<div class="alert alert-error"> '),t.push(r(this.errorvals.policy_confirm)),t.push(" </div>\n")),t.push('\n<button class="ajax_submit btn btn-primary">Register</button>\n')}).call(this)}.call(e),e.safe=s,e.escape=o,t.join("")}},"accounts/ajaxforms":function(e,t,n){(function(){var n,r,i,s,o,u,a={}.hasOwnProperty,f=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return f(t,e),t.prototype.submit=function(){var e,t=this;return e=$.ajax({type:"POST",url:this.url,data:this.get("formvals"),beforeSend:function(e){return e.setRequestHeader("X-CSRFToken",$.cookie("csrftoken"))}}),e.done(function(e){if(!e.success)return t.set("errorvals",e.errorvals)}),e},t}(Backbone.Model),u=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return f(t,e),t.prototype.url="/usermgmt/ajax_register_validate",t.prototype.defaults={formvals:{username:"",email:"",password1:"",policy_confirm:!1},errorvals:{}},t}(n),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return f(t,e),t.prototype.url="/usermgmt/ajax_login_validate",t.prototype.defaults={formvals:{username:"",password:""},errorvals:{}},t}(n),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return f(t,e),t.prototype.attributes={"class":"form"},t.prototype.tagName="form",t.prototype.initialize=function(e){return this.model=e.model,this.nexturl=e.nexturl,this.render()},t.prototype.events={"click .ajax_submit":"ajax_submit",submit:"nosubmit"},t.prototype.nosubmit=function(e){return e.preventDefault(),!1},t.prototype.render=function(){var e,t;return e=_.extend({csrftoken:$.cookie("csrftoken")},this.model.attributes),t=this.template(e),this.$el.empty(),this.$el.html(t),this},t.prototype.grab_form=function(){var e;return e=_.reduce(this.$el.serializeArray(),function(e,t){return e[t.name]=t.value,e},{}),this.model.set("formvals",e)},t.prototype.ajax_submit=function(e){var t,n=this;return this.grab_form(),t=this.model.submit(),t.done(function(e){return e.success&&n.nexturl?(_gaq.push(["_trackEvent",n.event_params[0],n.event_params[1],n.event_params[2]]),window.location=n.nexturl):n.render()})},t}(Backbone.View),o=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return f(n,e),n.prototype.template=t("./loginform"),n.prototype.event_params=["login","wakari-login","ajax-login"],n}(r),i=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return f(n,e),n.prototype.template=t("./registerform"),n.prototype.event_params=["register","wakari-register","ajax-register"],n}(r),e.display_dialog=function(e,n){var r,a,f,l;return f=new i({model:new u,nexturl:e}),l=new o({model:new s,nexturl:e}),a=t("./modalform"),r=$(a()),r.find(".register").append(f.el),r.find(".login").append(l.el),$(n).empty(),$(n).append(r),$(n).modal({show:!0})}}).call(this)},"accounts/modalform":function(e,t,n){n.exports=function(e){e||(e={});var t=[],n=function(e){var n=t,r;return t=[],e.call(this),r=t.join(""),t=n,i(r)},r=function(e){return e&&e.ecoSafe?e:typeof e!="undefined"&&e!=null?o(e):""},i,s=e.safe,o=e.escape;return i=e.safe=function(e){if(e&&e.ecoSafe)return e;if(typeof e=="undefined"||e==null)e="";var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){t.push('<div class="modal-dialog">\n  <div class="modal-content">\n    <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal">x</button>\n      <h3> Wakari  </h3>\n    </div>\n    <div id="modalBody" class="modal-body">\n      <div class="container-fluid">\n        <div class="row-fluid">\n          <div class="register span6"></div>\n          <div class="login span6"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=s,e.escape=o,t.join("")}},"accounts/loginform":function(e,t,n){n.exports=function(e){e||(e={});var t=[],n=function(e){var n=t,r;return t=[],e.call(this),r=t.join(""),t=n,i(r)},r=function(e){return e&&e.ecoSafe?e:typeof e!="undefined"&&e!=null?o(e):""},i,s=e.safe,o=e.escape;return i=e.safe=function(e){if(e&&e.ecoSafe)return e;if(typeof e=="undefined"||e==null)e="";var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var e,n,i,s;t.push('<h3> Login </h3>\n<input type="hidden" name="csrf_token" value="'),t.push(r(this.csrftoken)),t.push(' "/>\n');if(this.errorvals.__all__){t.push("\n"),s=this.errorvals.__all__;for(n=0,i=s.length;n<i;n++)e=s[n],t.push('\n<div class="alert alert-error"> '),t.push(r(e)),t.push(" </div>\n");t.push("\n")}t.push("\n  "),this.errorvals.username&&(t.push('\n  <div class="alert alert-error"> '),t.push(r(this.errorvals.username)),t.push(" </div>\n  ")),t.push('\n  <label for="username">Username</label>\n  <input type="text" name="username" value="'),t.push(r(this.formvals.username)),t.push('"/>\n  '),this.errorvals.password&&(t.push('\n  <div class="alert alert-error"> '),t.push(r(this.errorvals.password)),t.push(" </div>\n  ")),t.push('\n  <label for="password">Password</label>\n  <input name="password" type="password" value="'),t.push(r(this.formvals.password)),t.push('"/>\n  <br/>\n<button class="ajax_submit btn btn-primary">Login</button>\n')}).call(this)}.call(e),e.safe=s,e.escape=o,t.join("")}},notebook:function(e,t,n){(function(){var t,n,r,i,s,o,u={}.hasOwnProperty,a=function(e,t){function r(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},f=function(e,t){return function(){return e.apply(t,arguments)}};s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.defaults={filename:"",is_public:!1,url:""},t}(Backbone.Model),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.model=s,t.prototype.url=function(){return"/nb/notebooklist"},t}(Backbone.Collection),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.attributes={"class":"notebookview"},t.prototype.render=function(){return t.__super__.render.call(this),this.$el.html(_.template($("#notebook-template").html(),{url:this.model.get("nburl"),envLabel:this.model.get("envLabel")})),this},t}(Backbone.View),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.attributes={"class":"notebookview"},t.prototype.render=function(){var e;return t.__super__.render.call(this),e=this.model.get("url"),window.note_mod=this.model,this.$el.html(_.template($("#notebook-template").html(),{url:e,envLabel:this.model.get("envLabel")})),this},t}(Backbone.View),r=function(e){function t(){return this.set_notebook_directory_and_url_for_file=f(this.set_notebook_directory_and_url_for_file,this),this.set_url_for_file=f(this.set_url_for_file,this),this.set_notebook_directory=f(this.set_notebook_directory,this),t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.initialize=function(e,n){return t.__super__.initialize.call(this,e,n),this.on("change:filename",this.get_notebook_url)},t.prototype.base_url=function(){return this.get("protocol")+this.get("ip")+":"+this.get("port")},t.prototype.complete_url=function(){return this.base_url()+this.get("url")},t.prototype.set_notebook_directory=function(){var e;return e=this.base_url()+"/notebookdir",console.log("set_notebook_directory",e),$.ajax({url:e,type:"POST",beforeSend:function(e){return e.withCredentials=!0},crossDomain:!0,xhrFields:{withCredentials:!0},data:{path:this.get("directory"),_xsrf:$.ajaxSetup().headers["X-Csrftoken"]}})},t.prototype.set_url_for_file=function(){var e,t=this;return e=this.base_url()+"/notebooks",console.log("beginning of set_url_for_file",e),$.ajax({url:e,beforeSend:function(e){return e.withCredentials=!0},crossDomain:!0,xhrFields:{withCredentials:!0}}).done(function(n){var r,i,s;return console.log("data from notebooksurl",e,n),n=JSON.parse(n),r=t.get("file"),s=r.slice(0,r.length-6),i=_.filter(n,function(e){return e.name===s})[0],console.log("set_url_for_file notebook",i),t.set("url","/"+i.notebook_id)})},t.prototype.set_notebook_directory_and_url_for_file=function(){return this.set_notebook_directory().done(this.set_url_for_file),null},t.prototype.defaults={file:"",directory:"",new_terminal:!0,protocol:"http",ip:"",port:9e3,url:"",envLabel:""},t}(Backbone.Model),t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.model=r,t}(Backbone.Collection),e.NotebookView=i,e.NotebookDirectView=n,e.NotebookCollection=t,e.NotebookModel=r,e.notebookinfo=s,e.notebooks=o,window.populate_nbm=function(){var e,t=this;return $.ajax({url:"http://localhost:9000/auto_login/d97551b27ea99c3ae93f0201dd9c98c08909b873",beforeSend:function(e){return e.withCredentials=!0},crossDomain:!0,xhrFields:{withCredentials:!0}}).done(function(e){return console.log("ajax autologin worked")}),window.nbs=e=new o,e.fetch().done(function(){var t,n;return window.nb_=n=e.first(),t=n.get("filename"),nbm.set("file",t),nbm.set_notebook_directory(),nbm.set_url_for_file()})}}).call(this)},"messages/confirmation":function(e,t,n){n.exports=function(e){e||(e={});var t=[],n=function(e){var n=t,r;return t=[],e.call(this),r=t.join(""),t=n,i(r)},r=function(e){return e&&e.ecoSafe?e:typeof e!="undefined"&&e!=null?o(e):""},i,s=e.safe,o=e.escape;return i=e.safe=function(e){if(e&&e.ecoSafe)return e;if(typeof e=="undefined"||e==null)e="";var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){t.push('<div id="backgroung_job_conf" class="modal hide" tabindex="-1" role="dialog" aria-labelledby="bgj_Label" aria-hidden="true">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal">x</button>\n        <h3 id="bgj_Label"> \n          '),this.persistent?t.push("\n          Enable Session Keep Alive\n          "):t.push("\n          Disable Session Keep Alive\n          "),t.push('\n        </h3>\n    </div>\n    <div id="bgj_body" class="modal-body" >\n        '),this.persistent?(t.push("\n        "),this.session_plan.persistent?this.session_plan.name!==this.user_plan.name?(t.push('\n        <div class=\'alert\'>\n            <p>\n                We have detected that you have changed your plan since you started this session.&bnsp;&nbsp;You will be chared at the previous plans rate.&nbsp;&nbsp;Please <a href="#" class="restartcontainer">restart</a> Wakari if you want to use the new plan.\n            </p>\n        </div>\n        <p>\n          While session keep alive is enabled your account will be charged <strong>$'),t.push(r(this.session_plan.batch_job_cost_hr)),t.push("</strong>/hr until disabled.\n        </p>\n        ")):(t.push("\n        <p>\n          When session keep alive is enabled, your Wakari session will never terminate, \n         even when you close your browser or logout of Wakari.&bnsp;&nbsp;\n         You can view and terminate your current jobs from the <a href='/settings/sessions'>Activity Log</a> \n        </p>\n        <hr>\n        <p>\n           While session keep alive is enabled your account will be charged <strong>$"),t.push(r(this.session_plan.batch_job_cost_hr)),t.push("</strong>/hr until disabled.\n        </p>\n        \n        ")):(t.push("\n        "),this.user_plan.persistent?t.push('\n        <p>\n            We have detected that you have changed your plan since you started this session.&nbsp;&nbsp;\n            You must <a href="#" class="restartcontainer">restart</a> Wakari if you want to use the new plan.\n        </p>\n        '):t.push('\n        <p>\n            You must <a href="/settings/billing">upgrade</a> your plan to enable session keep alive.\n        </p>\n        '),t.push("\n\n        ")),t.push("\n        ")):t.push("\n        <p>\n          If you disable Session Keep Alive your session will be shutdown when you logout of Wakari or your browser is disconnected.&nbsp;&nbsp;<b>NOTE, all running jobs will be terminated when your session is shutdown.</b>\n        </p>\n        "),t.push('\n    </div>\n    <div id="bgj_Footer" class="modal-footer">\n        '),this.session_plan.name!==this.user_plan.name&&t.push('\n          <a class="btn btn-warning restartcontainer">Restart</a>\n        '),t.push("\n        "),this.persistent?(t.push("\n          "),this.session_plan.persistent?t.push('\n          <a href="#" class="btn btn-primary enable_background_jobs" data-dismiss="modal">Enable</a>\n          '):this.user_plan.persistent||t.push('\n            <a href="/settings/billing" class="btn btn-success">Upgrage Your Plan</a>\n          '),t.push("\n        ")):t.push('\n          <a href="#" class="btn btn-primary disable_background_jobs" data-dismiss="modal">Disable</a>\n        '),t.push('\n          <a  href="#" class="btn" data-dismiss="modal">Close</a>\n        \n    </div>\n</div>\n')}).call(this)}.call(e),e.safe=s,e.escape=o,t.join("")}},"messages/billing_confirmation":function(e,t,n){(function(){var e,r,i;e=t("./confirmation"),i=t("usermgmt/lib/containers"),r=function(t){var n,r,s;return n=function(e){if(e.error){alert(e.error);return}return t.success(e.persistent)},s=e(t),r=$(s),r.modal(),r.find(".restartcontainer").click(function(){return i.stop(window.username,"interactive",function(){return window.location.reload()})}),r.find(".enable_background_jobs").click(function(){return i.persistent(window.username,"interactive",n,!0)}),r.find(".disable_background_jobs").click(function(){return i.persistent(window.username,"interactive",n,!1)})},n.exports=r}).call(this)},"messages/messagestemplate":function(e,t,n){n.exports=function(e){e||(e={});var t=[],n=function(e){var n=t,r;return t=[],e.call(this),r=t.join(""),t=n,i(r)},r=function(e){return e&&e.ecoSafe?e:typeof e!="undefined"&&e!=null?o(e):""},i,s=e.safe,o=e.escape;return i=e.safe=function(e){if(e&&e.ecoSafe)return e;if(typeof e=="undefined"||e==null)e="";var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var e,n,i,s;t.push('<div class="modal-header">\n  <button type="button" class="close" data-dismiss="modal">×</button>\n  <h3> Messages  </h3>\n</div>\n<div id="modalBody" class="modal-body" style="overflow:auto;">\n  '),s=this.messages;for(n=0,i=s.length;n<i;n++)e=s[n],t.push('\n  <div class="alert alert-'),t.push(r(e.level)),t.push('">\n    '),t.push(e.message),t.push("\n  </div>\n  ");t.push("\n</div>\n")}).call(this)}.call(e),e.safe=s,e.escape=o,t.join("")}},"messages/messages":function(e,t,n){(function(){var n,r,i,s,o,u={}.hasOwnProperty,a=function(e,t){function r(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},f=function(e,t){return function(){return e.apply(t,arguments)}};o=t("./messagestemplate"),s=function(e,t,s){var o;return s||(s=new r),o=new i({collection:s}),e.subscribe("user:"+t,{auth:null}),e.subscribe("all:",{auth:null}),e.on("msg:user:"+t,function(e){var t,r;r=JSON.parse(e),r.msgtype==="status"&&console.log("messages",r);if(r.msgtype==="alert")return t=new n({level:r.level,message:r.message}),s.add(t)}),e.on("msg:all:",function(e){var t,r;r=JSON.parse(e),r.msgtype==="status"&&console.log("messages",r);if(r.msgtype==="alert")return t=new n({level:r.level,message:r.message}),s.add(t)})},n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.defaults={level:"error",message:""},t}(Backbone.Model),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.model=n,t}(Backbone.Collection),i=function(e){function t(){return this.render=f(this.render,this),this.in_modal=f(this.in_modal,this),t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.initialize=function(e){return this.collection=e.collection},t.prototype.delegateEvents=function(e){var n=this;return t.__super__.delegateEvents.call(this,e),$("#backbonemodal").on("hide",function(){if(n.in_modal())return n.collection.reset()}),this.collection.on("add",this.render)},t.prototype.in_modal=function(){return this.$el.parent()[0]===$("#backbonemodal")[0]},t.prototype.render=function(){var e,t;return this.collection.length===0&&this.in_modal()?$("#backbonemodal").modal("hide"):(t=this.collection.map(function(e){return{level:e.get("level"),message:e.get("message")}}),e=o({messages:t}),this.$el.html(e),$("#backbonemodal").empty(),$("#backbonemodal").append(this.$el),$("#backbonemodal").modal({show:!0})),this},t}(Backbone.View),e.setup=s,e.Alerts=r,e.Alert=n}).call(this)},"dialog/modalconfirm3":function(e,t,n){n.exports=function(e){e||(e={});var t=[],n=function(e){var n=t,r;return t=[],e.call(this),r=t.join(""),t=n,i(r)},r=function(e){return e&&e.ecoSafe?e:typeof e!="undefined"&&e!=null?o(e):""},i,s=e.safe,o=e.escape;return i=e.safe=function(e){if(e&&e.ecoSafe)return e;if(typeof e=="undefined"||e==null)e="";var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){t.push('<div class="modal-dialog">\n  <div class="modal-content">\n    <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal">x</button>\n      <h3 id="modalTitle">'),t.push(r(this.dialogTitle)),t.push('</h3>\n    </div>\n    <div id="modalBody" class="modal-body" >\n      <p>'),t.push(r(this.dialogText)),t.push('</p>\n    </div>\n    <div id="modalFooter" class="modal-footer">\n      <a id="modalCancelBtn" href="#" class="btn" data-dismiss="modal">Cancel</a>\n      <a id="modalConfirmBtn" href="#" class="btn btn-danger" data-dismiss="modal">Confirm</a>\n    </div>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=s,e.escape=o,t.join("")}},"dialog/index":function(e,t,n){(function(){var n,r;n=t("./modalconfirm"),r=t("./modalconfirm3"),e.dialog=function(e,t,i,s){var o,u,a;return a={dialogTitle:e,dialogText:t,footer:i},s===3?u=$(r(a)):u=$(n(a)),$("#backbonemodal").empty().prepend(u),o=$.Deferred(),$("#modalConfirmBtn").click(function(){return o.resolve()}),$("#modalCancelBtn").click(function(){return o.reject()}),$("#backbonemodal").modal("show"),o.promise()},e.updateTitle=function(e){e===void 0&&(e=""),$("#modalTitle").empty().append(e)},e.dismiss=function(){$("#backbonemodal").modal("hide")},e.removeFooter=function(){$("#modalFooter").remove()}}).call(this)},"dialog/modalconfirm":function(e,t,n){n.exports=function(e){e||(e={});var t=[],n=function(e){var n=t,r;return t=[],e.call(this),r=t.join(""),t=n,i(r)},r=function(e){return e&&e.ecoSafe?e:typeof e!="undefined"&&e!=null?o(e):""},i,s=e.safe,o=e.escape;return i=e.safe=function(e){if(e&&e.ecoSafe)return e;if(typeof e=="undefined"||e==null)e="";var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){t.push('<div class="modal-header">\n  <button type="button" class="close" data-dismiss="modal">x</button>\n  <h3 id="modalTitle">'),t.push(r(this.dialogTitle)),t.push('</h3>\n</div>\n<div id="modalBody" class="modal-body" >\n  '),this.dialogText&&(t.push("\n  <p>"),t.push(r(this.dialogText)),t.push("</p>\n  ")),t.push("\n  "),this.dialogHtml&&(t.push("\n  "),t.push(this.dialogHtml),t.push("\n  ")),t.push('\n</div>\n<div id="modalFooter" class="modal-footer">\n  '),this.footer&&t.push('\n  <a id="modalCancelBtn" href="#" class="btn" data-dismiss="modal">Cancel</a>\n  <a id="modalConfirmBtn" href="#" class="btn btn-danger" data-dismiss="modal">Confirm</a> \n  '),t.push("\n</div>\n")}).call(this)}.call(e),e.safe=s,e.escape=o,t.join("")}},idledetect:function(e,t,n){(function(){var t;t=function(e,t){var n;return n="/cs/"+e+"/"+t+"/heartbeat",console.log("heartbeat:"+n),$.get(n),setInterval(function(){return $.get(n)},12e4)},e.heartbeat_forever=t}).call(this)},envbrowser:function(e,t,n){(function(){var t,n,r=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};n=function(e){function n(){return this.loadEnvListCallback=r(this.loadEnvListCallback,this),n.__super__.constructor.apply(this,arguments)}return s(n,e),n.prototype.initialize=function(e){return this.getenv_actionID="wakari_envBrowser_getenv",this.getenvlist_actionID="wakari_envBrowser_getenvlist",this.resetenv_actionID="wakari_envBrowser_resetenv",this.resetallenvs_actionID="wakari_envBrowser_resetallenvs",this.cloneenv_actionID="wakari_envBrowser_cloneenv",this.deleteenv_actionID="wakari_envBrowser_deleteenv",GateOne.Net.addAction(this.getenv_actionID,this.loadenvCallback),GateOne.Net.addAction(this.getenvlist_actionID,this.loadEnvListCallback),GateOne.Net.addAction(this.resetenv_actionID,this.resetenvCallback),GateOne.Net.addAction(this.resetallenvs_actionID,this.resetallenvsCallback),GateOne.Net.addAction(this.cloneenv_actionID,this.cloneenvCallback),GateOne.Net.addAction(this.deleteenv_actionID,this.deleteenvCallback)},n.prototype.events={"change #envSelect":"envChange","click #envGo":"envGo","click #envRefresh":"envRefresh","click #envAdd":"envAdd"},n.prototype.envAdd=function(){var e;return e===null&&(e=new t,main_tab_set.add_tab({tab_name:"Add",view:e,route:"add"}),e.render()),main_tab_set.activate("add")},n.prototype.envChange=function(){var e;return e=$("#envSelect").val(),this.loadenv(e)},n.prototype.showMsgGo=function(e){return $("#envMsg").empty().append('<div id="envGoMsg" class="alert">'+e+"</div>").show(100,function(){return $("#envGoMsg").delay(1e3).slideUp(1e3)})},n.prototype.showMsgDone=function(e){return $("#envMsg").append('<div id="envDoneMsg" class="alert" style="display:none">'+e+"</div>"),$("#envDoneMsg").show().delay(2500).slideUp(1e3,function(){return $("#envMsg").hide(),$("#envGo").show()})},n.prototype.envRefresh=function(){this.showMsgGo("Refreshing Env list..."),this.loadEnvList()},n.prototype.envGo=function(){var e,t,n;$("#envGo").hide(),t=$("#envSelect").val(),n=$("#envOpSelect").val(),n==="reset"?(this.showMsgGo("Resetting env: "+t),e={actionID:this.resetenv_actionID,id:t,homeDir:window.WAKARI_HOMEDIR},GateOne.ws.send(JSON.stringify({wakari_resetenv:e}))):n==="resetall"?(this.showMsgGo("Resetting all envs"),e={actionID:this.resetallenvs_actionID,homeDir:window.WAKARI_HOMEDIR},GateOne.ws.send(JSON.stringify({wakari_resetallenvs:e}))):n==="clone"?(alert("Coming soon!  Clone will allow you to create a new environment that is an exact duplicate of an existing environment."),$("#envGo").show()):n==="delete"&&(alert("Coming soon!"),$("#envGo").show())},n.prototype.resetenvCallback=function(e){this.showMsgDone(e.errormsg)},n.prototype.resetallenvsCallback=function(e){this.showMsgDone(e.errormsg)},n.prototype.cloneenvCallback=function(e){this.showMsgDone(e.errormsg)},n.prototype.deleteenvCallback=function(e){this.showMsgDone(e.errormsg)},n.prototype.envDelete=function(){var e,t;return t=$("#envSelect").val(),e=$("#envSelect option:selected").text(),dialog("Confirm Delete?","Delete <b>"+e+"</b> environment?",function(){var t=this;return dialog.updateTitle("Deleting environment"),dialog.removeFooter(),dialog.showprogress(),$.when($.get("/deleteenv?name="+e)).then(function(n){return dialog.dismiss(),n.errorcode===0?(alert("Environment ["+e+"] deleted."),$.when(t.loadEnvList()).then(function(e){return t.loadenv("Default")})):alert("There was a problem. Unable to delete the environment ["+e+"]. "+n.errormsg)})})},n.prototype.render=function(){return this.$el.empty().prepend(_.template($("#env-template").html(),{})),this.loadEnvList(),$("#envDelete").addClass("disabled"),this},n.prototype.loadEnvList=function(){var e;e={actionID:this.getenvlist_actionID},GateOne.ws.send(JSON.stringify({wakari_getenvlist:e}))},n.prototype.loadEnvListCallback=function(e){var t,n,r,i,s,o,u,a,f,l,c,h=this;i=function(e){return{optionvalue:e,optionlabel:h.getEnvLabel(e),optionid:"id-"+e}},r=function(e){var t,n;return n=e.split("-"),t=n.length===2?n[1]:"Custom",{optgrouplabel:"Anaconda "+t,optgroupid:"optgroupid-"+t,options:[]}};if(e.errorcode===0){$("#envSelect").empty(),u={},c=e.envlist;for(f=0,l=c.length;f<l;f++)n=c[f],o=r(n),u[o.optgroupid]?o=u[o.optgroupid]:u[o.optgroupid]=o,o.options.push(i(n));a=_.template($("#envselecttemplate").html()),s=a({optgroups:u}),$("#envSelect").append(s),this.showMsgDone("Env list loaded."),t=localStorage.getItem("default_env"),t||(t="np18py27-1.9"),$("#envSelect").val(t),this.loadenv($("#envSelect").val()),$("#termEnvSelect").empty().append(s),$("#termEnvSelect").val(t)}},n.prototype.loadenv=function(e){var t;if(!e||e.length===0)e=$("#envSelect").val();if(e)return t={id:e,actionID:this.getenv_actionID},GateOne.ws.send(JSON.stringify({wakari_getenv:t}))},n.prototype.loadenvCallback=function(e){var t,n;return $("#envPath").empty().prepend(e.path),n=_.template($("#env-package-table").html(),{}),$("#envTableDiv").empty().append(n),t=_.template($("#env-package-row").html()),e.errorcode===0?$.each(e.packagelist,function(e,n){return $("#envTable").append(t(n))}):$("#envTable").append(t({p:e.errormsg,v:""}))},n.prototype.getEnvLabel=function(e){var t;return t="",e==="np15py26"?t="Py2.6 NumPy1.5":e==="np16py26"?t="Py2.6 NumPy1.6":e==="np17py26"?t="Py2.6 NumPy1.7":e==="np15py27"?t="Py2.7 NumPy1.5":e==="np16py27"?t="Py2.7 NumPy1.6":e==="np17py27"?t="Py2.7 NumPy1.7":e==="np17py33"?t="Py3.3 NumPy1.7":e==="np18py27"?t="Py2.7 NumPy1.8":e==="np18py33"?t="Py3.3 NumPy1.8":t=e,t},n}(Backbone.View),t=function(e){function u(){return this.saveEnv=r(this.saveEnv,this),u.__super__.constructor.apply(this,arguments)}var t,n,i,o;return s(u,e),i=null,n=null,t=null,o=[],u.prototype.events={"click #addEnvCloseBtn":"closeView","click #addEnvSaveBtn":"saveEnv","click #addEnvClearBtn":"clearPackages","click #addEnvSelectBtn":"selectPackages","change #addEnvPython":"updatePackages","change #addEnvPackageCheckbox":"packageChecked","mouseenter .al-package-link":"packageMouseEnter","mouseleave .al-package-link":"packageMouseLeave"},u.prototype.packageChecked=function(e){var t,n,r,i;r=this,t=e.currentTarget.checked,i=e.currentTarget.defaultValue,i=i.replace(/,/g,"-"),n=$("#addEnvPython").val(),t&&$.when($.get("/packagedeps?package="+i+"&pyver="+n)).then(function(e){if(e.errorcode===0)return $.each(e.packages,function(e,n){var i;i=r.setcheckbox(n,t);if(!i)return alert("Did not find package: "+n)})})},u.prototype.uncheckPackage=function(e){var t,n;n=this,t=$("#addEnvPython").val(),$.when($.get("/packagedeps?package="+e+"&pyver="+t)).then(function(e){if(e.errorcode===0)return $.each(e.packages,function(e,t){if(n.ischecked(t))return n.setcheckbox(t,!1),n.uncheckPackage(t.replace(/\|/g,"-"))})})},u.prototype.ischecked=function(e){var t;return t=!1,e=e.replace(/\|/g,","),$("input[name=package]").each(function(){if($(this).val()===e)return t=$(this).attr("checked"),!1}),t},u.prototype.sethighlight=function(e,t,n){var r;return t=t.replace(/\|/g,","),r=!1,$(".al-package-link").each(function(){if(this.dataset.pid===t)return r=!0,n?$(this).addClass("al-package-highlight"):$(this).removeClass("al-package-highlight")}),r},u.prototype.setcheckbox=function(e,t){var n;return e=e.replace(/\|/g,","),n=!1,$("input[name=package]").each(function(){if($(this).val()===e)return n=!0,$(this).attr("checked",t)}),n},u.prototype.closeView=function(){var e;main_tab_set.remove_tab("add"),main_tab_set.activate("config"),e=null},u.prototype.saveEnv=function(){var e,t,n,r,i,s,u=this;t=$("#addEnvName").val();if(t.length===0)return alert("An environment name is required."),$("#addEnvName").focus(),!1;if(t.length<4||t.length>32)return alert("The environment name must be more than 4 and less than 32 characters."),$("#addEnvName").focus(),!1;if(!/^[A-Za-z0-9]+$/.test(t))return alert("The environment name may only contain letters and numbers"),$("#addEnvName").focus(),!1;n=!1,$.ajaxSetup({async:!1}),$.when($.get("/usermgmt/getenvlist")).then(function(e){if(e.errorcode===0)return $.each(e.envlist,function(e,r){if(t===r)return n=!0,!1})}),$.ajaxSetup({async:!0});if(n)return alert("The environment ["+t+"] already exists."),!1;s=$("#addEnvPython").val();if(s.length===0)return alert("Please select a Python version."),$("#addEnvPython").focus(),!1;r=[],$.each(o,function(e,t){return r.push(t.replace(/\|/g,","))}),$("input[name=package]:checked").each(function(){return r.push($(this).val())});if(r.length===0)return alert("At least one package must be selected."),!1;e="<p><b>Name:</b> "+t+"</p>",e+="<p><b>Python Version:</b> "+s+"</p>",e+="<p><b>Packages:</b></p>",e+="<ul>",i=[],$.each(r,function(t,n){var r;return r=n.split(","),e+="<li>"+r[0]+", "+r[1]+"</li>",i.push(n.replace(/,/g,"-"))}),e+="</ul>",dialog("Confirm Creation of New Environment",e,function(){return dialog.updateTitle("Creating new environment"),dialog.removeFooter(),dialog.showprogress(),$.when($.post("/createenv",{name:t,pyver:s,"plist[]":i})).then(function(e){return e.errorcode===0?(dialog.dismiss(),alert("Environment ["+t+"] created."),$("#addEnvName").val(""),this.clearPackages(),this.loadEnvList()):alert("There was a problem. Unable to create the new environment ["+t+"]. "+e.errormsg)})},function(){})},u.prototype.clearPackages=function(){$("input[name=package]").attr("checked",!1)},u.prototype.selectPackages=function(){$("input[name=package]").attr("checked",!0)},u.prototype.updatePackages=function(){var e,t;t=this,e=$("#addEnvPython").val(),e.length>0?($.get("/pythondeps?pyver="+e).then(function(e){var t;o=e.packages;if(e.errorcode===0)return t=_.map(e.packages,function(e){return e.split("|").join(" ")}).join(", "),$("#addEnvPackageDiv").empty().append(_.template($("#env-addenv-required-template").html(),{title:"REQUIRED PACKAGES",str:t}))}),$.when($.get("/pythonrevdeps?pyver="+e)).then(function(e){var t,n,r,i,s;if(e.errorcode===0){s=_.template($("#env-addenv-optional-template").html(),{title:"OPTIONAL PACKAGES",str:"Check the packages you wish to include. Dependency packages will automatically be selected.<br>Hover over a package name to see dependencies."}),$("#addEnvPackageDiv").append(s),t="",n="",r="",i=0,$.each(e.packages,function(e,s){var o,u;return i++,u=s.split("|"),o=_.template($("#env-addenv-cell-template").html(),{"package":u[0],ver:u[1],packID:u}),i===1?(t=o,!0):i===2?(n=o,!0):(i===3&&(r=o),$("#addEnvTable").append(_.template($("#env-addenv-tablerow-template").html(),{cell1:t,cell2:n,cell3:r})),i=0)});if(i>0&&i<3)return i===1?(n="",r=""):i===2&&(r=""),$("#addEnvTable").append(_.template($("#env-addenv-tablerow-template").html(),{cell1:t,cell2:n,cell3:r}))}})):$("#addEnvPackageDiv").empty().prepend(_.template($("#p-template").html(),{str:"Select a Python version to cause the package list to be populated."}))},u.prototype.packageMouseEnter=function(e){var r;r=this,i?(clearTimeout(i),i=null):(n=e.currentTarget.dataset.pid,i=setTimeout(function(){var s,o;return o=n.replace(/,/g,"-"),s=$("#addEnvPython").val(),$(e.currentTarget).addClass("al-package-highlight-bold"),$.when($.get("/packagedeps?package="+o+"&pyver="+s)).then(function(n){if(n.errorcode===0)return t=n.packages,$.each(n.packages,function(t,n){return r.sethighlight(e,n,!0)})}),clearTimeout(i),i=null},750))},u.prototype.packageMouseLeave=function(e){var r;r=this,i?clearTimeout(i):($(e.currentTarget).removeClass("al-package-highlight-bold"),$.each(t,function(t,n){return r.sethighlight(e,n,!1)})),n=null,t=null,i=null},u.prototype.render=function(){return this.$el.empty().prepend(_.template($("#env-addenv-pro-template").html(),{})),$("#addEnvNameHelp").popover({title:"Environment Name",content:this.addEnvNameHelpContent()}),$("#addEnvPythonHelp").popover({title:"Python Version",content:this.addEnvPythonHelpContent()}),$.get("/pythonversions").then(function(e){var t;t=_.template($("#env-option-template").html());if(e.errorcode===0)return $.each(e.versions,function(e,n){return $("#addEnvPython").append(t({val:e,ele:e}))})}),$("#addEnvName").focus()},u.prototype.addEnvNameHelpContent=function(){return"The environment name can be 4-32 alphanumeric characters [A-z0-9] only.  No spaces or special characters.  The name must be unique within this Anaconda installation."},u.prototype.addEnvPythonHelpContent=function(){return"Select the version of Python to be used in the environment."},u}(Backbone.View),e.EnvBrowser=n}).call(this)},"gateone/gateonetemplate":function(e,t,n){n.exports=function(e){e||(e={});var t=[],n=function(e){var n=t,r;return t=[],e.call(this),r=t.join(""),t=n,i(r)},r=function(e){return e&&e.ecoSafe?e:typeof e!="undefined"&&e!=null?o(e):""},i,s=e.safe,o=e.escape;return i=e.safe=function(e){if(e&&e.ecoSafe)return e;if(typeof e=="undefined"||e==null)e="";var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){t.push('<div id="terminalToolbar">\n  <select id="termTypeSelect">\n    <option value="shell">Shell</option>\n    <option value="python">Python</option>\n    <option value="ipython" selected="selected">IPython</option>\n    <option value="pylab">Pylab</option>\n    <option value="R">R</option>\n    <option value="julia">Julia</option>\n  </select>\n  <select id="termEnvSelect" class="envselect"> </select>\n  <button id="termGoBtn" class="btn btn-small al-go-btn terminal-btn"><i class="icon-plus"></i> Tab</button>\n\n  <span id="term_menu" class="btn-group pull-right">\n    <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">\n      <i class="icon-cog"></i>\n      <span class="caret"></span>\n    </a>\n    <ul class="dropdown-menu dropdown-settings">\n      <li>\n        <a href="#" class="set-default-btn"><i class="icon-globe"></i> Set Default Env</a>\n      </li>\n      <li class="divider"></li>\n      <li>\n        <a href="#"><i class="icon-adjust"></i> Theme\n        <span class="go_prefs_theme">\n          <select id="go_prefs_theme"></select>\n        </span>\n        </a>\n      </li>\n\n    </ul>\n  </span>\n\n  \n</div>\n<div id="terminal_loading">\n  <h1>LOADING...</h1>\n</div>\n<div id="gateone_tab_container">\n  <div id="g_one_tabs" >\n    <ul id="right-pane-tabs" class=\'nav nav-tabs\'></ul>\n  </div>\n  <div id="gateone_container">\n    <div id="gateone">\n    </div>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=s,e.escape=o,t.join("")}},"gateone/gateone_lib":function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,D,P={}.hasOwnProperty,H=function(e,t){function r(){this.constructor=e}for(var n in t)P.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};h=t("../envbrowser"),w=t("../launcher"),C=t("../tab_lib"),g=t("./gateonetemplate"),c=t("usermgmt/lib/containers"),i=C.GateOneTabSet,d=_.extend({},Backbone.Events),e.gateone_events=d,T=null,f=null,O=null,N=null,r=$("#gateone"),u=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return H(t,e),t.prototype.defaults={new_terminal:!0},t}(Backbone.Model),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return H(t,e),t.prototype.model=u,t}(Backbone.Collection),L=new o,e.terminal_collection=L,A={},E=function(e,t,n,r){var i,s,o,a,f,l;return r==null&&(r=""),k(),e==null&&(i=L.find(function(e){return e.get("cmd_args")===r}),i&&r!==""?(e=i.get("termNum"),i.set("tab_closed",!0),i.set("process_ended",!0),L.remove(i)):L.models.length===0?e=1:(o=L.max(function(e){return parseInt(e.get("termNum"))}),a=o?o.get("termNum"):0,e=a+1)),n||(n=$("#termTypeSelect").val()),l=$("#termEnvSelect").val(),f=$("#termTypeSelect option:selected").text(),s=new u({termNum:e,termType:n,termPyEnv:l,cmd_args:r,new_terminal:!t,homedir:window.WAKARI_HOMEDIR}),L.add(s),mixpanel.track("Open Terminal",{type:n,PyEnv:l}),mixpanel.people.increment("Open Terminal:"+n)},e.terminals=null,S=function(t){return e.terminals=t,d.trigger("reattach")},s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return H(t,e),t.prototype.tagName="div",t.prototype.closeTerminal=function(){return GateOne.Terminal.closeTerminal(this.model.get("termNum")),L.remove(this.model)},t.prototype.terminalClosed=function(){return this.model.set("process_ended",!0)},t.prototype.sendString=function(e){var t;return t=this.model.get("termNum"),GateOne.Terminal.sendString(e,this.model.get("termNum"))},t.prototype.activate=function(){var e,t,n;return t=GateOne.prefs.prefix,GateOne.prefs.audibleBell=!1,$(".✈terminal").each(function(e,t){return $(t).css("display","none")}),n=this.model.get("termNum"),e="#"+(""+t+"term"+n),$(e).css("display",""),GateOne.Terminal.displayTermInfo(n),GateOne.Visual.updateDimensions(n),GateOne.Terminal.sendDimensions(n),GateOne.Terminal.switchTerminal(n),GateOne.Utils.scrollToBottom("#"+t+"term"+n+"_pre"),GateOne.Utils.scrollToBottom(this.$el)},t.prototype.deactivate=function(){},t.prototype.create_terminal=function(){var e,t,n,r,i,s=this;return r=GateOne.Terminal.newTerminal(this.model.get("termNum"),{title:"terminal",command:"newterm"},$("#gateone")[0]),this.model.set("termNum",r),this.model.get("new_terminal")&&(i=this.model.get("termType"),n=this.model.get("termPyEnv"),e=this.model.get("cmd_args")||"",t=this.model.get("homedir"),this.sendString(""+i+":"+n+":"+t+":"+e+" \n")),GateOne.Events.on("terminal:term_closed",function(e){if(e===s.model.get("termNum")&&!s.model.get("tab_closed")&&!s.model.get("process_ended"))return s.model.set("process_ended",!0)}),this.model.on("change:tab_closed",function(){if(s.model.get("tab_closed")&&!s.model.get("process_ended"))return s.closeTerminal()})},t}(Backbone.View),a=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return H(n,t),n.prototype.initialize=function(e){return this.gateone_terminal_collection=e.gateone_terminal_collection,this.attached=!1,this.render()},n.prototype.events={"mouseleave #term_menu":"close_term_menu","click .dropdown-menu input":"prevent_dropdown_close"},n.prototype.prevent_dropdown_close=function(e){return e.stopPropagation()},n.prototype.close_term_menu=function(e){},n.prototype.delegateEvents=function(e){var t=this;return n.__super__.delegateEvents.call(this,e),this.gateone_terminal_collection.on("add",this.on_gateone_terminal_added,this),this.listenTo(this,"activate",this.activate_gateone_tabs),this.listenTo(d,"reattach",function(){return t.attached=!1})},n.prototype.activate_gateone_tabs=function(){var t;!this.attached&&e.terminals!==null&&(t=e.terminals,t.length===0?_.delay(function(){return E(1,!1,null,null)},1e3):t.forEach(function(e){return E(e,!0,null,null)}),this.attached=!0);if(this.attached)return m()},n.prototype.on_gateone_terminal_added=function(e){var t,n,r,i,o,u,a=this;n=new s({model:e}),window.g_one_term=n,n.create_terminal(),o="terminal "+e.get("termNum"),u=""+e.get("cmd_args")+"terminal"+e.get("termNum")+"route",this.terminal_tab_set.add_gateone_tab({tab_name:o,view:n,route:u}),e.set("new_terminal",!1),e.on("change:process_ended",function(e){if(e.get("process_ended"))return a.terminal_tab_set.remove_tab(u)}),_.delay(function(){return a.terminal_tab_set.activate(u)},20),this.terminal_tab_set.event_sink.on("delete",function(t){if(t.route===u)return e.set({tab_closed:!0})});if(A.first_term_time==null)return A.first_term_time=new Date,i=A.onload_time-A.interpret_time,r=A.gateone_init_time-A.interpret_time,t=A.first_term_time-A.interpret_time,console.log("onload "+i+" gateone_init "+r+" first_term "+t)},n.prototype.render=function(){return this.$el.html(g()),this.terminal_tab_set=new i({el:this.$("#g_one_tabs"),tab_view_objs:[]}),this.terminal_tab_set.add_gateone_master_tab($("#gateone"))},n}(Backbone.View),e.TerminalTabView=a,M=function(e){console.log(e)},v=function(e,t){if(e>=t)return;if(GateOne.ws.readyState!==1)return _.delay(function(){return v(e+1,t)},100)},D=function(e){var t,n,r,i,s,o;i=e.themes,n=GateOne.Utils.getNode("#go_prefs_theme"),n.options.length=0,n.onchange=function(){var e;return e=n.options[n.selectedIndex].value,GateOne.Utils.loadTheme(e),GateOne.prefs.theme=e,GateOne.Utils.savePrefs()};for(t=s=0,o=i.length;s<o;t=++s)r=i[t],n.add(new Option(r,r),null),GateOne.prefs.theme===r&&(n.selectedIndex=t)},p=function(){if(GateOne.called)return;GateOne.called=!0,$("#terminal_loading").remove(),v(0,30),A.gateone_init_time=new Date,GateOne.Visual.displayMessage=M,$AL.envBrowser=new h.EnvBrowser,$("#pyenvsBrowser").empty().append($AL.envBrowser.render().el),GateOne.ws.send(JSON.stringify({"go:enumerate_themes":null}))},k=function(){},y=function(){return console.log("gateone connection error, getNewAuthObj called"),c.current.auth(function(e){return console.log(e),e.error?(console.log("getNewAuthObj error"),l(),GateOne.Events.on("go:connection_error",null)):GateOne.prefs.auth=e.authobj})},b=function(e,t,n,r){var i,s,o,u;return O=n,N=r,f=t,o={lines:9,length:20,width:9,radius:19,corners:1,rotate:0,color:"#999",speed:1.3,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"auto",left:"auto"},u=(new Spinner(o)).spin($("#terminal_loading")),$("#terminal_loading").empty().append("<h1>LOADING...</h1>"),T=e,GateOne.Events.on("go:initialized",p),GateOne.Events.on("go:connection_error",y),GateOne.Events.on("terminal:term_reattach",S),GateOne.Net.sslError=function(){return GateOne.Net.connectionProblem=!0,console.log("Unable to connect to terminal service because of ssl problem, refresh browser and try again"),y()},GateOne.Utils.loadScriptError=function(){return console.log("Unable to connect to terminal service because of loadScript problem, refresh browser and try again")},s=e.get("protocol")+e.get("host")+":"+e.get("shellinaboxport")+"/",GateOne.Utils.enumerateThemes=D,i=e.get("authobj"),GateOne.init({fillContainer:!1,url:s,auth:i,goDiv:"#gateone",prefix:"gateone_",embedded:!0})},A.interpret_time=new Date,$(function(){return A.onload_time=new Date}),e.newTabTerminal=E,x=function(e){var t,n;this.app.show_terminals(),n=$("#termTypeSelect").val();switch($("#termTypeSelect").val()){case"pylab":t=E(null,!1,"ipython"," --pylab -i --no-banner "+e);break;case"r":t=E(null,!1,"R");break;default:t=E(null,!1,"ipython","-i --no-banner "+e)}return t},m=function(){return GateOne.Visual.updateDimensions(),GateOne.Terminal.sendDimensions()},n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return H(t,e),t.prototype.events={"click #connErrorRefreshBtn":"refresh","click #connErrorLogoutBtn":"logout"},t.prototype.render=function(){return this.$el.html(_.template($("#connection-error-template").html(),{})),this},t.prototype.refresh=function(){window.location.reload()},t.prototype.logout=function(){window.location="/usermgmt/logout"},t}(Backbone.View),l=function(){var e;e=new n,$("#connectionErrorModal").empty().append(e.render().el),$("#connectionErrorModal").modal("show")},e.gateone_resize=m,e.runScript=x,e.init_gate_one=b}).call(this)},"usermgmt/billing":function(e,t,n){(function(){var e,t;t=function(e,t){var n,r;return t.error?($(".payment-errors").html("<div class='alert alert-danger'>"+t.error.message+"</div>"),$(".submit-button").prop("disabled",!1)):(n=$("#change_plan"),r=t.id,n.append($('<input type="hidden" name="stripeToken" />').val(r)),n.get(0).submit())},e=function(){return $(function(){return console.log("Sart Billing"),$("#change_plan").submit(function(e){var n,r,i,s;if($(".card-number").length===0)return;return e.preventDefault(),$(".submit-button").prop("disabled",!0),n=$(".card-expiry").val(),i=n.split("/")[0],s=n.split("/")[1],r={number:$(".card-number").val(),cvc:$(".card-cvc").val(),exp_month:i,exp_year:s},Stripe.createToken(r,t)})})},n.exports={start:e}}).call(this)},"usermgmt/welcome":function(e,t,n){(function(){var e,r,i;i=t("usermgmt/lib/validation"),e=Backbone.View.extend({el:"body",events:{"change input[name='username']":"username_changed","change input[name='email']":"email_changed","change input[name='terms']":"terms_changed","change input[name='password']":"password_changed","change input[name='password1']":"password1_changed","change input[name='password2']":"password2_changed"},set_state:function(e,t,n){var r,i;return console.log("set_state",t,n),r=e.parents(".control-group"),i=r.find(".help-block small"),t?r.addClass("error"):r.removeClass("error"),i.text(n)},username_changed:function(e){var t,n,r,s,o;return r=$(e.currentTarget),s=r.val(),console.log("username",s),o=this,n=function(){return o.set_state(r,!1,"")},t=function(e){return o.set_state(r,!0,e)},i.validate_username(s,n,t)},email_changed:function(e){var t,n,r,s,o;return s=$(e.currentTarget),t=s.val(),o=this,r=function(){return o.set_state(s,!1,"")},n=function(e){return o.set_state(s,!0,e)},i.validate_email(t,r,n)},password_changed:function(e){var t,n,r,s,o;return s=$(e.currentTarget),n=s.val(),o=this,r=function(){return o.set_state(s,!1,""),$("#password1").val(n),$("#password2").val(n)},t=function(e){return o.set_state(s,!0,e)},console.log("validation",i),i.validate_password(n,r,t)},password1_changed:function(e){var t,n,r,s,o;return s=$(e.currentTarget),n=s.val(),o=this,r=function(){return o.set_state(s,!1,"")},t=function(e){return o.set_state(s,!0,e)},console.log("validation",i),i.validate_password(n,r,t)},password2_changed:function(e){var t,n,r,i;return r=$(e.currentTarget),i=this,n=function(){return i.set_state(r,!1,"")},t=function(e){return i.set_state(r,!0,e)},$("input[name='password1']").val()===$("input[name='password2']").val()?n():t("passwords must match")},terms_changed:function(e){var t,n;n=$(e.currentTarget),t=n.val();if(t==="on")return this.set_state(n,!1,"")}}),r=function(){return $(function(){return window.app=new e})},n.exports={start:r}}).call(this)},"usermgmt/sessions":function(e,t,n){(function(){var e,r;e=t("usermgmt/lib/containers"),r=function(){return $(function(){return $(".btn.btn-loadable").click(function(e){var t;return t=$(e.currentTarget),t.button("loading")}),$("button.terminate").click(function(t){var n,r,i,s;return console.log("button.terminate"),i=$(t.currentTarget),i.prop("disabled","disabled"),i.text("terminating ..."),s=i.data("username"),r=i.data("session"),n=function(e){if(!e.error)return window.location.reload();console.log(e),alert("Error occurred while trying to terminate the container: "+e.error),i.removeProp("disabled"),i.text("terminate")},e.stop(s,r,n)}),$("button.toggle-default-node").click(function(t){var n,r,i;n=$(t.currentTarget),r=!n.hasClass("active");if(!r){t.stopPropagation();return}return $("button.toggle-default-node.active").removeClass("active"),i=n.data("name"),e.default_session(i,function(e){if(e.error)return alert(e.error)})})})},n.exports={start:r}}).call(this)},"usermgmt/lib/containers":function(e,t,n){(function(){var e,t,r,i,s,o,u,a;u=function(e){return function(t){return typeof e=="function"?e({error:"Server Error: "+t.textStatus}):void 0}},o=function(e,t,n){var r;return r="/cs/"+e+"/"+t+"/restart",$.ajax({url:r,type:"put",success:n,error:u(n)})},a=function(e,t,n){var r,i;return i="/cs/"+e+"/"+t+"/stop",r=$.cookie("csrftoken"),$.ajax({url:i,type:"put",success:n,error:u(n),headers:{"X-CSRFToken":r}})},s=function(e,t,n,r){var i,s,o;return r?s="post":r===!1?s="delete":s="get",o="/cs/"+e+"/"+t+"/persistent",i=$.cookie("csrftoken"),$.ajax({url:o,type:s,success:n,error:u(n),headers:{"X-CSRFToken":i}})},i=function(e,t,n,r){var i,s,o;_.isUndefined(r)?s={ensure:!0}:s={};if(!e)throw new Error('Can not automatically guess argument "username" please specify');if(!t)throw new Error('Can not automatically guess argument "container_name" please specify');return o="/cs/"+e+"/"+t+"/info",i=$.cookie("csrftoken"),$.ajax({url:o,type:"GET",data:s,success:n,error:u(n),headers:{"X-CSRFToken":i}})},t=function(e,t,n){return i(e,t,n,!1)},r=function(e,t){var n,r,i;return typeof e=="function"?(i="/usermgmt/api/default_session",r="GET",t=e):(i="/usermgmt/api/default_session/"+e,r="PUT"),n=$.cookie("csrftoken"),$.ajax({url:i,type:r,success:t,error:u(t),headers:{"X-CSRFToken":n}})},e=function(){function e(e,t){this.username=e,this.container_name=t}return e.prototype.persistent=function(e,t){return this._check_valid(),s(this.username,this.container_name,e,t)},e.prototype.stop=function(e){return this._check_valid(),a(this.username,this.container_name,e)},e.prototype.restart=function(e){return this._check_valid(),o(this.username,this.container_name,e)},e.prototype.auth=function(e){return this._check_valid(),t(this.username,this.container_name,e)},e.prototype.info=function(e){return this._check_valid(),i(this.username,this.container_name,e)},e.prototype.setdefault=function(e){return this._check_valid(),r(this.container_name,e)},e.prototype._check_valid=function(){if(!this.username)throw new Error("'username' cookie is not set. Can not get current container");if(!this.container_name)throw new Error("'container_name' cookie is not set. Can not get current container")},e}(),n.exports={persistent:s,stop:a,restart:o,auth:t,info:i,default_session:r,Container:e,current:new e($.cookie("username"),$.cookie("session_name"))}}).call(this)},"usermgmt/lib/validation":function(e,t,n){(function(){var e,t,r;r=function(e,t,n){$.ajax({url:"/usermgmt/api/validate_username",data:{username:e},success:function(e){return e.error?typeof n=="function"?n(e.message):void 0:typeof t=="function"?t("success"):void 0},error:function(e){return alert("There was a server error: "+e.status+"\n "+e.statusText)}})},e=function(e,t,n){$.ajax({url:"/usermgmt/api/validate_email",data:{email:e},success:function(e){return e.error?typeof n=="function"?n(e.message):void 0:typeof t=="function"?t("success"):void 0},error:function(){return alert("There was a server error: "+jqxhr.status+"\n "+jqxhr.statusText)}})},t=function(e,t,n){/[0-9]/.test(e)?/[a-z]/.test(e)?/[A-Z]/.test(e)?e.length<7?n("password must contain at least 7 characters"):t(""):n("password must contain at least one upper case letter"):n("password must contain at least one lower case letter"):n("password must contain at least one number")},n.exports={validate_username:r,validate_email:e,validate_password:t}}).call(this)},launcher:function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m={}.hasOwnProperty,g=function(e,t){function r(){this.constructor=e}for(var n in t)m.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},y=function(e,t){return function(){return e.apply(t,arguments)}};window.$AL={},v=t("./serverutils"),s=t("./base"),f=t("./container"),l=t("./usermgmt/lib/containers"),p=t("./messages/messages"),o=t("./messages/billing_confirmation"),u=s.Config,a=v.utility,n={},e.Config=n,n.envBrowser=null,n.envBrowser=null,n.host="localhost",n.shellinaboxport="",n.shellinaboxsuffix="",n.notebookToken="ipython:notebook",h=!1,c=!1,n.maxFileSize=104857600,n.maxFileSizeLabel="100MB",window.trackTab=function(e){return mixpanel.track("Sidebar Tab",{type:e.innerText}),mixpanel.people.increment("Sidebar Tab:"+e.innerText),e.blur()},i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return g(t,e),t.prototype.placeholder=5,t.prototype.fetch=function(){var e=this;return $.getJSON("/usermgmt/userprofile").done(function(t){var n;return n=t.plan.batch_job_cost,e.set({plan:t.plan.name,plan_cost:t.plan.cost,plan_ssh_access:t.plan.ssh_access,plan_persistent:t.plan.persistent,plan_disk:t.plan.disk,userplan_restrict:t.userplan_restrict,userplan_restrict_amount:t.userplan_restrict_amount,userplan_notify:t.userplan_notify,userplan_notify_amount:t.userplan_notify_amount,unixuser:t.unixuser,username:t.user,first_name:t.first_name,last_name:t.last_name,email:t.email,postalcode:t.postalcode,referrer:document.referrer}),e.trigger("fetch")})},t}(Backbone.Model),r=function(e){function t(){return this.authenticate_ipython=y(this.authenticate_ipython,this),t.__super__.constructor.apply(this,arguments)}return g(t,e),t.prototype.initialize=function(e,t){return this.alerts=t.alerts,this.username=t.username,this.sessionname=t.sessionname},t.prototype.placeholder=5,t.prototype.togglepersistent=function(){var e,t=this;return e=!this.get("persistent"),o({sessionname:this.sessionname,persistent:e,user_plan:this.get("user_plan"),session_plan:this.get("session_plan"),cost:(this.get("cost")*60).toFixed(3),success:function(e){return t.set({persistent:e})}}),mixpanel.track("Keep Alive",{persistent:e,plan_name:this.get("user_plan").name})},t.prototype.fetch=function(){var e=this;return l.current.info(function(t){return e.set(t),l.current.persistent(function(t){return e.set(t)}),e.trigger("fetch")})},t.prototype.authenticate_ipython=function(){"untested";return this.authenticate_response||(this.authenticate_response=$.ajax({url:this.get("nburl"),xhrFields:{withCredentials:!0}})),this.authenticate_response},t}(Backbone.Model),d=t("./tests"),e.UserProfile=i,e.ServerInfo=r}).call(this)},bokeh_iframe:function(e,t,n){(function(){var e,t;e=Backbone.Router.extend({routes:{"posts/:id":"getPost","plots/:doc_id/:plot_id":"getPlot","*actions":"defaultRoute"}}),t=new e,t.on("route:getPost",function(e){return alert("Get post number "+e)}),t.on("route:defaultRoute",function(e){return console.log("route:defaultRoute",e)}),t.on("route:getPlot",function(e,t){return $CDX.utility.instantiate_doc_single_plot(e,t,$("#PlotPane"),window.location.host)}),$(function(){return Backbone.history.start()}),"http://localhost/iframe/plots#01735e56-dbdc-4eed-bfb7-0a2d2578476d/3fbb0a32-3138-49c6-8b75-a42457371858\n"}).call(this)},databrowser_view:function(e,t,n){(function(){var t,n={}.hasOwnProperty,r=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.initialize=function(e){var n,r,i,s;return t.__super__.initialize.call(this,e),this.maxFileSizeLabel=e.maxFileSizeLabel,n=["csv","dat","txt","png","jpg","jpeg","gif","tif","tiff","h5","hdf5","pnm","ppm","npy","tar","gz","gzip","zip"],s=n.join("|"),i=n.join(","),r="^.*\\.("+s+")$",this.dataRegEx=new RegExp(r,"i"),this.listOfExts=i,this.refreshingPublicData=!1,this.renderDataBrowser(),this.renderBrowserPublic()},t.prototype.render=function(){return this.$el.empty().prepend(_.template($("#data-browser-template").html(),{})),this},t.prototype.renderDataBrowser=function(){var e;e=this,this.render(),$("#databrowser").empty().prepend(this.$el)},t.prototype.download=function(){var e;if(this.selected_file)return e="/editor/home_download_file?path="+this.selected_file.full_path,$(document.body).append($("<iframe class='download_iframe' src='"+e+"'></iframe>"))},t.prototype.renderBrowserPublic=function(){var e,t;t=this,e=_.template($("#public-data-template").html(),{}),$("#dataBrowserDiv").empty().prepend(e),this.refreshPublicFiles(),$("#dataRefreshPublicFiles").click(function(){return t.refreshPublicFiles()})},t.prototype.refreshPublicFiles=function(){var e;e=this,this.refreshingPublicData||(this.refreshingPublicData=!0,$("#accordionPublicData").empty().append('<p class="alert">Refreshing...</p>'),$.when($.get("/usermgmt/getpublicdata")).then(function(e){return $("#accordionPublicData").empty(),$.each(e,function(e,t){var n,r,i,s,o,u,a,f,l,c,h;s="",c=t.keys;for(u=0,f=c.length;u<f;u++)i=c[u],s+="<tr><td>"+i+"</td></tr>";r="",h=t.example;for(a=0,l=h.length;a<l;a++)o=h[a],r+=o+"<br />";return n=_.template($("#public-data-agrp-template").html(),{grpName:t.name,secNum:e,desc:t.desc,example:r,keysRows:s}),$("#accordionPublicData").append(n)})})),this.refreshingPublicData=!1},t}(Backbone.View),e.DataBrowserView=t}).call(this)},mainapp:function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L=function(e,t){return function(){return e.apply(t,arguments)}},A={}.hasOwnProperty,O=function(e,t){function r(){this.constructor=e}for(var n in t)A.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};E=t("./launcher"),N=t("./notebook"),C=t("./share/index"),window.notebook_module=N,c=t("./tab_lib").TabSet,y=t("./gateone/gateone_lib"),S=t("./layout/layout"),u=S.LayoutView,o=S.LayoutModel,g=t("./editor_class"),i=t("./databrowser_view").DataBrowserView,p=E.UserProfile,l=E.ServerInfo,w=y.init_gate_one,r=E.Config,x=t("./messages/messages"),v=t("./serverutils"),d=t("./bokehserverrun"),n=t("./base").Config,k=t("usercontext/usercontext"),T=t("./navbar/navbar"),s=t("./help").HelpView,m=t("./dialog/index"),b=t("./idledetect").heartbeat_forever,a=function(e){function t(){return this.mixpanel_identify=L(this.mixpanel_identify,this),this.on_userprofile=L(this.on_userprofile,this),this.ssh_alert=L(this.ssh_alert,this),this.share=L(this.share,this),t.__super__.constructor.apply(this,arguments)}return O(t,e),t.prototype.initialize=function(e){var t,n=this;return this.username=e.username,this.sessionname=e.sessionname,b(this.username,this.sessionname),this.alerts=new x.Alerts,this.userprofile=new p,this.serverinfo=new l({},{alerts:this.alerts,username:this.username,sessionname:this.sessionname}),this.userprofile.fetch(),this.serverinfo.fetch(),this.csrf_token=$.cookie("csrftoken"),t={"X-CSRFToken":this.csrf_token,"X-Csrftoken":this.csrf_token},$.ajaxSetup({headers:t}),this.file_event_sink=_.extend({},Backbone.Events),this.init_websocket(),this.render(),m.dialog("Loading","One moment while your environment is loaded...",!1),this.listenTo(this.serverinfo,"fetch",function(){return m.dismiss()}),this.dataBrowser=new i({maxFileSizeLabel:r.maxFileSizeLabel})},t.prototype.show_databrowser=function(){return $("#dataBrowserModal").modal({show:!0})},t.prototype.show_envbrowser=function(){return $("#pyEnvsModal").modal({show:!0})},t.prototype.share=function(e,t,n){return C.share(e,t,n,this.serverinfo.get("basenburl"),this.userprofile.get("plan")!=="free")},t.prototype.init_websocket=function(){return window.location.protocol==="http:"?n.ws_conn_string="ws://"+window.location.host+":5006/bokeh/sub":n.ws_conn_string="wss://"+window.location.host+":5006/bokeh/sub",this.wswrapper=v.utility.make_websocket()},t.prototype.add_help=function(){return this.new_tab("help","help",new s,!0)},t.prototype.merge_panes=function(){var e,t,n,r,i;if(this.one_pane()===!0)return this.show_pane_help();r=_.values(this.tab_set.tab_view_dict),i=[];for(t=0,n=r.length;t<n;t++)e=r[t],i.push(this.move_to_right(e));return i},t.prototype.one_pane=function(){var e,t,n,r,i;e=0,i=_.values(this.tab_set.tab_view_dict);for(n=0,r=i.length;n<r;n++)t=i[n],e++;return e===0},t.prototype.show_pane_help=function(){$("#mergePanesHelp").modal("show")},t.prototype.open_relative_notebook=function(e,t){var n,r,i,s;return i=""+this.serverinfo.get("nburl")+"?next=/notebooks/"+e,r=new N.NotebookModel({id:_.uniqueId("notebook"),protocol:this.serverinfo.get("protocol"),ip:this.serverinfo.get("host"),port:this.serverinfo.get("notebookport"),url:i,nburl:this.serverinfo.get("nburl"),name:t,envLabel:""}),window.nbm=r,n=this.serverinfo.get("nburl"),s=new N.NotebookDirectView({model:r}),s.render(),this.new_tab("notebook:"+t,e,s,!0)},t.prototype.ssh_alert=function(){var e,t,n,r,i,s,o,u;return o=this.serverinfo.get("sshport"),u=this.userprofile.get("unixuser"),i=this.serverinfo.get("host"),n="$ ssh -p "+o+" "+u+"@"+i+" -i [key-file]",r="$ ssh -p "+o+" "+u+"@"+i+" -i ~/.ssh/id_rsa",e="<a href='/settings/sshkeys'>here</a>",s="<p>If you have added ssh keys to your Wakari account, you can connect to this node with the following command:<br><code>"+n+"</code></p><p>For example:<br><code>"+r+"</code></p><p>Click "+e+" to add ssh keys.",t=new x.Alert({level:"success",message:s}),this.alerts.add(t)},t.prototype.on_userprofile=function(){var e;return this.mixpanel_identify(),e=this.userprofile.get("username"),x.setup(this.wswrapper,e,this.alerts)},t.prototype.mixpanel_identify=function(){return mixpanel.track("Add User Profile",{email:this.userprofile.get("email")}),mixpanel.identify(this.userprofile.get("username")),mixpanel.people.identify(this.userprofile.get("username")),mixpanel.people.set({$username:this.userprofile.get("username"),$email:this.userprofile.get("email"),$first_name:this.userprofile.get("first_name"),$last_name:this.userprofile.get("last_name"),postalcode:this.userprofile.get("postalcode"),referrer:this.userprofile.get("referrer")})},t}(Backbone.View),f=function(e){function t(){return this.add_notebook=L(this.add_notebook,this),t.__super__.constructor.apply(this,arguments)}return O(t,e),t.prototype.initialize=function(e){return this.notebook_path=e.notebook_path,this.router=e.router,t.__super__.initialize.call(this,e)},t.prototype.open_relative_notebook=function(e){var t,n,r,i;return e?(r=""+this.serverinfo.get("nburl")+"?next=/notebooks/"+e,this.router.navigate("/notebook/"+encodeURI(e),{trigger:!1})):r=""+this.serverinfo.get("nburl"),n=new N.NotebookModel({id:_.uniqueId("notebook"),protocol:this.serverinfo.get("protocol"),ip:this.serverinfo.get("host"),port:this.serverinfo.get("notebookport"),url:r,nburl:this.serverinfo.get("nburl"),envLabel:""}),window.nbm=n,t=this.serverinfo.get("nburl"),i=new N.NotebookDirectView({model:n}),i.render(),$("#rightPanel").empty(),$("#rightPanel").append(i.el)},t.prototype.add_notebook=function(){var e,t,n,r,i;return n=app.filemanager.directory.path,console.log("app.filemanager.directory.path:",n),r=encodeURIComponent("/new?path="+n),console.log("encodeURI:",r),r=this.serverinfo.get("nburl")+("?next="+r),console.log("serverinf.get(nburl):",r),e=_.uniqueId("notebook"),console.log("serverinf.get(nburl):",r),console.log("protocol:",this.serverinfo.get("protocol")),console.log("host:",this.serverinfo.get("host")),console.log("notebookport:",this.serverinfo.get("notebookport")),t=new N.NotebookModel({id:e,protocol:this.serverinfo.get("protocol"),ip:this.serverinfo.get("host"),port:this.serverinfo.get("notebookport"),url:"",nburl:r,envLabel:""}),window.nbm=t,i=new N.NotebookView({model:t}),i.render(),$("#rightPanel").empty(),$("#rightPanel").append(i.el)},t.prototype.render=function(){var e,t,n=this;return this.userprofile.on("fetch",this.on_userprofile),mixpanel.track("Main UI Load"),this.layoutmodel=new o,this.navbarview=new T.NavBarView({notebook_only:!0,app:this,layoutmodel:this.layoutmodel,serverinfo:this.serverinfo,userprofile:this.userprofile}),$("#navbar").append(this.navbarview.el),this.layout=new u({app:this,model:this.layoutmodel}),$("#layout-root").prepend(this.layout.el),this.filemanager=new g.FileManager({app:this,el:$("#filemanager"),file_event_sink:this.file_event_sink}),t=this.notebook_path,e=null,t&&(e=this.notebook_path.split("/"),e=e.slice(0,e.length-1),e=e.join("/")),this.serverinfo.on("fetch",function(){n.open_relative_notebook(t);if(e)return n.filemanager.load_dir(e)})},t}(a),h=function(e){function t(){return this.add_notebook=L(this.add_notebook,this),t.__super__.constructor.apply(this,arguments)}return O(t,e),t.prototype.add_help=function(){return this.new_tab("help","help",new s,!0)},t.prototype.render=function(){var e=this;return this.userprofile.on("fetch",this.on_userprofile),this.serverinfo.on("fetch",function(){return w(e.serverinfo,e,e.username,e.sessionname),e.open_relative_notebook("scripts/examples/01_notebook_introduction.ipynb","01_notebook_introduction")}),mixpanel.track("Main UI Load"),this.layoutmodel=new o,this.navbarview=new T.NavBarView({app:this,layoutmodel:this.layoutmodel,serverinfo:this.serverinfo,userprofile:this.userprofile}),$("#navbar").append(this.navbarview.el),this.layout=new u({app:this,model:this.layoutmodel}),$("#layout-root").prepend(this.layout.el),this.filemanager=new g.FileManager({app:this,el:$("#filemanager"),file_event_sink:this.file_event_sink}),this.tab_set=new c({tab_view_objs:[]}),this.tab_set.render(),$("#midPanel").append(this.tab_set.el),this.editor_control=new g.EditorControl({file_event_sink:this.file_event_sink,app:this,filemanager:this.filemanager}),this.rtab_set=new c({tab_view_objs:[]}),this.rtab_set.render(),$("#rightPanel").append(this.rtab_set.el),this.terminalview=new y.TerminalTabView({gateone_terminal_collection:y.terminal_collection,serverinfo:this.serverinfo}),this.rtab_set.add_tab({view:this.terminalview,route:"terminals",tab_name:"Terminals",cannot_remove:!0,title:"click and hold to move to another pane"}),this.listenTo(this.rtab_set.event_sink,"move",this.move_to_mid),this.listenTo(this.tab_set.event_sink,"move",this.move_to_right),this.listenTo(this.tab_set.event_sink,"delete",this.merge_midpane),this.listenTo(this.rtab_set.event_sink,"delete",this.merge_rightpane)},t.prototype.load_bokeh=function(){var e,t,n,r,i,s=this;return r=new k.UserDocs,this.userdocs=r,window.userdocs=r,t=r.fetch({update:!0}),e=$("<div></div>").append($("#helpinfo").html()),n=$(e).find("#plotdocs").html(),i=new k.UserDocsView({collection:r,docs:n}),this.listenTo(i,"show",this.show_plots),window.userdocsview=i,this.rtab_set.add_tab({view:i,route:"plots",tab_name:"Plots",cannot_remove:!0,title:"click and hold to move to another pane"}),this.userprofile.on("fetch",function(){return s.userdocs.subscribe(s.wswrapper,username)})},t.prototype.new_tab=function(e,t,n,r,i){var s;this.layoutmodel.get("midpane")?this.layoutmodel.get("rightpane")?this.tab_set.tab_view_dict.terminals?s=this.rtab_set:s=this.tab_set:s=this.tab_set:s=this.rtab_set,s.add_tab({tab_name:e,route:t,view:n,title:"click and hold to move to another pane",color:i});if(r)return s.activate(t)},t.prototype.move_tab=function(e,t,n,r,i){var s;s=i.view,s.$el.detach(),e.remove_tab(i.route,!0,!0,!1),this.layoutmodel.set(r,!0),t.add_tab(i),t.activate(i.route);if(_.keys(e.tab_view_dict).length===0)return this.layoutmodel.set(n,!1)},t.prototype.show_tab=function(e){return this.rtab_set.tab_view_dict[e]?(this.layoutmodel.set("rightpane",!0),this.rtab_set.activate(e)):(this.layoutmodel.set("midpane",!0),this.tab_set.activate(e))},t.prototype.show_terminals=function(){return this.show_tab("terminals")},t.prototype.show_plots=function(){return this.show_tab("plots")},t.prototype.merge_midpane=function(){if(_.keys(this.tab_set.tab_view_dict).length-1===0)return this.layoutmodel.set("midpane",!1)},t.prototype.merge_rightpane=function(){if(_.keys(this.rtab_set.tab_view_dict).length-1===0)return this.layoutmodel.set("rightpane",!1)},t.prototype.move_to_mid=function(e){return this.move_tab(this.rtab_set,this.tab_set,"rightpane","midpane",e)},t.prototype.move_to_right=function(e){return this.move_tab(this.tab_set,this.rtab_set,"midpane","rightpane",e)},t.prototype.add_notebook=function(){var e,t,n,r,i;return n=app.filemanager.directory.path,console.log("app.filemanager.directory.path:",n),r=encodeURIComponent("/new?path="+n),console.log("encodeURI:",r),r=this.serverinfo.get("nburl")+("?next="+r),console.log("serverinf.get(nburl):",r),e=_.uniqueId("notebook"),console.log("serverinf.get(nburl):",r),console.log("protocol:",this.serverinfo.get("protocol")),console.log("host:",this.serverinfo.get("host")),console.log("notebookport:",this.serverinfo.get("notebookport")),t=new N.NotebookModel({id:e,protocol:this.serverinfo.get("protocol"),ip:this.serverinfo.get("host"),port:this.serverinfo.get("notebookport"),url:"",nburl:r,envLabel:""}),window.nbm=t,i=new N.NotebookView({model:t}),i.render(),this.new_tab("notebook",_.uniqueId("notebook"),i,!0)},t.prototype.open_direct_notebook=function(e,t){var n,r,i,s;return i=""+this.serverinfo.get("nburl")+"?next=/notebook_direct/"+e,r=new N.NotebookModel({id:_.uniqueId("notebook"),protocol:this.serverinfo.get("protocol"),ip:this.serverinfo.get("host"),port:this.serverinfo.get("notebookport"),full_path:e,url:i,nburl:this.serverinfo.get("nburl"),name:t,envLabel:""}),window.nbm=r,n=this.serverinfo.get("nburl"),s=new N.NotebookDirectView({model:r}),s.render(),this.new_tab("notebook:"+t,e,s,!0)},t.prototype.open_relative_notebook=function(e,t){var n,r,i,s;return i=""+this.serverinfo.get("nburl")+"?next=/notebooks/"+e,r=new N.NotebookModel({id:_.uniqueId("notebook"),protocol:this.serverinfo.get("protocol"),ip:this.serverinfo.get("host"),port:this.serverinfo.get("notebookport"),url:i,nburl:this.serverinfo.get("nburl"),name:t,envLabel:""}),window.nbm=r,n=this.serverinfo.get("nburl"),s=new N.NotebookDirectView({model:r}),s.render(),this.new_tab("notebook:"+t,e,s,!0)},t.prototype.merge_panes=function(){var e,t,n,r,i;if(this.one_pane()===!0)return this.show_pane_help();r=_.values(this.tab_set.tab_view_dict),i=[];for(t=0,n=r.length;t<n;t++)e=r[t],i.push(this.move_to_right(e));return i},t.prototype.one_pane=function(){var e,t,n,r,i;e=0,i=_.values(this.tab_set.tab_view_dict);for(n=0,r=i.length;n<r;n++)t=i[n],e++;return e===0},t.prototype.show_pane_help=function(){$("#mergePanesHelp").modal("show")},t}(a),e.MainApp=a,e.NotebookApp=f,e.TabbedApp=h}).call(this)},serverutils:function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c,h;i={},o={},i._doc_loaded=$.Deferred(),i._doc_requested=$.Deferred(),o.doc_loaded=i._doc_loaded.promise(),o.doc_requested=i._doc_requested.promise(),a=t("./base"),n=a.Collections,f=t("./container"),s=a.HasProperties,l=a.load_models,c=a.submodels,u=a.WebSocketWrapper,r=a.Config,e.wswrapper=null,e.plotcontext=null,e.plotcontextview=null,e.Promises=o,s.prototype.sync=Backbone.sync,h={load_user:function(){var e;return e=$.get("/bokeh/userinfo/",{}),e},load_doc:function(t){var n;return n=$.get(r.prefix+("/bokeh/bokehinfo/"+t+"/"),{}).done(function(n){var r,i;return r=n.all_models,l(r),i=n.apikey,c(e.wswrapper,"bokehplot:"+t,i)}),n},make_websocket:function(){var t;return t=new u(r.ws_conn_string),e.wswrapper=t,t},render_plots:function(t,r,i){var s,o,u;return r==null&&(r=null),i==null&&(i={}),o=n(t.type).get(t.id),r||(r=o.default_view),s=_.extend(i,{model:o}),u=new r(s),o=o,u=u,u.render(),e.plotcontext=o,e.plotcontextview=u},bokeh_connection:function(e,t,n){_.isUndefined(n)&&(n="https");if(o.doc_requested.state()==="pending")return i._doc_requested.resolve(),$.get(""+n+"://"+e+"/bokeh/publicbokehinfo/"+t,{},function(e){return console.log("instatiate_doc_single, docid",t),e=JSON.parse(e),l(e.all_models),i._doc_loaded.resolve(e)})},instantiate_doc_single_plot:function(t,n,r,s){return r==null&&(r="#PlotPane"),s==null&&(s="www.wakari.io"),h.bokeh_connection(s,t,"https"),i._doc_loaded.done(function(t){return h.render_plots(t.plot_context_ref,f.SinglePlotContextView,{target_model_id:n}),$(r).empty().append(e.plotcontextview.el)})}},e.utility=h}).call(this)},"usercontext/documentationtemplate":function(e,t,n){n.exports=function(e){e||(e={});var t=[],n=function(e){var n=t,r;return t=[],e.call(this),r=t.join(""),t=n,i(r)},r=function(e){return e&&e.ecoSafe?e:typeof e!="undefined"&&e!=null?o(e):""},i,s=e.safe,o=e.escape;return i=e.safe=function(e){if(e&&e.ecoSafe)return e;if(typeof e=="undefined"||e==null)e="";var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){t.push("<p>\n  <b>\n    You have no Plots.  Follow the intsructions\n    below to create some\n  </b>\n</p>\n")}).call(this)}.call(e),e.safe=s,e.escape=o,t.join("")}},"usercontext/usercontext":function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m={}.hasOwnProperty,g=function(e,t){function r(){this.constructor=e}for(var n in t)m.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};f=t("../base"),n=f.ContinuumView,r=f.HasParent,i=f.HasProperties,h=f.load_models,p=t("./wrappertemplate"),d=t("./userdocstemplate"),c=t("./documentationtemplate"),v=t("../serverutils").utility,l=f.build_views,s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return g(t,e),t.prototype.events={"click .bokehdoclabel":"loaddoc","click .bokehdelete":"deldoc"},t.prototype.deldoc=function(e){return console.log("foo"),e.preventDefault(),this.model.destroy(),!1},t.prototype.loaddoc=function(){return this.model.load()},t.prototype.initialize=function(e){return t.__super__.initialize.call(this,e),this.render_init()},t.prototype.delegateEvents=function(e){return t.__super__.delegateEvents.call(this,e),this.listenTo(this.model,"loaded",this.render)},t.prototype.render_init=function(){var e;return e=p({model:this.model,bodyid:_.uniqueId()}),this.$el.html(e),this.$el.addClass("accordion-group")},t.prototype.render=function(){var e;return e=this.model.get_obj("plot_context"),this.plot_context_view=new e.default_view({model:e}),this.$el.find(".accordion-inner").append(this.plot_context_view.el),!0},t}(n),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return g(t,e),t.prototype.initialize=function(e){return this.docs=e.docs,this.collection=e.collection,this.views={},t.__super__.initialize.call(this,e),this.render()},t.prototype.attributes={"class":"usercontext"},t.prototype.events={"click .bokehrefresh":function(){return this.collection.fetch({update:!0})}},t.prototype.delegateEvents=function(e){var n=this;return t.__super__.delegateEvents.call(this,e),this.listenTo(this.collection,"add",this.render),this.listenTo(this.collection,"remove",this.render),this.listenTo(this.collection,"add",function(e,t,r){return n.listenTo(e,"loaded",function(){return n.listenTo(e.get_obj("plot_context"),"change",function(){return n.trigger("show")})})}),this.listenTo(this.collection,"remove",function(e,t,r){return n.stopListening(e)})},t.prototype.render_docs=function(){return this.$el.html(c()),this.$el.append(this.docs)},t.prototype.render=function(){var e,t,n,r,i;if(this.collection.models.length===0&&this.docs)return this.render_docs();e=d(),_.map(_.values(this.views),function(e){return e.$el.detach()}),n=this.collection.models.slice().reverse(),l(this.views,n,{}),this.$el.html(e);for(r=0,i=n.length;r<i;r++)t=n[r],this.$el.find(".accordion").append(this.views[t.id].el);return this},t}(n),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return g(t,e),t.prototype.default_view=s,t.prototype.idAttribute="docid",t.prototype.defaults={docid:null,title:null,plot_context:null,apikey:null},t.prototype.sync=function(){},t.prototype.destroy=function(e){return t.__super__.destroy.call(this,e),$.ajax({url:"/bokeh/doc/"+this.get("docid")+"/",type:"delete"})},t.prototype.load=function(){var e,t,n=this;if(this.loaded)return;return e=this.get("docid"),t=v.load_doc(e),t.done(function(e){return n.set("apikey",e.apikey),n.set("plot_context",e.plot_context_ref),n.trigger("loaded"),n.loaded=!0})},t}(r),u=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return g(t,e),t.prototype.model=o,t.prototype.subscribe=function(e,t){return e.subscribe("bokehuser:"+t,null),this.listenTo(e,"msg:bokehuser:"+t,function(e){e=JSON.parse(e);if(e.msgtype==="docchange")return this.fetch({update:!0})})},t.prototype.fetch=function(e){var t,n,r=this;return _.isUndefined(e)&&(e={}),t=n=$.get("/bokeh/userinfo/",{}),t.done(function(t){var n;return n=t.docs,e.update?r.update(n,e):r.reset(n,e)}),t},t}(Backbone.Collection),e.UserDocs=u,e.UserDocsView=a}).call(this)},"usercontext/wrappertemplate":function(e,t,n){n.exports=function(e){e||(e={});var t=[],n=function(e){var n=t,r;return t=[],e.call(this),r=t.join(""),t=n,i(r)},r=function(e){return e&&e.ecoSafe?e:typeof e!="undefined"&&e!=null?o(e):""},i,s=e.safe,o=e.escape;return i=e.safe=function(e){if(e&&e.ecoSafe)return e;if(typeof e=="undefined"||e==null)e="";var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){t.push('<div class="accordion-heading bokehdocheading">\n  <a class="accordion-toggle bokehdoclabel" data-toggle="collapse" \n     href="#'),t.push(r(this.bodyid)),t.push('">\n    Document: '),t.push(r(this.model.get("title"))),t.push('\n    <i class="bokehdelete icon-trash"></i>\n  </a>\n</div>\n<div id="'),t.push(r(this.bodyid)),t.push('" class="accordion-body collapse">\n  <div class="accordion-inner">\n  </div>\n</div>\n\n\n')}).call(this)}.call(e),e.safe=s,e.escape=o,t.join("")}},"usercontext/userdocstemplate":function(e,t,n){n.exports=function(e){e||(e={});var t=[],n=function(e){var n=t,r;return t=[],e.call(this),r=t.join(""),t=n,i(r)},r=function(e){return e&&e.ecoSafe?e:typeof e!="undefined"&&e!=null?o(e):""},i,s=e.safe,o=e.escape;return i=e.safe=function(e){if(e&&e.ecoSafe)return e;if(typeof e=="undefined"||e==null)e="";var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){t.push('<div class="accordion">\n</div>\n')}).call(this)}.call(e),e.safe=s,e.escape=o,t.join("")}},serverrun:function(e,t,n){(function(){var e,n,r,i,s,o,u;u=t("./serverutils"),r=t("./base"),i=t("./container"),e=r.Config,o=u.utility,n=u.Promises,e.ws_conn_string="ws://"+window.location.host+"/bokeh/sub",s=t("usercontext/usercontext"),$(function(){var e,t,n;return n=o.make_websocket(),t=new s.UserDocs,t.subscribe(n,"defaultuser"),window.userdocs=t,e=t.fetch(),e.done(function(){var e;return e=new s.UserDocsView({collection:t}),$("#PlotPane").append(e.el)})})}).call(this)},"tools/pantool":function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c,h,p,d=function(e,t){return function(){return e.apply(t,arguments)}},v={}.hasOwnProperty,m=function(e,t){function r(){this.constructor=e}for(var n in t)v.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};p=t("./toolview"),u=p.ToolView,l=t("./eventgenerators"),a=l.TwoPointEventGenerator,c=t("../mapper"),r=c.LinearMapper,f=t("../base"),h=f.safebind,n=f.HasParent,s=function(e){function t(){return this.build_mappers=d(this.build_mappers,this),t.__super__.constructor.apply(this,arguments)}return m(t,e),t.prototype.initialize=function(e){return t.__super__.initialize.call(this,e),this.build_mappers()},t.prototype.bind_bokeh_events=function(){return h(this,this.model,"change:dataranges",this.build_mappers)},t.prototype.build_mappers=function(){var e,t,n,i,s,o;this.mappers=[],o=_.zip(this.mget_obj("dataranges"),this.mget("dimensions"));for(i=0,s=o.length;i<s;i++)n=o[i],e=n[0],t=n[1],c=new r({},{data_range:e,viewstate:this.plot_view.viewstate,screendim:t}),this.mappers.push(c);return this.mappers},t.prototype.eventGeneratorClass=a,t.prototype.evgen_options={keyName:"shiftKey",buttonText:"Pan"},t.prototype.tool_events={UpdatingMouseMove:"_drag",SetBasepoint:"_set_base_point"},t.prototype.mouse_coords=function(e,t,n){var r,i,s;return s=[this.plot_view.viewstate.rxpos(t),this.plot_view.viewstate.rypos(n)],r=s[0],i=s[1],[r,i]},t.prototype._set_base_point=function(e){var t;return t=this.mouse_coords(e,e.bokehX,e.bokehY),this.x=t[0],this.y=t[1],null},t.prototype._drag=function(e){var t,n,r,i,s,o,u,a,f,l,h,p,d,v,m;p=this.mouse_coords(e,e.bokehX,e.bokehY),o=p[0],a=p[1],u=o-this.x,f=a-this.y,d=[o,a],this.x=d[0],this.y=d[1],v=this.mappers;for(l=0,h=v.length;l<h;l++)c=v[l],c.screendim==="width"?t=u:t=f,i=0-t,r=this.plot_view.viewstate.get(c.screendim)-t,m=[c.map_data(i),c.map_data(r)],s=m[0],n=m[1],c.data_range.set({start:s,end:n});return null},t}(u),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return m(t,e),t.prototype.type="PanTool",t.prototype.default_view=s,t}(n),i.prototype.defaults=_.clone(i.prototype.defaults),_.extend(i.prototype.defaults,{dimensions:[],dataranges:[]}),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return m(t,e),t.prototype.model=i,t}(Backbone.Collection),e.PanToolView=s,e.pantools=new o}).call(this)},"tools/toolview":function(e,t,n){(function(){var n,r,i,s={}.hasOwnProperty,o=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};i=t("../base"),n=i.PlotWidget,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.prototype.initialize=function(e){return t.__super__.initialize.call(this,e)},t.prototype.bind_events=function(e){var t,n,r,i,s=this;return t=e.eventSink,this.plotview=e,r={eventBasename:this.cid},i=_.extend(r,this.evgen_options),n=new this.eventGeneratorClass(i),n.bind_events(e,t),_.each(this.tool_events,function(e,n){var r,i;return r=""+s.cid+":"+n,i=function(t){return s[e](t)},t.on(r,i)})},t}(n),e.ToolView=r}).call(this)},"tools/selecttool":function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c,h,p,d={}.hasOwnProperty,v=function(e,t){function r(){this.constructor=e}for(var n in t)d.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};p=t("./toolview"),u=p.ToolView,l=t("./eventgenerators"),a=l.TwoPointEventGenerator,c=t("../mapper"),r=c.LinearMapper,f=t("../base"),h=f.safebind,n=f.HasParent,s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return v(t,e),t.prototype.initialize=function(e){var n,r,i,s,o,u,a=this;t.__super__.initialize.call(this,e),r=_.debounce(function(){return a._select_data()},50),h(this,this.model,"change",this.request_render),h(this,this.model,"change",r),o=this.mget_obj("renderers"),u=[];for(i=0,s=o.length;i<s;i++)n=o[i],h(this,n,"change",this.request_render),h(this,n.get_obj("xdata_range"),"change",this.request_render),h(this,n.get_obj("ydata_range"),"change",this.request_render),h(this,n.get_obj("data_source"),"change",this.request_render),h(this,n,"change",r),h(this,n.get_obj("xdata_range"),"change",r),u.push(h(this,n.get_obj("ydata_range"),"change",r));return u},t.prototype.eventGeneratorClass=a,t.prototype.evgen_options={keyName:"ctrlKey",buttonText:"Select"},t.prototype.tool_events={UpdatingMouseMove:"_selecting",SetBasepoint:"_start_selecting",deactivated:"_stop_selecting"},t.prototype.mouse_coords=function(e,t,n){var r;return r=[this.plot_view.viewstate.rxpos(t),this.plot_view.viewstate.rypos(n)],t=r[0],n=r[1],[t,n]},t.prototype._stop_selecting=function(){return this.trigger("stopselect"),this.basepoint_set=!1},t.prototype._start_selecting=function(e){var t,n,r;return this.trigger("startselect"),r=this.mouse_coords(e,e.bokehX,e.bokehY),t=r[0],n=r[1],this.mset({start_x:t,start_y:n,current_x:null,current_y:null}),this.basepoint_set=!0},t.prototype._get_selection_range=function(){var e,t;return e=[this.mget("start_x"),this.mget("current_x")],t=[this.mget("start_y"),this.mget("current_y")],this.mget("select_x")?e=[d3.min(e),d3.max(e)]:e=null,this.mget("select_y")?t=[d3.min(t),d3.max(t)]:t=null,[e,t]},t.prototype._selecting=function(e,t,n){var r,i,s,o;return s=this.mouse_coords(e,e.bokehX,e.bokehY),r=s[0],i=s[1],this.mset({current_x:r,current_y:i}),o=this._get_selection_range(),this.xrange=o[0],this.yrange=o[1],this.trigger("boxselect",this.xrange,this.yrange),null},t.prototype._select_data=function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p;if(!this.basepoint_set)return;r={},n={},h=this.mget_obj("renderers");for(a=0,l=h.length;a<l;a++)s=h[a],e=s.get_obj("data_source"),r[e.id]=e;p=this.mget_obj("renderers");for(f=0,c=p.length;f<c;f++)s=p[f],t=s.get_obj("data_source").id,_.setdefault(n,t,[]),o=this.plot_view.renderers[s.id].select(this.xrange,this.yrange),n[t].push(o);for(i in n){if(!d.call(n,i))continue;u=n[i],o=_.intersection.apply(_,u),r[i].set("selected",o),r[i].save()}return null},t}(u),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return v(t,e),t.prototype.type="SelectionTool",t.prototype.default_view=s,t}(n),i.prototype.defaults=_.clone(i.prototype.defaults),_.extend(i.prototype.defaults,{renderers:[],select_x:!0,select_y:!0,data_source_options:{}}),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return v(t,e),t.prototype.model=i,t}(Backbone.Collection),e.SelectionToolView=s,e.selectiontools=new o}).call(this)},"tools/activetoolmanager":function(e,t,n){(function(){var t;t=function(){" This makes sure that only one tool is active at a time ";function e(e){this.eventSink=e,this.eventSink.active=!0,this.bind_events()}return e.prototype.bind_events=function(){var e=this;return this.eventSink.on("clear_active_tool",function(){return e.eventSink.trigger(""+e.eventSink.active+":deactivated"),e.eventSink.active=!0}),this.eventSink.on("active_tool",function(t){if(t!==e.eventSink.active)return e.eventSink.trigger(""+t+":activated"),e.eventSink.trigger(""+e.eventSink.active+":deactivated"),e.eventSink.active=t})},e}(),e.ActiveToolManager=t}).call(this)},"tools/events":function(e,t,n){(function(){var t,n;n=function(){function e(e){this.options=e,this.toolName=this.options.eventBasename,this.dragging=!1,this.basepoint_set=!1,this.button_activated=!1,this.tool_active=!1}return e.prototype.bind_events=function(e,t){var n,r=this;return n=this.toolName,this.plotview=e,this.eventSink=t,this.plotview.moveCallbacks.push(function(e,i,s){var o;if(!r.dragging)return;if(!r.tool_active)return;return o=$(e.currentTarget).offset(),e.bokehX=e.pageX-o.left,e.bokehY=e.pageY-o.top,r.basepoint_set?(t.trigger(""+n+":UpdatingMouseMove",e),e.preventDefault(),e.stopPropagation()):(r.dragging=!0,r.basepoint_set=!0,t.trigger(""+n+":SetBasepoint",e))}),$(document).bind("keydown",function(e){e[r.options.keyName]&&r._start_drag();if(e.keyCode===27)return t.trigger("clear_active_tool")}),$(document).bind("keyup",function(e){if(!e[r.options.keyName])return r._stop_drag()}),this.plotview.main_can_wrapper.bind("mousedown",function(e){if(r.button_activated)return r._start_drag(),!1}),this.plotview.main_can_wrapper.bind("mouseup",function(e){if(r.button_activated)return r._stop_drag(),!1}),this.$tool_button=$("<button class='btn btn-small'> "+this.options.buttonText+" </button>"),this.plotview.$el.find(".button_bar").append(this.$tool_button),this.$tool_button.click(function(){return r.button_activated?t.trigger("clear_active_tool"):(t.trigger("active_tool",n),r.button_activated=!0)}),t.on(""+n+":deactivated",function(){return r.tool_active=!1,r.button_activated=!1,r.$tool_button.removeClass("active")}),t.on(""+n+":activated",function(){return r.tool_active=!0,r.$tool_button.addClass("active")}),t},e.prototype._start_drag=function(){this.eventSink.trigger("active_tool",this.toolName);if(!this.dragging){this.dragging=!0;if(!this.button_activated)return this.$tool_button.addClass("active")}},e.prototype._stop_drag=function(){this.basepoint_set=!1;if(this.dragging)return this.dragging=!1,this.button_activated||this.$tool_button.removeClass("active"),this.eventSink.trigger(""+this.options.eventBasename+":DragEnd")},e}(),t=function(){function e(e){this.options=e,this.toolName=this.options.eventBasename,this.dragging=!1,this.basepoint_set=!1,this.button_activated=!1,this.tool_active=!1}return e.prototype.bind_events=function(e,t){var n,r,i,s=this;return i=this.toolName,this.plotview=e,this.eventSink=t,this.plotview.main_can_wrapper.bind("mousewheel",function(e,n,r,o){var u;if(!s.tool_active)return;return u=$(e.currentTarget).offset(),e.bokehX=e.pageX-u.left,e.bokehY=e.pageY-u.top,e.delta=n,t.trigger(""+i+":zoom",e),e.preventDefault(),e.stopPropagation()}),$(document).bind("keydown",function(e){if(e.keyCode===27)return t.trigger("clear_active_tool")}),this.mouseover_count=0,this.plotview.$el.bind("mouseout",function(e){return s.mouseover_count-=1,_.delay(function(){if(s.mouseover_count===0)return t.trigger("clear_active_tool")},500)}),this.plotview.$el.bind("mouseover",function(e){return s.mouseover_count+=1}),this.$tool_button=$("<button class='btn btn-small'> "+this.options.buttonText+" </button>"),this.plotview.$el.find(".button_bar").append(this.$tool_button),this.$tool_button.click(function(){return s.button_activated?t.trigger("clear_active_tool"):(t.trigger("active_tool",i),s.button_activated=!0)}),n=function(e){e.setAttribute("old_overflow",e.style.overflow),e.style.overflow="hidden";if(e!==document.body)return n(e.parentNode)},r=function(e){e.style.overflow=e.getAttribute("old_overflow");if(e!==document.body)return r(e.parentNode)},t.on(""+i+":deactivated",function(){return s.tool_active=!1,s.button_activated=!1,s.$tool_button.removeClass("active"),r(s.plotview.$el[0]),document.body.style.overflow=s.old_overflow}),t.on(""+i+":activated",function(){return s.tool_active=!0,s.$tool_button.addClass("active"),n(s.plotview.$el[0])}),t},e}(),e.TwoPointEventGenerator=n,e.OnePointWheelEventGenerator=t}).call(this)},"tools/zoomtool":function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c,h,p,d=function(e,t){return function(){return e.apply(t,arguments)}},v={}.hasOwnProperty,m=function(e,t){function r(){this.constructor=e}for(var n in t)v.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};p=t("./toolview"),s=p.ToolView,l=t("./eventgenerators"),i=l.OnePointWheelEventGenerator,c=t("../mapper"),r=c.LinearMapper,f=t("../base"),h=f.safebind,n=f.HasParent,u=function(e){function t(){return this.build_mappers=d(this.build_mappers,this),t.__super__.constructor.apply(this,arguments)}return m(t,e),t.prototype.initialize=function(e){return t.__super__.initialize.call(this,e),h(this,this.model,"change:dataranges",this.build_mappers),this.build_mappers()},t.prototype.eventGeneratorClass=i,t.prototype.evgen_options={buttonText:"Zoom"},t.prototype.tool_events={zoom:"_zoom"},t.prototype.build_mappers=function(){var e,t,n,i,s,o;this.mappers=[],o=_.zip(this.mget_obj("dataranges"),this.mget("dimensions"));for(i=0,s=o.length;i<s;i++)n=o[i],e=n[0],t=n[1],c=new r({},{data_range:e,viewstate:this.plot_view.viewstate,screendim:t}),this.mappers.push(c);return this.mappers},t.prototype.mouse_coords=function(e,t,n){var r,i,s;return s=[this.plot_view.viewstate.rxpos(t),this.plot_view.viewstate.rypos(n)],r=s[0],i=s[1],[r,i]},t.prototype._zoom=function(e){var t,n,r,i,s,o,u,a,f,l,h,p,d,v,m,g,y;t=e.delta,s=e.bokehX,o=e.bokehY,m=this.mouse_coords(e,s,o),h=m[0],p=m[1],f=this.mget("speed"),i=-f*t*50,g=this.mappers;for(d=0,v=g.length;d<v;d++)c=g[d],c.screendim==="width"?r=h:r=p,a=0,u=this.plot_view.viewstate.get(c.screendim),l=a-(r-a)*i,n=u+(u-r)*i,y=[c.map_data(l),c.map_data(n)],l=y[0],n=y[1],c.data_range.set({start:l,end:n});return null},t}(s),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return m(t,e),t.prototype.type="ZoomTool",t.prototype.default_view=u,t}(n),o.prototype.defaults=_.clone(o.prototype.defaults),_.extend(o.prototype.defaults,{dimensions:[],dataranges:[],speed:1/600}),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return m(t,e),t.prototype.model=o,t}(Backbone.Collection),e.ZoomToolView=u,e.zoomtools=new a}).call(this)},"tools/eventgenerators":function(e,t,n){(function(){var t,n;n=function(){function e(e){this.options=e,this.toolName=this.options.eventBasename,this.dragging=!1,this.basepoint_set=!1,this.button_activated=!1,this.tool_active=!1}return e.prototype.bind_events=function(e,t){var n,r=this;return n=this.toolName,this.plotview=e,this.eventSink=t,this.plotview.moveCallbacks.push(function(e,i,s){var o;if(!r.dragging)return;if(!r.tool_active)return;return o=$(e.currentTarget).offset(),e.bokehX=e.pageX-o.left,e.bokehY=e.pageY-o.top,r.basepoint_set?(t.trigger(""+n+":UpdatingMouseMove",e),e.preventDefault(),e.stopPropagation()):(r.dragging=!0,r.basepoint_set=!0,t.trigger(""+n+":SetBasepoint",e))}),$(document).bind("keydown",function(e){e[r.options.keyName]&&r._start_drag();if(e.keyCode===27)return t.trigger("clear_active_tool")}),$(document).bind("keyup",function(e){if(!e[r.options.keyName])return r._stop_drag()}),this.plotview.main_can_wrapper.bind("mousedown",function(e){if(r.button_activated)return r._start_drag(),!1}),this.plotview.main_can_wrapper.bind("mouseup",function(e){if(r.button_activated)return r._stop_drag(),!1}),this.$tool_button=$("<button class='btn btn-small'> "+this.options.buttonText+" </button>"),this.plotview.$el.find(".button_bar").append(this.$tool_button),this.$tool_button.click(function(){return r.button_activated?t.trigger("clear_active_tool"):(t.trigger("active_tool",n),r.button_activated=!0)}),t.on(""+n+":deactivated",function(){return r.tool_active=!1,r.button_activated=!1,r.$tool_button.removeClass("active")}),t.on(""+n+":activated",function(){return r.tool_active=!0,r.$tool_button.addClass("active")}),t},e.prototype._start_drag=function(){this.eventSink.trigger("active_tool",this.toolName);if(!this.dragging){this.dragging=!0;if(!this.button_activated)return this.$tool_button.addClass("active")}},e.prototype._stop_drag=function(){this.basepoint_set=!1;if(this.dragging)return this.dragging=!1,this.button_activated||this.$tool_button.removeClass("active"),this.eventSink.trigger(""+this.options.eventBasename+":DragEnd")},e}(),t=function(){function e(e){this.options=e,this.toolName=this.options.eventBasename,this.dragging=!1,this.basepoint_set=!1,this.button_activated=!1,this.tool_active=!1}return e.prototype.bind_events=function(e,t){var n,r,i,s=this;return i=this.toolName,this.plotview=e,this.eventSink=t,this.plotview.main_can_wrapper.bind("mousewheel",function(e,n,r,o){var u;if(!s.tool_active)return;return u=$(e.currentTarget).offset(),e.bokehX=e.pageX-u.left,e.bokehY=e.pageY-u.top,e.delta=n,t.trigger(""+i+":zoom",e),e.preventDefault(),e.stopPropagation()}),$(document).bind("keydown",function(e){if(e.keyCode===27)return t.trigger("clear_active_tool")}),this.mouseover_count=0,this.plotview.$el.bind("mouseout",function(e){return s.mouseover_count-=1,_.delay(function(){if(s.mouseover_count===0)return t.trigger("clear_active_tool")},500)}),this.plotview.$el.bind("mouseover",function(e){return s.mouseover_count+=1}),this.$tool_button=$("<button class='btn btn-small'> "+this.options.buttonText+" </button>"),this.plotview.$el.find(".button_bar").append(this.$tool_button),this.$tool_button.click(function(){return s.button_activated?t.trigger("clear_active_tool"):(t.trigger("active_tool",i),s.button_activated=!0)}),n=function(e){e.setAttribute("old_overflow",e.style.overflow),e.style.overflow="hidden";if(e!==document.body)return n(e.parentNode)},r=function(e){e.style.overflow=e.getAttribute("old_overflow");if(e!==document.body)return r(e.parentNode)},t.on(""+i+":deactivated",function(){return s.tool_active=!1,s.button_activated=!1,s.$tool_button.removeClass("active"),r(s.plotview.$el[0]),document.body.style.overflow=s.old_overflow}),t.on(""+i+":activated",function(){return s.tool_active=!0,s.$tool_button.addClass("active"),n(s.plotview.$el[0])}),t},e}(),e.TwoPointEventGenerator=n,e.OnePointWheelEventGenerator=t}).call(this)},ticks:function(e,t,n){(function(){" Tick generator classes and helper functions for calculating axis\ntick-related values (i.e., bounds and intervals).\n";var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S={}.hasOwnProperty,x=function(e,t){function r(){this.constructor=e}for(var n in t)S.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};t=function(){" Abstract class for tick generators.";function e(){}return e.prototype.get_ticks=function(e,t,n,r,i,s,o){return s==null&&(s=False),o==null&&(o="linear"),' Returns a list of ticks points in data space.\n\nParameters\n----------\ndata_low, data_high : float\n    The actual minimum and maximum of index values of the entire\n    dataset.\nbounds_low, bounds_high : "auto", "fit", float\n    The range for which ticks should be generated.\ninterval : "auto", float\n    If the value is a positive number, it specifies the length\n    of the tick interval; a negative integer specifies the\n    number of tick intervals; \'auto\' specifies that the number and\n    length of the tick intervals are automatically calculated, based\n    on the range of the axis.\nuse_endpoints : Boolean\n    If True, the lower and upper bounds of the data are used as the\n    lower and upper end points of the axis. If False, the end points\n    might not fall exactly on the bounds.\nscale : \'linear\' or \'log\'\n    The type of scale the ticks are for.\n\nReturns\n-------\ntick_list : array of floats\n    Where ticks are to be placed.\n\n\nExample\n-------\nIf the range of x-values in a line plot span from -15.0 to +15.0, but\nthe plot is currently displaying only the region from 3.1 to 6.83, and\nthe user wants the interval to be automatically computed to be some\nnice value, then call get_ticks() thusly::\n\n    get_ticks(-15.0, 15.0, 3.1, 6.83, "auto")\n\nA reasonable return value in this case would be::\n\n    [3.5, 4.0, 4.5, 5.0, 5.5, 6.0, 6.5]'},e}(),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return x(t,e)," An implementation of AbstractTickGenerator that simply uses the\nauto_ticks() and log_auto_ticks() functions.",t.prototype.get_ticks=function(e,t,n,r,i,s,o){return s==null&&(s=False),o==null&&(o="linear"),o==="linear"&&"",elif(o==={log:""})},t}(t),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return x(t,e),' Uses the abstract interface, but returns all "positions" instead\nof decimating the ticks.\n\nYou must provide a sequence of values as a *positions* keyword argument\nto the constructor.',t.prototype.get_ticks=function(e,t,n,r,i,s,o){return s==null&&(s=False),o==null&&(o="linear")," Returns an array based on **positions**."},t}(t),h=function(e,t,n,r,s,o){var u,a,f,h,p,d,v,m,y,b,E,S,x,T;o==null&&(o=!0)," Finds locations for axis tick marks.\n\nCalculates the locations for tick marks on an axis. The *bound_low*,\n*bound_high*, and *tick_interval* parameters specify how the axis end\npoints and tick interval are calculated.\n\nParameters\n----------\n\ndata_low, data_high : number\n    The minimum and maximum values of the data along this axis.\n    If any of the bound settings are 'auto' or 'fit', the axis\n    traits are calculated automatically from these values.\nbound_low, bound_high : 'auto', 'fit', or a number.\n    The lower and upper bounds of the axis. If the value is a number,\n    that value is used for the corresponding end point. If the value is\n    'auto', then the end point is calculated automatically. If the\n    value is 'fit', then the axis bound is set to the corresponding\n    *data_low* or *data_high* value.\ntick_interval : can be 'auto' or a number\n    If the value is a positive number, it specifies the length\n    of the tick interval; a negative integer specifies the\n    number of tick intervals; 'auto' specifies that the number and\n    length of the tick intervals are automatically calculated, based\n    on the range of the axis.\nuse_endpoints : Boolean\n    If True, the lower and upper bounds of the data are used as the\n    lower and upper end points of the axis. If False, the end points\n    might not fall exactly on the bounds.\n\nReturns\n-------\nAn array of tick mark locations. The first and last tick entries are the\naxis end points.",v=n==="auto",d=r==="auto",typeof n=="string"?m=e:m=n,typeof r=="string"?x=t:x=r;if(s==="auto"||s===0)y=Math.abs(x-m),y===0?(s=.5,m=e-.5,x=t+.5):g(y)&&g(x)&&y>4?y===2?s=1:y===4?s=4:s=y/4:s=c(m,x);else if(s<0){p=-s,s=w(m,x,p);if(v&&d){v=d=!1,m=s*floor(m/s);while(Math.abs(m)>=s&&m+s*(p-1)>=x)m-=s;x=m+s*p}}if(v||d)f=.01*s*(e===t),T=l(e-f,t+f,s),u=T[0],a=T[1],v&&(m=u),d&&(x=a);return b=floor(m/s)*s,h=floor(x/s)*s,b===h&&(m=b-=s,x=h=b-s),x>h&&(h+=s),S=i(b,h+s/2,s),len(S)<2&&"",!v&&o&&(S[0]=m),!d&&o&&(S[-1]=x),[function(){var e,t,i;if(E>=n&&E<=r){i=[];for(e=0,t=S.length;e<t;e++)E=S[e],i.push(E);return i}}()]},g=function(e){" Returns True if *range* is a positive base-2 number (2, 4, 8, 16, ...).";var t;return e<=0?!1:(t=b(e),t===Math.floor(t)&&t>0)},y=function(e){return e===0&&(e+=1e-16),Math.log(e)/Math.log(10)},b=function(e){" Returns the base 2 logarithm of a number (or array).\n";return e===0&&(e+=1e-16),Math.log(e)},m=function(e,t,n){var r,i,s,o;return n==null&&(n=8),'Returns a "nice" range and interval for a given data range and a preferred\nnumber of ticks.  From Paul Heckbert\'s algorithm in Graphics Gems.',o=E(t-e),r=E(o/(n-1),!0),s=Math.floor(e/r)*r,i=Math.ceil(t/r)*r,[s,i,r]},E=function(e,t){var n,r,i;return t==null&&(t=!1)," if round is false, then use Math.ceil(range) ",n=Math.floor(y(e)),r=e/Math.pow(10,n),t?r<1.5?i=1:r<3?i=2:r<7?i=5:i=10:r<=1?i=1:r<=2?i=2:r<=5?i=5:i=10,i*Math.pow(10,n)},i=function(e,t,n){var r,i;t==null&&(t=!1),n==null&&(n=!1),t||(t=e,e=0),e>t?n===!1?n=-1:n>0&&("the loop will never terminate",1/0):n<0&&("the loop will never terminate",1/0),n||(n=1),i=[],r=e;if(e<t)while(r<t)i.push(r),r+=n;else while(r>t)i.push(r),r+=n;return i},o=function(e,t){var n,r,i,s;n=[];for(i=0,s=e.length;i<s;i++)r=e[i],n.push(r/t);return n},u=function(e,t){var n,r,i,s;n=[];for(i=0,s=t.length;i<s;i++)r=t[i],n.push(e/r);return n},a=function(e,t){var n,r,i,s,o;r=[];for(n=s=0,o=t.length;s<o;n=++s)i=t[n],r.push(e[n]/i);return r},f=function(e,t){var n,r,i,s;n=[];for(i=0,s=t.length;i<s;i++)r=t[i],n.push(Math.pow(e,r));return n},_.sorted=function(e){return _.sortBy(e,_.identity)},s=function(e){var t,n,r,i,s,o;r=_.sortBy(e,_.identity),n=[];for(t=s=0,o=r.length;s<o;t=++s)i=r[t],n[t]=e.indexOf(i);return n},e.argsort=s,c=function(e,t){" Calculates the tick interval for a range.\n\nThe boundaries for the data to be plotted on the axis are::\n\n    data_bounds = (data_low,data_high)\n\nThe function chooses the number of tick marks, which can be between\n3 and 9 marks (including end points), and chooses tick intervals at\n1, 2, 2.5, 5, 10, 20, ...\n\nReturns\n-------\ninterval : float\n    tick mark interval for axis";var n,r,i,o,f,l,c,h,p,d,m,g,b,w,E,S,x,T,N,C;E=v(t)-v(e),f=[8,7,6,5,4,3],i=u(E,f),m=i.map(function(e){return Math.pow(10,Math.floor(y(e)))}),b=a(i,m),p=[1,2,2.5,5,10],r=[],n=[];for(x=0,N=p.length;x<N;x++)w=p[x],o=b.map(function(e){return Math.abs(w-e)}),n.push(_.min(o));for(T=0,C=b.length;T<C;T++)c=b[T],o=p.map(function(e){return Math.abs(c-e)}),r.push(_.min(o));return h=s(n)[0],g=s(r)[0],l=p[h],d=m[g],S=l*d,S},e.auto_interval=c,v=function(e){return e+0},e.float=v,w=function(e,t,n){" Computes the best tick interval length to achieve a specified number of\ntick intervals.\n\nParameters\n----------\ndata_low, data_high : number\n    The minimum and maximum values of the data along this axis.\n    If any of the bound settings are 'auto' or 'fit', the axis\n    traits are calculated automatically from these values.\nintervals : number\n    The desired number of intervals\n\nReturns\n-------\nReturns a float indicating the tick interval length.";var r,i,s,o,u,a;u=v(t-e),u===0&&(u=1),o=u/n,r=Math.floor(y(o)),i=Math.pow(10,r),console.log("exp_ "+r+"  pre_factor "+i+" pre_interval "+o),o/=i,console.log(" factor "+i+" initial_interval "+o),o<2?(o=2,s=0):o<2.5?(o=2.5,s=1):o<5?(o=5,s=2):(o=10,s=3);for(;;){a=o*i,console.log("result "+a+" index "+s+" interval "+o);if(Math.floor(e/a)*a+n*a>=t)return a;s=(s+1)%4,o*=[2,1.25,2,2]([s])}},e.tick_intervals=w,"I'll worry about this after getting linear ticks working\nlog_auto_ticks = (data_low, data_high,\n                   bound_low, bound_high,\n                   tick_interval, use_endpoints=true) ->\n    #Like auto_ticks(), but for log scales.\n    tick_goal = 15\n    magic_numbers = [1, 2, 5]\n    explicit_ticks = false\n\n    if data_low <= 0.0\n        return []\n\n    if tick_interval != 'auto'\n        if tick_interval < 0\n            tick_goal = -tick_interval\n        else\n            magic_numbers = [tick_interval]\n            explicit_ticks = true\n\n    if data_low>data_high\n        [data_low, data_high] = data_high, data_low\n\n    log_low = log10(data_low)\n    log_high = log10(data_high)\n    log_interval = log_high-log_low\n\n    if log_interval < 1.0\n        # If less than a factor of 10 separates the data, just use the normal\n        # linear approach\n        return auto_ticks(data_low, data_high,\n                          bound_low, bound_high,\n                          tick_interval,\n                          use_endpoints = false)\n\n    else if log_interval < (tick_goal+1)/2 or explicit_ticks\n        # If there's enough space, try to put lines at the magic number multipliers\n        # inside each power of ten\n\n        # Try each interval to see how many ticks we get\n        for interval in magic_numbers\n            ticklist = []\n            for exp in [Math.floor(log_low).,Math.ceil(log_high)]\n                for multiplier in linspace(interval, 10.0, round(10.0/interval),\n                                           endpoint=1)\n                    tick = Math.exp(10, exp*multiplier)\n                    if tick >= data_low and tick <= data_high:\n                        ticklist.append(tick)\n            if len(ticklist)<tick_goal+3 or explicit_ticks:\n                return ticklist\n    else:\n        # We put lines at every power of ten or less\n        startlog = Math.ceil(log_low)\n        endlog = Math.floor(log_high)\n        interval = Math.ceil((endlog-startlog)/9.0)\n        expticks = arange(startlog, endlog, interval)\n        # There's no function that is like arange but inclusive, so\n        # we have to check whether the endpoint should be included.\n        if (endlog-startlog) % interval == 0.0:\n            expticks = concatenate([expticks, [endlog]])\n        return 10**expticks",l=function(e,t,n){" Calculates appropriate upper and lower bounds for the axis from\nthe data bounds and the given axis interval.\n\nThe boundaries  hit either exactly on the lower and upper values\nor on the tick mark just beyond the lower and upper values.";return[p(e,n,!1),p(t,n,!0)]},e.auto_bounds=l,d=function(e,t){var n,r;return n=Math.floor(e/t),r=e%t,[n,r]},e.divmod=d,p=function(e,t,n){" Finds an axis end point that includes the value *end_point*.\n\nIf the tick mark interval results in a tick mark hitting directly on the\nend point, *end_point* is returned.  Otherwise, the location of the tick\nmark just past *end_point* is returned. The *is_upper* parameter\nspecifies whether *end_point* is at the upper (True) or lower (false)\nend of the axis.";var r,i,s,o,u,a,f;return f=d(e,t),s=f[0],u=f[1],o=u===0,a=(t-u)/t<1e-5,o||a?e:(r=(s+1)*t,i=s*t,n?Math.max(r,i):Math.min(r,i))},e.calc_bound=p}).call(this)},schema_renderers:function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g={}.hasOwnProperty,y=function(e,t){function r(){this.constructor=e}for(var n in t)g.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};d=t("./base"),n=d.Collections,r=d.HasParent,a=d.PlotWidget,m=d.safebind,v=t("./mapper"),u=v.LinearMapper,p=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return y(t,e),t.prototype.initialize=function(e){return t.__super__.initialize.call(this,e),this.set_xmapper(),this.set_ymapper()},t.prototype.bind_bokeh_events=function(){return m(this,this.model,"change",this.request_render),m(this,this.plot_view.viewstate,"change",this.request_render),m(this,this.mget_obj("data_source"),"change",this.request_render),m(this,this.model,"change:xdata_range",this.set_xmapper),m(this,this.model,"change:ydata_range",this.set_ymapper),m(this,this.mget_obj("xdata_range"),"change",this.request_render),m(this,this.mget_obj("ydata_range"),"change",this.request_render)},t.prototype.set_xmapper=function(){return this.xmapper=new u({},{data_range:this.mget_obj("xdata_range"),viewstate:this.plot_view.viewstate,screendim:"width"}),this.request_render()},t.prototype.set_ymapper=function(){return this.ymapper=new u({},{data_range:this.mget_obj("ydata_range"),viewstate:this.plot_view.viewstate,screendim:"height"}),this.request_render()},t.prototype.select=function(e,t){var n,r,i,s;return e?(v=this.xmapper,i=[v.map_data(e[0]),v.map_data(e[1])]):i=null,t?(v=this.ymapper,s=[v.map_data(t[0]),v.map_data(t[1])]):s=null,n=function(e,t){var n;return n=(i===null||e>i[0]&&e<i[1])&&(s===null||t>s[0]&&t<s[1]),n},r=this.mget_obj("data_source"),r.select([this.mget("xfield"),this.mget("yfield")],n)},t.prototype.calc_buffer=function(e){"use strict";var t,n,r,i,s,o,u,a,f,l,c;return i=this.plot_view,s=this.plot_view.options,r=this.options,f=this.model.get("xfield"),c=this.model.get("yfield"),t=function(){var t,n,r;r=[];for(t=0,n=e.length;t<n;t++)a=e[t],r.push(a[f]);return r}(),o=this.xmapper.v_map_screen(t),o=i.viewstate.v_xpos(o),n=function(){var t,n,r;r=[];for(t=0,n=e.length;t<n;t++)l=e[t],r.push(l[c]);return r}(),u=this.ymapper.v_map_screen(n),u=i.viewstate.v_ypos(u),this.screeny=u,this.screenx=o},t}(a),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return y(t,e),t.prototype.render=function(){var e,n,r,i,s,o;t.__super__.render.call(this),e=this.model.get_obj("data_source").get("data"),this.calc_buffer(e),this.plot_view.ctx.fillStyle=this.mget("foreground_color"),this.plot_view.ctx.strokeStyle=this.mget("foreground_color"),this.plot_view.ctx.beginPath(),this.plot_view.ctx.moveTo(this.screenx[0],this.screeny[0]);for(n=s=1,o=this.screenx.length;1<=o?s<=o:s>=o;n=1<=o?++s:--s){r=this.screenx[n],i=this.screeny[n];if(isNaN(r)||isNaN(i)){this.plot_view.ctx.stroke(),this.plot_view.ctx.beginPath();continue}this.plot_view.ctx.lineTo(r,i)}return this.plot_view.ctx.stroke(),this.render_end(),null},t}(p),l=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return y(t,e),t.prototype.render=function(){"use strict";var e,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g;t.__super__.render.call(this),c={},l=this.model.get_obj("data_source").get("selected"),l.length===0?h=!1:h=!0;for(d=0,m=l.length;d<m;d++)a=l[d],c[a]=!0;o=this.model.get_obj("data_source").get("data"),this.calc_buffer(o),this.plot_view.ctx.beginPath(),u=this.mget("foreground_color"),p=this.mget("unselected_color"),n=this.mget("color_field"),s=this.plot_view.ctx,n&&(r=this.model.get_obj("color_mapper"),e=this.model.get("color_field")),f=this.mget("mark");for(a=v=0,g=o.length;0<=g?v<=g:v>=g;a=0<=g?++v:--v)h&&!c[a]?(this.plot_view.ctx.strokeStyle=p,this.plot_view.ctx.fillStyle=p):n?(i=r.map_screen(a),this.plot_view.ctx.strokeStyle=i,this.plot_view.ctx.fillStyle=i):(this.plot_view.ctx.strokeStyle=u,this.plot_view.ctx.fillStyle=u),f==="square"?this.addPolygon(this.screenx[a],this.screeny[a]):this.addCircle(this.screenx[a],this.screeny[a]);return this.plot_view.ctx.stroke(),this.render_end(),null},t}(p),h=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return y(t,e),t}(r),h.prototype.defaults=_.clone(h.prototype.defaults),_.extend(h.prototype.defaults,{xdata_range:null,ydata_range:null,xfield:null,yfield:null,data_source:null}),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return y(t,e),t.prototype.type="LineRenderer",t.prototype.default_view=s,t}(h),i.prototype.defaults=_.clone(i.prototype.defaults),_.extend(i.prototype.defaults,{xmapper:null,ymapper:null,xfield:null,yfield:null,color:"#000"}),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return y(t,e),t.prototype.model=i,t}(Backbone.Collection),f=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return y(t,e),t.prototype.type="ScatterRenderer",t.prototype.default_view=l,t}(h),f.prototype.defaults=_.clone(f.prototype.defaults),_.extend(f.prototype.defaults,{data_source:null,xmapper:null,ymapper:null,xfield:null,yfield:null,colormapper:null,colorfield:null,mark:"circle"}),c=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return y(t,e),t.prototype.model=f,t}(Backbone.Collection),e.scatterrenderers=new c,e.linerenderers=new o,e.ScatterRenderer=f,e.ScatterRendererView=l,e.LineRenderer=i,e.LineRendererView=s,e.XYRenderer=h,e.XYRendererView=p}).call(this)},color_mapper:function(e,t,n){(function(){var t;t=function(){function e(e,t,n){var r,i,s,o,u,a;this.low=t,this.high=n,r=new ArrayBuffer(4),s=new Uint8ClampedArray(r),i=new Uint32Array(r),i[1]=168496141,this.little_endian=!0,s[4]===10&&s[5]===11&&s[6]===12&&s[7]===13&&(this.little_endian=!1),this.palette=new Uint32Array(e.length+1);for(o=u=0,a=e.length-1;0<=a?u<=a:u>=a;o=0<=a?++u:--u)this.palette[o]=e[o];this.palette[this.palette.length-1]=e[e.length-1]}return e.prototype.map_screen=function(e){},e.prototype.v_map_screen=function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w;n=new ArrayBuffer(e.length*4),r=new Uint32Array(n),a=-Infinity,f=Infinity,h=0;for(o=p=0,m=e.length-1;0<=m?p<=m:p>=m;o=0<=m?++p:--p)h=e[o],h>a&&(a=h),h<f&&(f=h);u=(g=this.low)!=null?g:f,s=(y=this.high)!=null?y:a,t=this.palette.length-1,c=t/(s-u),l=-c*u;if(this.little_endian)for(o=d=0,b=e.length-1;0<=b?d<=b:d>=b;o=0<=b?++d:--d)i=e[o],i>s&&(i=s),i<u&&(i=u),h=this.palette[Math.floor(i*c+l)],r[o]=255<<24|(h&16711680)>>16|h&65280|(h&255)<<16;else for(o=v=0,w=e.length-1;0<=w?v<=w:v>=w;o=0<=w?++v:--v)i=e[o],i>s&&(i=s),i<u&&(i=u),h=this.palette[Math.floor(i*c+l)],r[o]=h<<8|255;return n},e}(),e.ColorMapper=t}).call(this)},"palettes/colorbrewer":function(e,t,n){(function(){var t;t={YlGn:{3:[16252089,11394446,3253076],4:[16777164,12773017,7915129,2327619],5:[16777164,12773017,7915129,3253076,26679],6:[16777164,14282915,11394446,7915129,3253076,26679],7:[16777164,14282915,11394446,7915129,4303709,2327619,23090],8:[16777189,16252089,14282915,11394446,7915129,4303709,2327619,23090],9:[16777189,16252089,14282915,11394446,7915129,4303709,2327619,26679,17705]},YlGnBu:{3:[15595697,8375739,2916280],4:[16777164,10607284,4306628,2252456],5:[16777164,10607284,4306628,2916280,2438292],6:[16777164,13101492,8375739,4306628,2916280,2438292],7:[16777164,13101492,8375739,4306628,1937856,2252456,797828],8:[16777177,15595697,13101492,8375739,4306628,1937856,2252456,797828],9:[16777177,15595697,13101492,8375739,4306628,1937856,2252456,2438292,531800]},GnBu:{3:[14742491,11066805,4432586],4:[15792616,12248252,8113348,2854078],5:[15792616,12248252,8113348,4432586,551084],6:[15792616,13429701,11066805,8113348,4432586,551084],7:[15792616,13429701,11066805,8113348,5157843,2854078,546974],8:[16252144,14742491,13429701,11066805,8113348,5157843,2854078,546974],9:[16252144,14742491,13429701,11066805,8113348,5157843,2854078,551084,540801]},BuGn:{3:[15070713,10082505,2925151],4:[15595771,11723490,6734500,2329413],5:[15595771,11723490,6734500,2925151,27948],6:[15595771,13429990,10082505,6734500,2925151,27948],7:[15595771,13429990,10082505,6734500,4304502,2329413,22564],8:[16252157,15070713,13429990,10082505,6734500,4304502,2329413,22564],9:[16252157,15070713,13429990,10082505,6734500,4304502,2329413,27948,17435]},PuBuGn:{3:[15524592,10927579,1872025],4:[16183287,12437985,6793679,164234],5:[16183287,12437985,6793679,1872025,93273],6:[16183287,13685222,10927579,6793679,1872025,93273],7:[16183287,13685222,10927579,6793679,3576e3,164234,91216],8:[16775163,15524592,13685222,10927579,6793679,3576e3,164234,91216],9:[16775163,15524592,13685222,10927579,6793679,3576e3,164234,93273,83510]},PuBu:{3:[15525874,10927579,2854078],4:[15855350,12437985,7645647,356528],5:[15855350,12437985,7645647,2854078,285325],6:[15855350,13685222,10927579,7645647,2854078,285325],7:[15855350,13685222,10927579,7645647,3576e3,356528,216699],8:[16775163,15525874,13685222,10927579,7645647,3576e3,356528,216699],9:[16775163,15525874,13685222,10927579,7645647,3576e3,356528,285325,145496]},BuPu:{3:[14740724,10403034,8935079],4:[15595771,11783651,9213638,8929693],5:[15595771,11783651,9213638,8935079,8458108],6:[15595771,12571622,10403034,9213638,8935079,8458108],7:[15595771,12571622,10403034,9213638,9202609,8929693,7209323],8:[16252157,14740724,12571622,10403034,9213638,9202609,8929693,7209323],9:[16252157,14740724,12571622,10403034,9213638,9202609,8929693,8458108,5046347]},RdPu:{3:[16638173,16424885,12917642],4:[16706530,16495801,16214177,11403646],5:[16706530,16495801,16214177,12917642,7995767],6:[16706530,16565696,16424885,16214177,12917642,7995767],7:[16706530,16565696,16424885,16214177,14496919,11403646,7995767],8:[16775155,16638173,16565696,16424885,16214177,14496919,11403646,7995767],9:[16775155,16638173,16565696,16424885,16214177,14496919,11403646,7995767,4784234]},PuRd:{3:[15196655,13210823,14490743],4:[15855350,14136792,14640560,13505110],5:[15855350,14136792,14640560,14490743,9961539],6:[15855350,13941210,13210823,14640560,14490743,9961539],7:[15855350,13941210,13210823,14640560,15149450,13505110,9502783],8:[16250105,15196655,13941210,13210823,14640560,15149450,13505110,9502783],9:[16250105,15196655,13941210,13210823,14640560,15149450,13505110,9961539,6750239]},OrRd:{3:[16705736,16628612,14895667],4:[16707801,16632970,16551257,14102559],5:[16707801,16632970,16551257,14895667,11730944],6:[16707801,16635038,16628612,16551257,14895667,11730944],7:[16707801,16635038,16628612,16551257,15689032,14102559,10027008],8:[16775148,16705736,16635038,16628612,16551257,15689032,14102559,10027008],9:[16775148,16705736,16635038,16628612,16551257,15689032,14102559,11730944,8323072]},YlOrRd:{3:[16772512,16691788,15743776],4:[16777138,16698460,16616764,14883356],5:[16777138,16698460,16616764,15743776,12386342],6:[16777138,16701814,16691788,16616764,15743776,12386342],7:[16777138,16701814,16691788,16616764,16535082,14883356,11599910],8:[16777164,16772512,16701814,16691788,16616764,16535082,14883356,11599910],9:[16777164,16772512,16701814,16691788,16616764,16535082,14883356,12386342,8388646]},YlOrBr:{3:[16775100,16696399,14245646],4:[16777172,16701838,16685353,13388802],5:[16777172,16701838,16685353,14245646,10040324],6:[16777172,16704401,16696399,16685353,14245646,10040324],7:[16777172,16704401,16696399,16685353,15495188,13388802,9186564],8:[16777189,16775100,16704401,16696399,16685353,15495188,13388802,9186564],9:[16777189,16775100,16704401,16696399,16685353,15495188,13388802,10040324,6694150]},Purples:{3:[15724021,12369372,7695281],4:[15921399,13355490,10394312,6967715],5:[15921399,13355490,10394312,7695281,5515151],6:[15921399,14342891,12369372,10394312,7695281,5515151],7:[15921399,14342891,12369372,10394312,8420794,6967715,4854918],8:[16579581,15724021,14342891,12369372,10394312,8420794,6967715,4854918],9:[16579581,15724021,14342891,12369372,10394312,8420794,6967715,5515151,4128893]},Blues:{3:[14609399,10406625,3244733],4:[15725567,12441575,7057110,2191797],5:[15725567,12441575,7057110,3244733,545180],6:[15725567,13032431,10406625,7057110,3244733,545180],7:[15725567,13032431,10406625,7057110,4362950,2191797,542100],8:[16251903,14609399,13032431,10406625,7057110,4362950,2191797,542100],9:[16251903,14609399,13032431,10406625,7057110,4362950,2191797,545180,536683]},Greens:{3:[15070688,10607003,3253076],4:[15595753,12248243,7652470,2329413],5:[15595753,12248243,7652470,3253076,27948],6:[15595753,13101504,10607003,7652470,3253076,27948],7:[15595753,13101504,10607003,7652470,4303709,2329413,23090],8:[16252149,15070688,13101504,10607003,7652470,4303709,2329413,23090],9:[16252149,15070688,13101504,10607003,7652470,4303709,2329413,27948,17435]},Oranges:{3:[16705230,16625259,15095053],4:[16707038,16629381,16616764,14239489],5:[16707038,16629381,16616764,15095053,10892803],6:[16707038,16634018,16625259,16616764,15095053,10892803],7:[16707038,16634018,16625259,16616764,15821075,14239745,9186564],8:[16774635,16705230,16634018,16625259,16616764,15821075,14239745,9186564],9:[16774635,16705230,16634018,16625259,16616764,15821075,14239745,10892803,8333060]},Reds:{3:[16703698,16552562,14560550],4:[16704985,16559761,16476746,13309981],5:[16704985,16559761,16476746,14560550,10817301],6:[16704985,16563105,16552562,16476746,14560550,10817301],7:[16704985,16563105,16552562,16476746,15678252,13309981,10027021],8:[16774640,16703698,16563105,16552562,16476746,15678252,13309981,10027021],9:[16774640,16703698,16563105,16552562,16476746,15678252,13309981,10817301,6750221]},Greys:{3:[15790320,12434877,6513507],4:[16250871,13421772,9868950,5395026],5:[16250871,13421772,9868950,6513507,2434341],6:[16250871,14277081,12434877,9868950,6513507,2434341],7:[16250871,14277081,12434877,9868950,7566195,5395026,2434341],8:[16777215,15790320,14277081,12434877,9868950,7566195,5395026,2434341],9:[16777215,15790320,14277081,12434877,9868950,7566195,5395026,2434341,0]},PuOr:{3:[15835968,16250871,10063555],4:[15098113,16627811,11709394,6175897],5:[15098113,16627811,16250871,11709394,6175897],6:[11753478,15835968,16703670,14211819,10063555,5515144],7:[11753478,15835968,16703670,16250871,14211819,10063555,5515144],8:[11753478,14713364,16627811,16703670,14211819,11709394,8418220,5515144],9:[11753478,14713364,16627811,16703670,16250871,14211819,11709394,8418220,5515144],10:[8338184,11753478,14713364,16627811,16703670,14211819,11709394,8418220,5515144,2949195],11:[8338184,11753478,14713364,16627811,16703670,16250871,14211819,11709394,8418220,5515144,2949195]},BrBG:{3:[14201701,16119285,5944492],4:[10903834,14664317,8441281,99697],5:[10903834,14664317,16119285,8441281,99697],6:[9195786,14201701,16181443,13101797,5944492,91742],7:[9195786,14201701,16181443,16119285,13101797,5944492,91742],8:[9195786,12550445,14664317,16181443,13101797,8441281,3512207,91742],9:[9195786,12550445,14664317,16181443,16119285,13101797,8441281,3512207,91742],10:[5517317,9195786,12550445,14664317,16181443,13101797,8441281,3512207,91742,15408],11:[5517317,9195786,12550445,14664317,16181443,16119285,13101797,8441281,3512207,91742,15408]},PRGn:{3:[11505091,16250871,8372091],4:[8073876,12756431,10935200,34871],5:[8073876,12756431,16250871,10935200,34871],6:[7744131,11505091,15193320,14282963,8372091,1800247],7:[7744131,11505091,15193320,16250871,14282963,8372091,1800247],8:[7744131,10055851,12756431,15193320,14282963,10935200,5942881,1800247],9:[7744131,10055851,12756431,15193320,16250871,14282963,10935200,5942881,1800247],10:[4194379,7744131,10055851,12756431,15193320,14282963,10935200,5942881,1800247,17435],11:[4194379,7744131,10055851,12756431,15193320,16250871,14282963,10935200,5942881,1800247,17435]},PiYG:{3:[15311817,16250871,10606442],4:[13638795,15840986,12116358,5090342],5:[13638795,15840986,16250871,12116358,5090342],6:[12917629,15311817,16638191,15136208,10606442,5083681],7:[12917629,15311817,16638191,16250871,15136208,10606442,5083681],8:[12917629,14579630,15840986,16638191,15136208,12116358,8371265,5083681],9:[12917629,14579630,15840986,16638191,16250871,15136208,12116358,8371265,5083681],10:[9306450,12917629,14579630,15840986,16638191,15136208,12116358,8371265,5083681,2581529],11:[9306450,12917629,14579630,15840986,16638191,16250871,15136208,12116358,8371265,5083681,2581529]},RdBu:{3:[15698530,16250871,6793679],4:[13238304,16033154,9618910,356784],5:[13238304,16033154,16250871,9618910,356784],6:[11671595,15698530,16636871,13755888,6793679,2188972],7:[11671595,15698530,16636871,16250871,13755888,6793679,2188972],8:[11671595,14049357,16033154,16636871,13755888,9618910,4428739,2188972],9:[11671595,14049357,16033154,16636871,16250871,13755888,9618910,4428739,2188972],10:[6750239,11671595,14049357,16033154,16636871,13755888,9618910,4428739,2188972,340065],11:[6750239,11671595,14049357,16033154,16636871,16250871,13755888,9618910,4428739,2188972,340065]},RdGy:{3:[15698530,16777215,10066329],4:[13238304,16033154,12237498,4210752],5:[13238304,16033154,16777215,12237498,4210752],6:[11671595,15698530,16636871,14737632,10066329,5066061],7:[11671595,15698530,16636871,16777215,14737632,10066329,5066061],8:[11671595,14049357,16033154,16636871,14737632,12237498,8882055,5066061],9:[11671595,14049357,16033154,16636871,16777215,14737632,12237498,8882055,5066061],10:[6750239,11671595,14049357,16033154,16636871,14737632,12237498,8882055,5066061,1710618],11:[6750239,11671595,14049357,16033154,16636871,16777215,14737632,12237498,8882055,5066061,1710618]},RdYlBu:{3:[16551257,16777151,9551835],4:[14096668,16625249,11262441,2915254],5:[14096668,16625249,16777151,11262441,2915254],6:[14102567,16551257,16703632,14742520,9551835,4552116],7:[14102567,16551257,16703632,16777151,14742520,9551835,4552116],8:[14102567,16018755,16625249,16703632,14742520,11262441,7646673,4552116],9:[14102567,16018755,16625249,16703632,16777151,14742520,11262441,7646673,4552116],10:[10813478,14102567,16018755,16625249,16703632,14742520,11262441,7646673,4552116,3225237],11:[10813478,14102567,16018755,16625249,16703632,16777151,14742520,11262441,7646673,4552116,3225237]},Spectral:{3:[16551257,16777151,10081684],4:[14096668,16625249,11263396,2851770],5:[14096668,16625249,16777151,11263396,2851770],6:[13975119,16551257,16703627,15136152,10081684,3311805],7:[13975119,16551257,16703627,16777151,15136152,10081684,3311805],8:[13975119,16018755,16625249,16703627,15136152,11263396,6734501,3311805],9:[13975119,16018755,16625249,16703627,16777151,15136152,11263396,6734501,3311805],10:[10355010,13975119,16018755,16625249,16703627,15136152,11263396,6734501,3311805,6180770],11:[10355010,13975119,16018755,16625249,16703627,16777151,15136152,11263396,6734501,3311805,6180770]},RdYlGn:{3:[16551257,16777151,9555808],4:[14096668,16625249,10934634,1742401],5:[14096668,16625249,16777151,10934634,1742401],6:[14102567,16551257,16703627,14282635,9555808,1742928],7:[14102567,16551257,16703627,16777151,14282635,9555808,1742928],8:[14102567,16018755,16625249,16703627,14282635,10934634,6733155,1742928],9:[14102567,16018755,16625249,16703627,16777151,14282635,10934634,6733155,1742928],10:[10813478,14102567,16018755,16625249,16703627,14282635,10934634,6733155,1742928,26679],11:[10813478,14102567,16018755,16625249,16703627,16777151,14282635,10934634,6733155,1742928,26679]}},e.colorbrewer=t}).call(this)},"palettes/palettes":function(e,t,n){(function(){var n,r,i,s,o,u;r=t("./colorbrewer").colorbrewer,n={};for(s in r){i=r[s];for(o in i)u=i[o],n[""+s+"-"+o]=u.reverse()}e.all_palettes=n}).call(this)},"pandas/pandas":function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g=function(e,t){return function(){return e.apply(t,arguments)}},y={}.hasOwnProperty,b=function(e,t){function r(){this.constructor=e}for(var n in t)y.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};h=t("../base"),n=h.ContinuumView,m=h.safebind,i=h.HasParent,d=t("./pandaspivot"),r=13,a=function(e){function t(){return this.colors=g(this.colors,this),this.pandasend=g(this.pandasend,this),this.pandasnext=g(this.pandasnext,this),this.pandasback=g(this.pandasback,this),this.pandasbeginning=g(this.pandasbeginning,this),this.toggle_more_controls=g(this.toggle_more_controls,this),this.sort=g(this.sort,this),t.__super__.constructor.apply(this,arguments)}return b(t,e),t.prototype.initialize=function(e){return t.__super__.initialize.call(this,e),m(this,this.model,"destroy",this.remove),m(this,this.model,"change",this.render),this.controls_hide=!0,this.render()},t.prototype.events={"keyup .pandasgroup":"pandasgroup","keyup .pandasoffset":"pandasoffset","keyup .pandassize":"pandassize","change .pandasagg":"pandasagg","click .pandasbeginning":"pandasbeginning","click .pandasback":"pandasback","click .pandasnext":"pandasnext","click .pandasend":"pandasend","click .controlsmore":"toggle_more_controls","click .pandascolumn":"sort"},t.prototype.sort=function(e){var t;return t=$(e.currentTarget).text(),this.model.toggle_column_sort(t)},t.prototype.toggle_more_controls=function(){return this.controls_hide?this.controls_hide=!1:this.controls_hide=!0,this.render()},t.prototype.pandasbeginning=function(){return this.model.go_beginning()},t.prototype.pandasback=function(){return this.model.go_back()},t.prototype.pandasnext=function(){return this.model.go_forward()},t.prototype.pandasend=function(){return this.model.go_end()},t.prototype.pandasoffset=function(e){var t;if(e.keyCode===r)return t=this.$el.find(".pandasoffset").val(),t=Number(t),_.isNaN(t)&&(t=this.model.defaults.offset),this.model.save("offset",t,{wait:!0})},t.prototype.pandassize=function(e){var t,n;if(e.keyCode===r){n=this.$el.find(".pandassize").val(),t=Number(n);if(_.isNaN(t)||n==="")t=this.model.defaults.length;return t+this.mget("offset")>this.mget("maxlength")&&(t=this.mget("maxlength")-this.mget("offset")),this.model.save("length",t,{wait:!0})}},t.prototype.pandasagg=function(){return this.model.save("agg",this.$el.find(".pandasagg").val(),{wait:!0})},t.prototype.fromcsv=function(e){return e?_.map(e.split(","),function(e){return e.trim()}):[]},t.prototype.pandasgroup=function(e){if(e.keyCode===r)return this.model.save("groups",this.fromcsv(this.$el.find(".pandasgroup").val()),{wait:!0})},t.prototype.colors=function(){return this.mget("counts")&&this.mget("selected")?_.map(_.zip(this.mget("counts"),this.mget("selected")),function(e){var t,n,r;return n=e[0],r=e[1],t=r/n,"rgba(0,0,255,"+t+")"}):null},t.prototype.render=function(){var e,t,n,r,i,s,o,u,a,f;t=this.mget("groups"),_.isArray(t)&&(t=t.join(",")),i=this.mget("sort"),_.isArray(i)&&(i=i.join(",")),e=this.colors(),s={},f=this.mget("sort");for(u=0,a=f.length;u<a;u++)r=f[u],s[r.column]=r.ascending;return o={columns:this.mget("columns"),data:this.mget("data"),groups:t,sort_ascendings:s,height:this.mget("height"),width:this.mget("width"),offset:this.mget("offset"),length:this.mget("length"),maxlength:this.mget("maxlength"),counts:this.mget("counts"),selected:this.mget("selected"),controls_hide:this.controls_hide,colors:e,index:this.mget("index")},this.$el.empty(),n=d(o),this.$el.html(n),this.$el.find('option[value="'+this.mget("agg")+'"]').attr("selected","selected"),this.$el.addClass("bokehtable")},t}(n),p=t("../datasource"),l=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return b(t,e),t.prototype.type="PandasPlotSource",t.prototype.initialize=function(e,n){return t.__super__.initialize.call(this,e,n),this.select_serverside=_.throttle(this._select_serverside,500),m(this,this,"change:selected",this.select_serverside)},t.prototype._select_serverside=function(){var e;return e=this.get_obj("pandassource"),console.log("selecting",this.get("selected"),e),e.save({selected:this.get("selected")},{wait:!0}),null},t}(p.ObjectArrayDataSource),c=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return b(t,e),t.prototype.model=l,t}(Backbone.Collection),u=function(e){function t(){return this.toggle_column_sort=g(this.toggle_column_sort,this),this.dinitialize=g(this.dinitialize,this),t.__super__.constructor.apply(this,arguments)}return b(t,e),t.prototype.type="PandasPivot",t.prototype.initialize=function(e,n){var r=this;return t.__super__.initialize.call(this,e,n),this.throttled_fetch=_.throttle(function(){return r.fetch()},500)},t.prototype.dinitialize=function(e,n){return t.__super__.dinitialize.call(this,e,n),m(this,this.get_obj("pandassource"),"change",this.throttled_fetch)},t.prototype.fetch=function(e){return t.__super__.fetch.call(this,e)},t.prototype.toggle_column_sort=function(e){var t,n;n=this.get("sort"),this.unset("sort",{silent:!0}),t=_.filter(n,function(t){return t.column===e});if(!(t.length>0)){n=_.clone(n),n.push({column:e,ascending:!0}),this.save("sort",n,{wait:!0});return}t=t[0],t.ascending?(t.ascending=!1,this.save("sort",n,{wait:!0})):(n=_.filter(n,function(t){return t.column!==e}),this.save("sort",n,{wait:!0}))},t.prototype.go_beginning=function(){return this.set("offset",0),this.save()},t.prototype.go_back=function(){var e;return e=this.get("offset"),e-=this.get("length"),e<0&&(e=0),this.set("offset",e),this.save()},t.prototype.go_forward=function(){var e,t;return t=this.get("offset"),t+=this.get("length"),e=this.get("maxlength")-this.get("length"),t>e&&(t=e),this.set("offset",t),this.save()},t.prototype.go_end=function(){var e;return e=this.get("maxlength")-this.get("length"),this.set("offset",e),this.save()},t.prototype.defaults={path:"",sort:[],groups:[],agg:"sum",offset:0,length:100,maxlength:1e3,data:null,columns:[],width:400},t.prototype.default_view=a,t}(i),f=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return b(t,e),t.prototype.model=u,t}(Backbone.Collection),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return b(t,e),t.prototype.type="PandasDataSource",t.prototype.initialize=function(e,n){return t.__super__.initialize.call(this,e,n)},t.prototype.defaults={selected:[]},t.prototype.save=function(e,n,r){var i;return e===null||_.isObject(e)?(i=e,r=n):(i={},i[e]=n),r||(r={}),r.patch=!0,t.__super__.save.call(this,i,r)},t}(i),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return b(t,e),t.prototype.model=s,t}(Backbone.Collection),v=new f,e.pandaspivots=v,e.PandasPivot=u,e.PandasPivotView=a,e.PandasDataSource=s,e.pandasdatasources=new o,e.PandasPlotSource=l,e.pandasplotsources=new c}).call(this)},"pandas/pandaspivot":function(e,t,n){n.exports=function(e){e||(e={});var t=[],n=function(e){var n=t,r;return t=[],e.call(this),r=t.join(""),t=n,i(r)},r=function(e){return e&&e.ecoSafe?e:typeof e!="undefined"&&e!=null?o(e):""},i,s=e.safe,o=e.escape;return i=e.safe=function(e){if(e&&e.ecoSafe)return e;if(typeof e=="undefined"||e==null)e="";var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var e,n,i,s,o,u,a,f,l,c,h,p;t.push('<form class="form-inline">\n  <p>Displaying entries '),t.push(r(this.offset)),t.push(" \n    through "),t.push(r(this.offset+this.length)),t.push(" of \n    "),t.push(r(this.maxlength)),t.push('\n  </p>\n  \n  <table class="table" style="max-width:'),t.push(r(this.width)),t.push('px">\n    <tr>\n      <td colspan="1">\n        <label>Offset</label>\n        <input type="text" class="pandasoffset" value="'),t.push(r(this.offset)),t.push('"/>\n      </td>\n      <td colspan="1">\n        <label>Size</label>\n        <input type="text" class="pandassize" value="'),t.push(r(this.length)),t.push('"/>\n      </td>\n      <td>\n        <a href="#" class="pandasbeginning">\n          <i class="pandasicons icon-fast-backward"></i>\n        </a>\n        <a href="#" class="pandasback">\n          <i class="pandasicons icon-backward"></i>\n        </a>\n        <a href="#" class="pandasnext">\n          <i class="pandasicons icon-forward"></i>\n        </a>\n        <a href="#" class="pandasend">\n          <i class="pandasicons icon-fast-forward"></i>\n        </a>\n      </td>\n    <tr>\n      <td colspan="2">\n        <label>GroupBy </label>\n        <input type="text" class="pandasgroup" value="'),t.push(r(this.groups)),t.push('"/>\n      </td>\n      <td colspan="2">\n        <label>Aggregation</label>\n        <select class="pandasagg">\n          <option value="sum">sum</option>\n          <option value="mean">mean</option>\n          <option value="std">std</option>\n          <option value="max">max</option>\n          <option value="min">min</option>\n        </select>\n      </td>\n    </tr>\n  </table>\n</form>\n\n<table class="table\n              table-bordered table-condensed"\n       style="max-height:'),t.push(r(this.height)),t.push("px;max-width:"),t.push(r(this.width)),t.push('px"\n       >\n  <thead>\n    '),this.counts&&t.push("\n    <th>counts</th>\n    "),t.push("\n    <th>index</th>\n    "),c=this.columns;for(s=0,a=c.length;s<a;s++)e=c[s],t.push('\n    <th><a class="pandascolumn">'),t.push(r(e)),t.push("</a>\n        "),this.sort_ascendings[e]===!0?t.push('\n        <i class="icon-chevron-up"></i>\n        '):this.sort_ascendings[e]===!1&&t.push('\n        <i class="icon-chevron-down"></i>\n        '),t.push("\n    </th>\n    ");t.push("\n  </thead>\n  "),h=this.data;for(i=o=0,f=h.length;o<f;i=++o){n=h[i],t.push("\n  \n  "),this.colors?(t.push('\n  <tr style="background-color:'),t.push(r(this.colors[i])),t.push('">\n  ')):t.push("\n  <tr>\n  "),t.push("\n  \n    "),this.counts&&(t.push("\n      "),this.selected&&this.selected[i]?(t.push("\n    <td> "),t.push(r(this.selected[i])),t.push("/"),t.push(r(this.counts[i])),t.push(" </td>\n      ")):(t.push("\n    <td> "),t.push(r(this.counts[i])),t.push(" </td>\n      ")),t.push("\n    ")),t.push("\n    <td> "),t.push(r(this.index[i])),t.push(" </td>\n    "),p=this.columns;for(u=0,l=p.length;u<l;u++)e=p[u],t.push("\n    <td> "),t.push(r(n[e])),t.push(" </td>\n    ");t.push("\n  </tr>\n  ")}t.push("\n</table>\n")}).call(this)}.call(e),e.safe=s,e.escape=o,t.join("")}},"adhoc/speed_test":function(e,t,n){(function(){test("linetest",function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d;expect(0),s=6e3,l=_.range(s),c=_.range(s),r=function(){var e,t,n,r;n=_.zip(l,c),r=[];for(e=0,t=n.length;e<t;e++)f=n[e],r.push({x:f[0],y:f[1]});return r}(),window.data=r,u=d3.scale.linear().domain([0,s]).range([0,300]),a=d3.scale.linear().domain([0,s]).range([300,0]),$("body").append("<div><svg id='chart'></svg></div>"),d3.select("#chart").attr("width",300).attr("height",300),e=new Date,d=_.range(1);for(h=0,p=d.length;h<p;h++)n=d[h],console.log("drawing line"),i=d3.svg.line().x(function(e){return u(e.x)}).y(function(e){return a(e.y)}),o=d3.select("#chart").selectAll("path").data([r]).attr("d",i),o=d3.select("#chart").selectAll("path").data([r]),o.attr("d",i),o.attr("stroke","#000").attr("fill","none"),o=o.enter().append("path"),o.attr("d",i),o.attr("stroke","#000").attr("fill","none");return t=new Date,console.log(t-e)}),test("scatter",function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p;expect(0),i=1560,f=_.range(i),l=_.range(i),r=function(){var e,t,n,r;n=_.zip(f,l),r=[];for(e=0,t=n.length;e<t;e++)a=n[e],r.push({x:a[0],y:a[1]});return r}(),window.data=r,o=d3.scale.linear().domain([0,i]).range([0,300]),u=d3.scale.linear().domain([0,i]).range([300,0]),$("body").append("<div><svg id='chart'></svg></div>"),d3.select("#chart").attr("width",300).attr("height",300),e=new Date,s=d3.select("#chart").selectAll("circle").data(r).enter().append("circle"),t=new Date,console.log("getmarks",t-e),e=new Date,p=_.range(1);for(c=0,h=p.length;c<h;c++)n=p[c],console.log("drawing scatter"),s.attr("cx",function(e){return o(e.x)}).attr("cy",function(e){return u(e.x)}).attr("r",5).attr("fill","#000");return t=new Date,console.log(t-e)})}).call(this)},testutils:function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c,h,p={}.hasOwnProperty;s=t("./base"),n=s.Collections,r=function(){function e(e){this.seed=e,this.multiplier=1664525,this.modulo=4294967296,this.offset=1013904223,this.seed!=null&&0<=e&&e<this.modulo||(this.seed=(new Date).valueOf()*(new Date).getMilliseconds()%this.modulo)}return e.prototype.seed=function(e){return this.seed=e},e.prototype.randn=function(){return this.seed=(this.multiplier*this.seed+this.offset)%this.modulo},e.prototype.randf=function(){return this.randn()/this.modulo},e.prototype.rand=function(e){return Math.floor(this.randf()*e)},e.prototype.rand2=function(e,t){return e+this.rand(t-e)},e}(),c=function(e,t,r,i,s,o,u,a){var f,l,h,p,d,v,m,g;return _.isUndefined(a)&&(a=!0),l={local:a},_.isUndefined(o)&&(o="circle"),_.isUndefined(s)&&(s=null),_.isUndefined(f)&&s&&(f=n("DiscreteColorMapper").create({data_range:n("DataFactorRange").create({data_source:t.ref(),columns:["x"]},l)},l)),p=t.get("name"),h=n("Plot").create({data_sources:{source_name:t.ref()},parent:e},l),v=n("DataRange1d").create({sources:[{ref:t.ref(),columns:[r]}]},l),g=n("DataRange1d").create({sources:[{ref:t.ref(),columns:[i]}]},l),c=n("ScatterRenderer").create({data_source:t.ref(),xdata_range:v.ref(),ydata_range:g.ref(),xfield:r,yfield:i,color_field:s,color_mapper:f,mark:o,parent:h.ref()},l),d=n("LinearAxis").create({orientation:"bottom",parent:h.ref(),data_range:v.ref()},l),m=n("LinearAxis").create({orientation:"left",parent:h.ref(),data_range:g.ref()},l),h.set({renderers:[c.ref()],axes:[d.ref(),m.ref()]},l),h},o=function(e,t,r,i,s,o,u,a){var f,l,h,p,d,v,m,g;return _.isUndefined(a)&&(a=!0),l={local:a},_.isUndefined(o)&&(o="circle"),_.isUndefined(s)&&(s=null),_.isUndefined(f)&&s&&(f=n("DiscreteColorMapper").create({data_range:n("DataFactorRange").create({data_source:t.ref(),columns:["x"]},l)},l)),h=t.get("name"),p=n("Table").create({data_sources:{source_name:t.ref()},parent:e},l),d=n("DataRange1d").create({sources:[{ref:t.ref(),columns:[r]}]},l),m=n("DataRange1d").create({sources:[{ref:t.ref(),columns:[i]}]},l),v=n("LinearMapper").create({data_range:d.ref(),screen_range:p.get("xrange")},l),g=n("LinearMapper").create({data_range:m.ref(),screen_range:p.get("yrange")},l),c=n("TableRenderer").create({data_source:t.ref(),xfield:r,yfield:i,color_field:s,color_mapper:f,mark:o,xmapper:v.ref(),ymapper:g.ref(),parent:p.ref()},l),p.set({renderers:[c.ref()]},l)},l=function(e,t,r,i,s,o){var u,a;return s?(a=n("DataFactorRange").create({data_source:e.ref(),columns:[field]},o),u=n("FactorMapper").create({data_range:a.ref(),screen_range:i.ref()},o)):(a=n("DataRange1d").create({sources:[{ref:e.ref(),columns:t}],rangepadding:r},o),u=n("LinearMapper").create({data_range:a.ref(),screen_range:i.ref()},o)),[a,u]},i=function(e,t,r,s,o,u){var a,f,c,h,p,d,v,m,g,y;return _.isUndefined(u)&&(u=!0),a={local:u},f=n("Plot").create({data_sources:{source_name:t.ref()},parent:e},a),g=l(t,[r],d3.max([1/(t.get("data").length-1),.1]),f.get_obj("xrange"),!1,a),h=g[0],p=g[1],y=l(t,[s],d3.max([1/(t.get("data").length-1),.1]),f.get_obj("yrange"),!1,a),v=y[0],m=y[1],i=n("BarRenderer").create({data_source:t.ref(),xfield:r,yfield:s,xmapper:p.ref(),ymapper:m.ref(),parent:f.ref(),orientation:o},a),c=n("LinearAxis").create({orientation:"bottom",mapper:p.ref(),parent:f.ref()},a),d=n("LinearAxis").create({orientation:"left",mapper:m.ref(),parent:f.ref()},a),f.set({renderers:[i.ref()],axes:[c.ref(),d.ref()]},a)},a=function(e,t,r,i,s){var o,u,f,l,c,h,p;return _.isUndefined(s)&&(s=!0),o={local:s},f=t.get("name"),u=n("Plot").create({data_sources:{source_name:t.ref()},parent:e},o),c=n("DataRange1d").create({sources:[{ref:t.ref(),columns:[r]}]},o),p=n("DataRange1d").create({sources:[{ref:t.ref(),columns:[i]}]},o),a=n("LineRenderer").create({data_source:t.ref(),xfield:r,yfield:i,xdata_range:c.ref(),ydata_range:p.ref(),parent:u.ref()},o),l=n("LinearAxis").create({orientation:"bottom",data_range:c.ref(),mapper:"linear",parent:u.ref()},o),h=n("LinearAxis").create({orientation:"left",data_range:p.ref(),mapper:"linear",parent:u.ref()},o),u.set({renderers:[a.ref()],axes:[l.ref(),h.ref()]},o)},u=function(e,t,r,i,s){var o,u,a,f,l;return i==null&&(i=["x"]),s==null&&(s=["y"]),o=n("Plot").create(),a=n("DataRange1d").create({sources:[{ref:e.ref(),columns:["x"]}]}),l=n("DataRange1d").create({sources:[{ref:e.ref(),columns:["y"]}]}),t.set("xdata_range",a.ref()),t.set("ydata_range",l.ref()),u=n("LinearAxis").create({orientation:"bottom",parent:o.ref(),data_range:a.ref()}),f=n("LinearAxis").create({orientation:"left",parent:o.ref(),data_range:l.ref()}),o.set({renderers:[t.ref()],axes:[u.ref(),f.ref()]}),o},h=function(e){return e&&typeof e=="object"&&e instanceof Array&&typeof e.length=="number"&&typeof e.splice=="function"&&!e.propertyIsEnumerable("length")},f=function(e,t,r,i,s,o,u,a,f){return u==null&&(u=!1),a==null&&(a=[200,200]),f==null&&(f=!0),function(){var l,c,p,d,v,m,g,y,b,w,E,S,x,T;expect(0),b=[],u&&(g=n("PanTool").create({dataranges:[s.ref(),o.ref()],dimensions:["width","height"]}),S=n("ZoomTool").create({dataranges:[s.ref(),o.ref()],dimensions:["width","height"]}),b=[g,S]),d=[],h(i)||(i=[i]);for(x=0,T=i.length;x<T;x++)v=i[x],p=n("GlyphRenderer").create({data_source:t.ref(),xdata_range:s.ref(),ydata_range:o.ref(),glyphspec:v}),p.set(r),d.push(p);return y=n("Plot").create(),f?(w=n("LinearAxis").create({orientation:"bottom",parent:y.ref(),data_range:s.ref()}),E=n("LinearAxis").create({orientation:"left",parent:y.ref(),data_range:o.ref()}),y.set({renderers:function(){var e,t,n;n=[];for(e=0,t=d.length;e<t;e++)c=d[e],n.push(c.ref());return n}(),axes:[w.ref(),E.ref()],tools:b,width:a[0],height:a[1]})):y.set({renderers:function(){var e,t,n;n=[];for(e=0,t=d.length;e<t;e++)c=d[e],n.push(c.ref());return n}(),axes:[],tools:b,width:a[0],height:a[1]}),l=$("<div></div>"),$("body").append(l),m=function(){var t;return t=new y.default_view({model:y}),l.append(t.$el),t.render(),console.log("Test "+e)},_.defer(m)}},window.bokehprettyprint=function(e){var t,n,r;r=[];for(t in e){if(!p.call(e,t))continue;n=e[t],r.push(console.log(t,n))}return r},e.scatter_plot=c,e.data_table=o,e.make_range_and_mapper=l,e.bar_plot=i,e.line_plot=a,e.glyph_plot=u,e.make_glyph_test=f,e.Rand=r}).call(this)},overlays:function(e,t,n){(function(){var n,r,i,s,o,u,a,f={}.hasOwnProperty,l=function(e,t){function r(){this.constructor=e}for(var n in t)f.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};u=t("./base"),a=u.safebind,o=u.PlotWidget,s=u.HasParent,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.bind_events=function(){},t.prototype.initialize=function(e){return this.selecting=!1,this.xrange=[null,null],this.yrange=[null,null],t.__super__.initialize.call(this,e),this.toolview=this.plot_view.tools[this.mget("tool").id],this.plot_view.$el.find(".main_can_wrapper").append(this.$el)},t.prototype.boxselect=function(e,t){return this.xrange=e,this.yrange=t,this.request_render(),console.log("valchange")},t.prototype.startselect=function(){return this.selecting=!0,this.xrange=[null,null],this.yrange=[null,null],this.request_render(),console.log("selecting")},t.prototype.stopselect=function(){return this.selecting=!1,this.xrange=[null,null],this.yrange=[null,null],this.request_render(),console.log("not selecting")},t.prototype.bind_bokeh_events=function(e){return a(this,this.toolview,"boxselect",this.boxselect),a(this,this.toolview,"startselect",this.startselect),a(this,this.toolview,"stopselect",this.stopselect)},t.prototype.render=function(){var e,t,n,r,i,s,o;if(!this.selecting){this.$el.removeClass("shading");return}i=this.xrange,o=this.yrange;if(_.any(_.map(i,_.isNullOrUndefined))||_.any(_.map(o,_.isNullOrUndefined))){this.$el.removeClass("shading");return}return t="",r=this.plot_view.viewstate.rxpos(Math.min(i[0],i[1])),i?n=Math.abs(i[1]-i[0]):n=this.plot_view.viewstate.get("width"),t+="; left:"+r+"px; width:"+n+"px; ",s=this.plot_view.viewstate.rypos(Math.max(o[0],o[1])),o?e=o[1]-o[0]:e=this.plot_view.viewstate.get("height"),this.$el.addClass("shading"),t+="top:"+s+"px; height:"+e+"px",this.$el.attr("style",t)},t}(o),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.type="BoxSelectionOverlay",t.prototype.default_view=r,t}(s),_.extend(n.prototype.defaults,{tool:null}),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.model=n,t}(Backbone.Collection),e.boxselectionoverlays=new i,e.BoxSelectionOverlayView=r,e.BoxSelectionOverlay=n}).call(this)},mapper:function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l={}.hasOwnProperty,c=function(e,t){function r(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},h=function(e,t){return function(){return e.apply(t,arguments)}};a=t("./base"),n=a.Collections,f=a.safebind,s=a.HasParent,o=a.HasProperties,u=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.initialize=function(e,n){return t.__super__.initialize.call(this,e,n),this.data_range=n.data_range,this.viewstate=n.viewstate,this.screendim=n.screendim,this.register_property("scalestate",this._get_scale,!0),this.add_dependencies("scalestate",this.viewstate,this.screendim),this.add_dependencies("scalestate",this.data_range,["start","end"])},t.prototype._get_scale=function(){var e,t,n;return n=this.viewstate.get(this.screendim),t=this.viewstate.get(this.screendim),t/=this.data_range.get("end")-this.data_range.get("start"),e=-(t*this.data_range.get("start")),[t,e]},t.prototype.v_map_screen=function(e){var t,n,r,i,s,o,u,a;a=this.get("scalestate"),s=a[0],r=a[1],i=new Array(e.length);for(n=o=0,u=e.length;o<u;n=++o)t=e[n],i[n]=s*t+r;return i},t.prototype.map_screen=function(e){var t,n,r;return r=this.get("scalestate"),n=r[0],t=r[1],n*e+t},t.prototype.map_data=function(e){var t,n,r;return r=this.get("scalestate"),n=r[0],t=r[1],(e-t)/n},t}(s),r=function(e){function t(){return this._get_scale=h(this._get_scale,this),this._get_factor_map=h(this._get_factor_map,this),t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.type="DiscreteColorMapper",t.prototype._get_factor_map=function(){var e,t,n,r,i,s;e={},s=this.get_obj("data_range").get("values");for(t=r=0,i=s.length;r<i;t=++r)n=s[t],e[n]=t;return e},t.prototype._get_scale=function(){return d3.scale.ordinal().domain(_.values(this.get("factor_map"))).range(this.get("colors"))},t.prototype.dinitialize=function(e,n){return t.__super__.dinitialize.call(this,e,n),this.register_property("factor_map",this._get_factor_map,!0),this.add_dependencies("factor_map",this,"data_range"),this.register_property("scale",this._get_scale,!0),this.add_dependencies("scale",this,["colors","factor_map"])},t.prototype.map_screen=function(e){return this.get("scale")(this.get("factor_map")[e])},t}(o),r.prototype.defaults=_.clone(r.prototype.defaults),_.extend(r.prototype.defaults,{colors:["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],data_range:null}),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.model=r,t}(Backbone.Collection),e.discretecolormappers=new i,e.LinearMapper=u,e.DiscreteColorMapper=r}).call(this)},ranges:function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c,h={}.hasOwnProperty,p=function(e,t){function r(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},d=function(e,t){return function(){return e.apply(t,arguments)}};c=t("./base"),a=c.HasProperties,f=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.type="Range1d",t}(a),f.prototype.defaults=_.clone(f.prototype.defaults),_.extend(f.prototype.defaults,{start:0,end:1}),l=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.model=f,t}(Backbone.Collection),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.type="DataRange1d",t.prototype._get_minmax=function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v;n=[],h=this.get("sources");for(a=0,l=h.length;a<l;a++){s=h[a],o=this.resolve_ref(s.ref),p=s.columns;for(f=0,c=p.length;f<c;f++)t=p[f],n.push(o.getcolumn(t))}return n=_.reduce(n,function(e,t){return e.concat(t)},[]),n=_.filter(n,function(e){return typeof e!="string"}),d=[_.min(n),_.max(n)],i=d[0],r=d[1],u=(r-i)*(1+this.get("rangepadding")),e=(r+i)/2,v=[e-u/2,e+u/2],i=v[0],r=v[1],[i,r]},t.prototype._get_start=function(){return _.isNullOrUndefined(this.get("_start"))?this.get("minmax")[0]:this.get("_start")},t.prototype._set_start=function(e){return this.set("_start",e)},t.prototype._get_end=function(){return _.isNullOrUndefined(this.get("_end"))?this.get("minmax")[1]:this.get("_end")},t.prototype._set_end=function(e){return this.set("_end",e)},t.prototype.dinitialize=function(e,n){var r,i,s,o;t.__super__.dinitialize.call(this,e,n),this.register_property("minmax",this._get_minmax,!0),this.add_dependencies("minmax",this,["sources"],["rangepadding"]),o=this.get("sources");for(i=0,s=o.length;i<s;i++)r=o[i],r=this.resolve_ref(r.ref),this.add_dependencies("minmax",r,"data");return this.register_property("start",this._get_start,!0),this.register_setter("start",this._set_start),this.add_dependencies("start",this,["minmax","_start"]),this.register_property("end",this._get_end,!0),this.register_setter("end",this._set_end),this.add_dependencies("end",this,["minmax","_end"])},t}(f),i.prototype.defaults=_.clone(i.prototype.defaults),_.extend(i.prototype.defaults,{sources:[],rangepadding:.1}),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.model=i,t}(Backbone.Collection),l=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.model=f,t}(Backbone.Collection),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.type="FactorRange",t}(a),o.prototype.defaults=_.clone(o.prototype.defaults),_.extend(o.prototype.defaults,{values:[]}),n=function(e){function t(){return this._get_values=d(this._get_values,this),t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.type="DataFactorRange",t.prototype._get_values=function(){var e,t,n,r,i,s,o;e=function(){var e,t,n,r;n=this.get("columns"),r=[];for(e=0,t=n.length;e<t;e++)i=n[e],r.push(this.get_obj("data_source").getcolumn(i));return r}.call(this),e=_.reduce(e,function(e,t){return e.concat(t)},[]),t={};for(s=0,o=e.length;s<o;s++)r=e[s],t[r]=!0;return n=_.keys(t),n=_.sortBy(n,function(e){return e}),n},t.prototype.dinitialize=function(e,n){return t.__super__.dinitialize.call(this,e,n),this.register_property,this.register_property("values",this._get_values,!0),this.add_dependencies("values",this,["data_source","columns"]),this.add_dependencies("values",this.get_obj("data_source"),["data_source","columns"])},t}(o),n.prototype.defaults=_.clone(n.prototype.defaults),_.extend(n.prototype.defaults,{values:[],columns:[],data_source:null}),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.model=n,t}(Backbone.Collection),u=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.model=o,t}(Backbone.Collection),e.range1ds=new l,e.datarange1ds=new s,e.datafactorranges=new r}).call(this)},coffee_style_guide:function(e,t,n){(function(){"start of continuum CS style guide. our code does not follow this yet.";"2 spaces per indent\n80 characters per line";"underscores to separate variables names\nCamelCase for class names\nunderscores preceding functions show what we think is private\ncoffeescript makes it easy to pass instance methods as callbacks.\ntry to use that instead of writing lots of inline functions as callbacks";var e,t,n={}.hasOwnProperty,r=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.set_my_field=function(){return this.set("hello"),t.__super__.set_my_field.call(this)},t.prototype._dont_call_func=function(){return console.log("you should not be calling this")},t.prototype.call_func=function(){return console.log("but I can call this func, because I am in this class"),this._dont_call_func()},t}(Backbone.Model),"coffee script looseness\nALWAYS use parentheses around function calls",console.log("log this statement"),console.log("logging this message"),t={coffee:"black",cream:"none",bagels:{cream_cheese:"fat_free",toasted:"of course"}},t({name:"firstobject",title:"first"},{name:"second object",title:"first"}),t({name:"second object",title:"first"},{name:"second object",title:"first"}),t({name:"second object",title:"first"},{name:"second object",title:"first"},[1,2,3,4,5]),"inline functions\nwe follow the same syntax for object arrays.  4 spaces before the start of the\nfunction definition.  2 spaces before the comma separating the functions",t(1,2,3,function(){var e;return my_callback_goes_here(),e={node:"fast"},e},function(){return second_callback_goes_here()}),"return values\ncoffee script always returns the last value in a function.  don't rely on this.\nalways return something, or null"}).call(this)},base:function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c,h,p,d=function(e,t){return function(){return e.apply(t,arguments)}},v={}.hasOwnProperty,m=function(e,t){function r(){this.constructor=e}for(var n in t)v.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};r={prefix:""},h=function(e,t,n,r){var i=this;_.has(e,"eventers")||(e.eventers={});try{e.eventers[t.id]=t}catch(s){}return t!=null?(t.on(n,r,e),t.on("destroy remove",function(){return delete e.eventers[t]},e)):console.log("error with binder",e,n),null},l=function(e){var t,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g;o=[],u=[];for(a=0,h=e.length;a<h;a++)s=e[a],r=n(s.type),t=s.attributes,r&&r.get(t.id)?u.push([r,t]):o.push([r,t]);for(f=0,p=o.length;f<p;f++)i=o[f],r=i[0],t=i[1],r&&r.add(t,{silent:!0});for(l=0,d=o.length;l<d;l++)i=o[l],r=i[0],t=i[1],r&&r.get(t.id).dinitialize(t);for(c=0,v=o.length;c<v;c++)i=o[c],r=i[0],t=i[1],r&&(s=r.get(t.id),s.trigger("add",s,r,{}));for(g=0,m=u.length;g<m;g++)i=u[g],r=i[0],t=i[1],r&&r.get(t.id).set(t);return null},a=function(){function e(e){this.onmessage=d(this.onmessage,this);var t=this;this.auth={},this.ws_conn_string=e,this._connected=$.Deferred(),this.connected=this._connected.promise();try{this.s=new WebSocket(e)}catch(n){this.s=new MozWebSocket(e)}this.s.onopen=function(){return t._connected.resolve()},this.s.onmessage=this.onmessage}return _.extend(e.prototype,Backbone.Events),e.prototype.onmessage=function(e){var t,n,r;return t=e.data,n=t.indexOf(":"),n=t.indexOf(":",n+1),r=t.substring(0,n),t=t.substring(n+1),this.trigger("msg:"+r,t),null},e.prototype.send=function(e){var t=this;return $.when(this.connected).done(function(){return t.s.send(e)})},e.prototype.subscribe=function(e,t){var n;return this.auth[e]=t,n=JSON.stringify({msgtype:"subscribe",topic:e,auth:t}),this.send(n)},e}(),p=function(e,t,n){return e.subscribe(t,n),e.on("msg:"+t,function(e){var t,n,i,s,o,u,a;i=JSON.parse(e);if(i.msgtype==="modelpush")l(i.modelspecs);else if(i.msgtype==="modeldel"){a=i.modelspecs;for(o=0,u=a.length;o<u;o++)s=a[o],n=resolve_ref(s.type,s.id),n&&n.destroy({local:!0})}else i.msgtype==="status"&&i.status[0]==="subscribesuccess"?(t=i.status[2],r.clientid=t,$.ajaxSetup({headers:{"Continuum-Clientid":t}})):console.log(i);return null})},o=function(e){function t(){return this.get_obj=d(this.get_obj,this),this.resolve_ref=d(this.resolve_ref,this),this.convert_to_ref=d(this.convert_to_ref,this),t.__super__.constructor.apply(this,arguments)}return m(t,e),t.prototype.destroy=function(e){var n,r,i,s;t.__super__.destroy.call(this,e);if(_.has(this,"eventers")){i=this.eventers,s=[];for(n in i){if(!v.call(i,n))continue;r=i[n],s.push(r.off(null,null,this))}return s}},t.prototype.isNew=function(){return!this.get("created")},t.prototype.initialize=function(e,n){var r=this;return e||(e={}),n||(n={}),t.__super__.initialize.call(this,e,n),this.properties={},this.property_cache={},_.has(e,this.idAttribute)||(this.id=_.uniqueId(this.type),this.attributes[this.idAttribute]=this.id),_.defer(function(){if(!r.inited)return r.dinitialize(e,n)})},t.prototype.dinitialize=function(e,t){return this.inited=!0},t.prototype.set_obj=function(e,t,n){var r,i;_.isObject(e)||e===null?(r=e,n=t):(r={},r[e]=t);for(e in r){if(!v.call(r,e))continue;i=r[e],r[e]=this.convert_to_ref(i)}return this.set(r,n)},t.prototype.set=function(e,n,r){var i,s,o,u,a;_.isObject(e)||e===null?(i=e,r=n):(i={},i[e]=n),s=[];for(e in i){if(!v.call(i,e))continue;o=i[e],_.has(this,"properties")&&_.has(this.properties,e)&&this.properties[e].setter&&(this.properties[e].setter.call(this,o),s.push(e))}for(u=0,a=s.length;u<a;u++)e=s[u],delete i[e];if(!_.isEmpty(i))return t.__super__.set.call(this,i,r)},t.prototype.convert_to_ref=function(e){if(_.isArray(e))return _.map(e,this.convert_to_ref);if(e instanceof t)return e.ref()},t.prototype.add_dependencies=function(e,t,n){var r,i,s,o,u;_.isArray(n)||(n=[n]),i=this.properties[e],i.dependencies=i.dependencies.concat({obj:t,fields:n}),u=[];for(s=0,o=n.length;s<o;s++)r=n[s],u.push(h(this,t,"change:"+r,i.callbacks.changedep));return u},t.prototype.register_setter=function(e,t){var n;return n=this.properties[e],n.setter=t},t.prototype.register_property=function(e,t,n){var r,i,s,o=this;return _.isUndefined(n)&&(n=!0),_.has(this.properties,e)&&this.remove_property(e),r=function(){return o.trigger("changedep:"+e)},s=function(){var t,n,r;t=!0,i.use_cache&&(r=o.get_cache(e),o.clear_cache(e),n=o.get(e),t=n!==r);if(t)return o.trigger("change:"+e,o,o.get(e)),o.trigger("change",o)},i={getter:t,dependencies:[],use_cache:n,setter:null,callbacks:{changedep:r,propchange:s}},this.properties[e]=i,h(this,this,"changedep:"+e,i.callbacks.propchange),i},t.prototype.remove_property=function(e){var t,n,r,i,s,o,u,a,f,l;s=this.properties[e],n=s.dependencies;for(o=0,a=n.length;o<a;o++){t=n[o],i=t.obj,l=t.fields;for(u=0,f=l.length;u<f;u++)r=l[u],i.off("change:"+r,s.callbacks.changedep,this)}this.off("changedep:"+t),delete this.properties[e];if(s.use_cache)return this.clear_cache(e)},t.prototype.has_cache=function(e){return _.has(this.property_cache,e)},t.prototype.add_cache=function(e,t){return this.property_cache[e]=t},t.prototype.clear_cache=function(e,t){return delete this.property_cache[e]},t.prototype.get_cache=function(e){return this.property_cache[e]},t.prototype.get=function(e){var n,r,i;return _.has(this.properties,e)?(i=this.properties[e],i.use_cache&&this.has_cache(e)?this.property_cache[e]:(r=i.getter,n=r.apply(this,this),this.properties[e].use_cache&&this.add_cache(e,n),n)):t.__super__.get.call(this,e)},t.prototype.ref=function(){return{type:this.type,id:this.id}},t.prototype.resolve_ref=function(e){return _.isArray(e)?_.map(e,this.resolve_ref):(e||console.log("ERROR, null reference"),e.type===this.type&&e.id===this.id?this:n(e.type).get(e.id))},t.prototype.get_obj=function(e){var t;t=this.get(e);if(t)return this.resolve_ref(t)},t.prototype.url=function(){var e;return e=r.prefix+"/bokeh/bb/"+this.get("doc")+"/"+this.type+"/",this.isNew()?e:e+this.get("id")+"/"},t.prototype.sync=function(e,t,n){return n.success(t,null,{})},t.prototype.defaults={},t}(Backbone.Model),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return m(t,e),t.prototype.get_fallback=function(e){var t;return this.get_obj("parent")&&_.indexOf(this.get_obj("parent").parent_properties,e)>=0&&!_.isUndefined(this.get_obj("parent").get(e))?this.get_obj("parent").get(e):(t=this.display_defaults[e],t)},t.prototype.get=function(e){var n;n=t.__super__.get.call(this,e);if(!_.isUndefined(n))return n;if(e!=="parent")return this.get_fallback(e)},t.prototype.display_defaults={},t}(o),f=function(e,t,n){"use strict";var r,i,s,o,u,a,f,l,c,h;r=[];try{o=_.filter(t,function(t){return!_.has(e,t.id)})}catch(p){debugger;throw console.log(p),p}for(f=0,c=o.length;f<c;f++){s=o[f],a=_.extend({},n,{model:s});try{e[s.id]=new s.default_view(a)}catch(p){throw console.log("error on model of",s,p),p}r.push(e[s.id])}u=_.difference(_.keys(e),_.pluck(t,"id"));for(l=0,h=u.length;l<h;l++)i=u[l],e[i].remove(),delete e[i];return r},i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return m(t,e),t.prototype.initialize=function(e){if(!_.has(e,"id"))return this.id=_.uniqueId("ContinuumView")},t.prototype.bind_bokeh_events=function(){return"pass"},t.prototype.delegateEvents=function(e){return t.__super__.delegateEvents.call(this,e),this.bind_bokeh_events()},t.prototype.remove=function(){var e,n,r;if(_.has(this,"eventers")){r=this.eventers;for(e in r){if(!v.call(r,e))continue;n=r[e],n.off(null,null,this)}}return this.trigger("remove"),t.__super__.remove.call(this)},t.prototype.mget=function(){return this.model.get.apply(this.model,arguments)},t.prototype.mset=function(){return this.model.set.apply(this.model,arguments)},t.prototype.mget_obj=function(e){return this.model.get_obj(e)},t.prototype.render_end=function(){return"pass"},t}(Backbone.View),u=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return m(t,e),t.prototype.tagName="div",t.prototype.marksize=3,t.prototype.initialize=function(e){var n;return this.plot_model=e.plot_model,this.plot_view=e.plot_view,n=this.plot_view.ctx,n.setLineDash||(n.setLineDash=function(e){return n.mozDash=e,n.webkitLineDash=e}),n.getLineDash||(n.getLineDash=function(){return n.mozDash}),n.setLineDashOffset=function(e){return n.lineDashOffset=e,n.mozDashOffset=e,n.webkitLineDashOffset=e},n.setImageSmoothingEnabled=function(e){return n.imageSmoothingEnabled=e,n.mozImageSmoothingEnabled=e,n.oImageSmoothingEnabled=e,n.webkitImageSmoothingEnabled=e},n.getImageSmoothingEnabled=function(){var e;return(e=n.imageSmoothingEnabled)!=null?e:!0},t.__super__.initialize.call(this,e)},t.prototype.bind_bokeh_events=function(){return h(this,this.plot_view.viewstate,"change",function(){return this.request_render()})},t.prototype.addPolygon=function(e,t){return isNaN(e)||isNaN(t)?null:this.plot_view.ctx.fillRect(e,t,this.marksize,this.marksize)},t.prototype.addCircle=function(e,t){return isNaN(e)||isNaN(t)?null:(this.plot_view.ctx.beginPath(),this.plot_view.ctx.arc(e,t,this.marksize,0,Math.PI*2),this.plot_view.ctx.closePath(),this.plot_view.ctx.fill(),this.plot_view.ctx.stroke())},t.prototype.request_render=function(){return this.plot_view.throttled()},t}(i),c={Plot:["./container","plots"],PanTool:["./tools/pantool","pantools"],ZoomTool:["./tools/zoomtool","zoomtools"],SelectionTool:["./tools/selecttool","selectiontools"],LinearAxis:["./guides","linearaxes"],LinearDateAxis:["./guides","lineardateaxes"],Legend:["./guides","legends"],GlyphRenderer:["./renderers/glyph_renderer","glyphrenderers"],Glyph:["./renderers/glyph","glyphs"],Arc:["./renderers/arc","arcs"],Area:["./renderers/area","areas"],Bezier:["./renderers/bezier","beziers"],Circle:["./renderers/circle","circles"],Image:["./renderers/image","images"],Line:["./renderers/line","lines"],Oval:["./renderers/oval","ovals"],Quad:["./renderers/quad","quads"],Quadcurve:["./renderers/quadcurve","quadcurves"],Ray:["./renderers/ray","rays"],Rect:["./renderers/rect","rects"],Segment:["./renderers/segment","segments"],Text:["./renderers/text","texts"],Wedge:["./renderers/wedge","wedges"],BoxSelectionOverlay:["./overlays","boxselectionoverlays"],ObjectArrayDataSource:["./datasource","objectarraydatasources"],ColumnDataSource:["./datasource","columndatasources"],Range1d:["./ranges","range1ds"],DataRange1d:["./ranges","datarange1ds"],DataFactorRange:["./ranges","datafactorranges"],Plot:["./container","plots"],GridPlotContainer:["./container","gridplotcontainers"],CDXPlotContext:["./container","plotcontexts"],PlotContext:["./container","plotcontexts"],ScatterRenderer:["./schema_renderers","scatterrenderers"],LineRenderer:["./schema_renderers","linerenderers"],DiscreteColorMapper:["./mapper","discretecolormappers"],DataTable:["./table","datatables"],PandasPivot:["./pandas/pandas","pandaspivots"],PandasDataSource:["./pandas/pandas","pandasdatasources"],PandasPlotSource:["./pandas/pandas","pandasplotsources"]},e.locations=c,n=function(e){var n,r,i;if(!c[e])throw"./base: Unknown Collection "+e;return i=c[e],r=i[0],n=i[1],t(r)[n]},e.Collections=n,e.Config=r,e.safebind=h,e.load_models=l,e.WebSocketWrapper=a,e.submodels=p,e.HasProperties=o,e.HasParent=s,e.build_views=f,e.ContinuumView=i,e.PlotWidget=u}).call(this)},datasource:function(e,t,n){(function(){var n,r,i,s,o,u,a={}.hasOwnProperty,f=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};u=t("./base"),i=u.HasProperties,s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return f(t,e),t.prototype.type="ObjectArrayDataSource",t.prototype.initialize=function(e,n){return t.__super__.initialize.call(this,e,n),this.cont_ranges={},this.discrete_ranges={}},t.prototype.getcolumn=function(e){var t;return function(){var n,r,i,s;i=this.get("data"),s=[];for(n=0,r=i.length;n<r;n++)t=i[n],s.push(t[e]);return s}.call(this)},t.prototype.compute_cont_range=function(e){var t;return t=this.getcolumn(e),[_.max(t),_.min(t)]},t.prototype.compute_discrete_factor=function(e){var t,n,r,i,s,o;t={},o=this.getcolumn(e);for(i=0,s=o.length;i<s;i++)r=o[i],t[r]=!0;return n=_.keys(t),n=_.sortBy(n,function(e){return e})},t.prototype.get_cont_range=function(e,t){var n,r,i,s,o,u,a=this;return _.isUndefined(t)&&(t=1),_.exists(this.cont_ranges,e)||(o=this.compute_cont_range(e),i=o[0],r=o[1],s=(r-i)*(1+t),n=(r+i)/2,u=[n-s/2,n+s/2],i=u[0],r=u[1],this.cont_ranges[e]=Collections("Range1d").create({start:i,end:r}),this.on("change:data",function(){var t;return t=a.compute_cont_range(e),r=t[0],i=t[1],a.cont_ranges[e].set("start",i),a.cont_ranges[e].set("end",r)})),this.cont_ranges[e]},t.prototype.get_discrete_range=function(e){var t,n=this;return _.exists(this.discrete_ranges,e)||(t=this.compute_discrete_factor(e),this.discrete_ranges[e]=Collections("FactorRange").create({values:t}),this.on("change:data",function(){return t=n.compute_discrete_factor(e),n.discrete_ranges[e]=Collections("FactorRange").set("values",t)})),this.discrete_ranges[e]},t.prototype.select=function(e,t){var n,r,i,s,o,u,a,f;i=[],f=this.get("data");for(r=u=0,a=f.length;u<a;r=++u)s=f[r],n=function(){var t,n,r;r=[];for(t=0,n=e.length;t<n;t++)o=e[t],r.push(s[o]);return r}(),t.apply(t,n)&&i.push(r);return i.sort(),i},t}(i),s.prototype.defaults=_.clone(s.prototype.defaults),_.extend(s.prototype.defaults,{data:[{}],name:"data",selected:[],selecting:!1}),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return f(t,e),t.prototype.model=s,t}(Backbone.Collection),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return f(t,e),t.prototype.type="ColumnDataSource",t.prototype.initialize=function(e,n){return t.__super__.initialize.call(this,e,n),this.cont_ranges={},this.discrete_ranges={}},t.prototype.getcolumn=function(e){return this.get("data")[e]},t.prototype.datapoints=function(){var e,t,n,r,i,s,o,u,a,f;e=this.get("data"),n=_.keys(e),s=[];for(r=o=0,f=e[n[0]].length-1;0<=f?o<=f:o>=f;r=0<=f?++o:--o){i={};for(u=0,a=n.length;u<a;u++)t=n[u],i[t]=e[t][r];s.push(i)}return s},t}(s),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return f(t,e),t.prototype.model=n,t}(Backbone.Collection),e.objectarraydatasources=new o,e.columndatasources=new r,e.ObjectArrayDataSource=s,e.ColumnDataSource=n}).call(this)},"renderers/segment":function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c={}.hasOwnProperty,h=function(e,t){function r(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};l=t("./properties"),a=l.glyph_properties,f=l.line_properties,u=t("./glyph"),n=u.Glyph,r=u.GlyphView,s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.initialize=function(e){var n;return n=this.mget("glyphspec"),this.glyph_props=new a(this,n,["x0","y0","x1","y1"],[new f(this,n)]),this.do_stroke=this.glyph_props.line_properties.do_stroke,t.__super__.initialize.call(this,e)},t.prototype._set_data=function(e){return this.data=e,this.x0=this.glyph_props.v_select("x0",e),this.y0=this.glyph_props.v_select("y0",e),this.x1=this.glyph_props.v_select("x1",e),this.y1=this.glyph_props.v_select("y1",e)},t.prototype._render=function(){var e,t,n;return t=this.map_to_screen(this.x0,this.glyph_props.x0.units,this.y0,this.glyph_props.y0.units),this.sx0=t[0],this.sy0=t[1],n=this.map_to_screen(this.x1,this.glyph_props.x1.units,this.y1,this.glyph_props.y1.units),this.sx1=n[0],this.sy1=n[1],e=this.plot_view.ctx,e.save(),this.glyph_props.fast_path?this._fast_path(e):this._full_path(e),e.restore()},t.prototype._fast_path=function(e){var t,n,r;if(this.do_stroke){this.glyph_props.line_properties.set(e,this.glyph_props),e.beginPath();for(t=n=0,r=this.sx0.length-1;0<=r?n<=r:n>=r;t=0<=r?++n:--n){if(isNaN(this.sx0[t]+this.sy0[t]+this.sx1[t]+this.sy1[t]))continue;e.moveTo(this.sx0[t],this.sy0[t]),e.lineTo(this.sx1[t],this.sy1[t])}return e.stroke()}},t.prototype._full_path=function(e){var t,n,r,i;if(this.do_stroke){i=[];for(t=n=0,r=this.sx0.length-1;0<=r?n<=r:n>=r;t=0<=r?++n:--n){if(isNaN(this.sx0[t]+this.sy0[t]+this.sx1[t]+this.sy1[t]))continue;e.beginPath(),e.moveTo(this.sx0[t],this.sy0[t]),e.lineTo(this.sx1[t],this.sy1[t]),this.glyph_props.line_properties.set(e,this.data[t]),i.push(e.stroke())}return i}},t}(r),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.default_view=s,t.prototype.type="GlyphRenderer",t}(n),i.prototype.display_defaults=_.clone(i.prototype.display_defaults),_.extend(i.prototype.display_defaults,{line_color:"red",line_width:1,line_alpha:1,line_join:"miter",line_cap:"butt",line_dash:[],line_dash_offset:0}),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.model=i,t}(Backbone.Collection),e.segments=new o,e.Segment=i,e.SegmentView=s}).call(this)},"renderers/rect":function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c,h={}.hasOwnProperty,p=function(e,t){function r(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};c=t("./properties"),f=c.glyph_properties,l=c.line_properties,u=c.fill_properties,a=t("./glyph"),n=a.Glyph,r=a.GlyphView,s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.initialize=function(e){var n;return n=this.mget("glyphspec"),this.glyph_props=new f(this,n,["x","y","width","height","angle"],[new u(this,n),new l(this,n)]),this.do_fill=this.glyph_props.fill_properties.do_fill,this.do_stroke=this.glyph_props.line_properties.do_stroke,t.__super__.initialize.call(this,e)},t.prototype._set_data=function(e){var t;return this.data=e,this.x=this.glyph_props.v_select("x",e),this.y=this.glyph_props.v_select("y",e),this.angle=function(){var n,r,i;i=[];for(n=0,r=e.length;n<r;n++)t=e[n],i.push(this.glyph_props.select("angle",t));return i}.call(this)},t.prototype._render=function(){var e,t;return t=this.map_to_screen(this.x,this.glyph_props.x.units,this.y,this.glyph_props.y.units),this.sx=t[0],this.sy=t[1],this.sw=this.distance(this.data,"x","width","center"),this.sh=this.distance(this.data,"y","height","center"),e=this.plot_view.ctx,e.save(),this.glyph_props.fast_path?this._fast_path(e):this._full_path(e),e.restore()},t.prototype._fast_path=function(e){var t,n,r,i,s;if(this.do_fill){this.glyph_props.fill_properties.set(e,this.glyph_props),e.beginPath();for(t=n=0,i=this.sx.length-1;0<=i?n<=i:n>=i;t=0<=i?++n:--n){if(isNaN(this.sx[t]+this.sy[t]+this.sw[t]+this.sh[t]+this.angle[t]))continue;this.angle[t]?(e.translate(this.sx[t],this.sy[t]),e.rotate(this.angle[t]),e.rect(-this.sw[t]/2,-this.sh[t]/2,this.sw[t],this.sh[t]),e.rotate(-this.angle[t]),e.translate(-this.sx[t],-this.sy[t])):e.rect(this.sx[t]-this.sw[t]/2,this.sy[t]-this.sh[t]/2,this.sw[t],this.sh[t])}e.fill()}if(this.do_stroke){this.glyph_props.line_properties.set(e,this.glyph_props),e.beginPath();for(t=r=0,s=this.sx.length-1;0<=s?r<=s:r>=s;t=0<=s?++r:--r){if(isNaN(this.sx[t]+this.sy[t]+this.sw[t]+this.sh[t]+this.angle[t]))continue;this.angle[t]?(e.translate(this.sx[t],this.sy[t]),e.rotate(this.angle[t]),e.rect(-this.sw[t]/2,-this.sh[t]/2,this.sw[t],this.sh[t]),e.rotate(-this.angle[t]),e.translate(-this.sx[t],-this.sy[t])):e.rect(this.sx[t]-this.sw[t]/2,this.sy[t]-this.sh[t]/2,this.sw[t],this.sh[t])}return e.stroke()}},t.prototype._full_path=function(e){var t,n,r,i;i=[];for(t=n=0,r=this.sx.length-1;0<=r?n<=r:n>=r;t=0<=r?++n:--n){if(isNaN(this.sx[t]+this.sy[t]+this.sw[t]+this.sh[t]+this.angle[t]))continue;e.translate(this.sx[t],this.sy[t]),e.rotate(this.angle[t]),e.beginPath(),e.rect(-this.sw[t]/2,-this.sh[t]/2,this.sw[t],this.sh[t]),this.do_fill&&(this.glyph_props.fill_properties.set(e,this.data[t]),e.fill()),this.do_stroke&&(this.glyph_props.line_properties.set(e,this.data[t]),e.stroke()),e.rotate(-this.angle[t]),i.push(e.translate(-this.sx[t],-this.sy[t]))}return i},t}(r),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.default_view=s,t.prototype.type="GlyphRenderer",t}(n),i.prototype.display_defaults=_.clone(i.prototype.display_defaults),_.extend(i.prototype.display_defaults,{fill:"gray",fill_alpha:1,line_color:"red",line_width:1,line_alpha:1,line_join:"miter",line_cap:"butt",line_dash:[],line_dash_offset:0,angle:0}),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.model=i,t}(Backbone.Collection),e.rects=new o,e.Rect=i,e.RectView=s}).call(this)},"renderers/annulus":function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c,h={}.hasOwnProperty,p=function(e,t){function r(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};c=t("./properties"),f=c.glyph_properties,l=c.line_properties,u=c.fill_properties,a=t("./glyph"),s=a.Glyph,o=a.GlyphView,i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.initialize=function(e){var n;return n=this.mget("glyphspec"),this.glyph_props=new f(this,n,["x","y","inner_radius","outer_radius"],[new u(this,n),new l(this,n)]),this.do_fill=this.glyph_props.fill_properties.do_fill,this.do_stroke=this.glyph_props.line_properties.do_stroke,t.__super__.initialize.call(this,e)},t.prototype._set_data=function(e){return this.data=e,this.x=this.glyph_props.v_select("x",e),this.y=this.glyph_props.v_select("y",e)},t.prototype._render=function(){var e,t;return t=this.map_to_screen(this.x,this.glyph_props.x.units,this.y,this.glyph_props.y.units),this.sx=t[0],this.sy=t[1],this.inner_radius=this.distance(this.data,"x","inner_radius","edge"),this.outer_radius=this.distance(this.data,"x","outer_radius","edge"),e=this.plot_view.ctx,e.save(),this.glyph_props.fast_path?this._fast_path(e):this._full_path(e),e.restore()},t.prototype._fast_path=function(e){var t,n,r,i,s,o;if(this.do_fill){this.glyph_props.fill_properties.set(e,this.glyph_props);for(t=n=0,i=this.sx.length-1;0<=i?n<=i:n>=i;t=0<=i?++n:--n){if(isNaN(this.sx[t]+this.sy[t]+this.inner_radius[t]+this.outer_radius[t]))continue;e.beginPath(),e.arc(this.sx[t],this.sy[t],this.inner_radius[t],0,2*Math.PI*2,!1),e.arc(this.sx[t],this.sy[t],this.outer_radius[t],0,2*Math.PI*2,!0),e.fill()}}if(this.do_stroke){this.glyph_props.line_properties.set(e,this.glyph_props),o=[];for(t=r=0,s=this.sx.length-1;0<=s?r<=s:r>=s;t=0<=s?++r:--r){if(isNaN(this.sx[t]+this.sy[t]+this.inner_radius[t]+this.outer_radius[t]))continue;e.beginPath(),e.arc(this.sx[t],this.sy[t],this.inner_radius[t],0,2*Math.PI*2,!1),e.stroke(),e.beginPath(),e.arc(this.sx[t],this.sy[t],this.outer_radius[t],0,2*Math.PI*2,!0),o.push(e.stroke())}return o}},t.prototype._full_path=function(e){var t,n,r,i;i=[];for(t=n=0,r=this.sx.length-1;0<=r?n<=r:n>=r;t=0<=r?++n:--n){if(isNaN(this.sx[t]+this.sy[t]+this.inner_radius[t]+this.outer_radius[t]))continue;e.beginPath(),e.arc(this.sx[t],this.sy[t],this.inner_radius[t],0,2*Math.PI*2,!1),e.moveTo(this.sx[t]+this.outer_radius[t],this.sy[t]),e.arc(this.sx[t],this.sy[t],this.outer_radius[t],0,2*Math.PI*2,!0),this.do_fill&&(this.glyph_props.fill_properties.set(e,this.data[t]),e.fill()),this.do_stroke?(this.glyph_props.line_properties.set(e,this.data[t]),i.push(e.stroke())):i.push(void 0)}return i},t}(o),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.default_view=i,t.prototype.type="GlyphRenderer",t}(s),r.prototype.display_defaults=_.clone(r.prototype.display_defaults),_.extend(r.prototype.display_defaults,{fill:"gray",fill_alpha:1,line_color:"red",line_width:1,line_alpha:1,line_join:"miter",line_cap:"butt",line_dash:[],line_dash_offset:0}),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.model=r,t}(Backbone.Collection),e.annuli=new n,e.Annulus=r,e.AnnulusView=i}).call(this)},"renderers/imageuri":function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l={}.hasOwnProperty,c=function(e,t){function r(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};f=t("./properties"),a=f.glyph_properties,u=t("./glyph"),n=u.Glyph,r=u.GlyphView,s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.initialize=function(e){var n;return n=this.mget("glyphspec"),this.glyph_props=new a(this,n,["url:string","x","y","angle"],[]),t.__super__.initialize.call(this,e)},t.prototype._set_data=function(e){var t;return this.data=e,this.x=this.glyph_props.v_select("x",e),this.y=this.glyph_props.v_select("y",e),this.image=function(){var n,r,i;i=[];for(n=0,r=e.length;n<r;n++)t=e[n],i.push(this.glyph_props.select("url",t));return i}.call(this),this.angle=function(){var n,r,i;i=[];for(n=0,r=e.length;n<r;n++)t=e[n],i.push(this.glyph_props.select("angle",t));return i}.call(this)},t.prototype._render=function(){var e,t,n,r,i,s,o=this;i=this.map_to_screen(this.x,this.glyph_props.x.units,this.y,this.glyph_props.y.units),this.sx=i[0],this.sy=i[1],e=this.plot_view.ctx,e.save();for(t=r=0,s=this.sx.length-1;0<=s?r<=s:r>=s;t=0<=s?++r:--r){if(isNaN(this.sx[t]+this.sy[t]+this.angle[t]))continue;n=new Image,n.onload=function(t,n){return function(){return o.angle[n]?(e.translate(o.sx[n],o.sy[n]),e.rotate(o.angle[n]),e.drawImage(t,0,0),e.rotate(-o.angle[n]),e.translate(-o.sx[n],-o.sy[n])):e.drawImage(t,o.sx[n],o.sy[n])}}(n,t),n.src=this.image[t]}return e.restore()},t}(r),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.default_view=s,t.prototype.type="GlyphRenderer",t}(n),i.prototype.display_defaults=_.clone(i.prototype.display_defaults),_.extend(i.prototype.display_defaults,{}),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.model=i,t}(Backbone.Collection),e.imageuriss=new o,e.ImageURI=i,e.ImageURIView=s}).call(this)},"renderers/text":function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c={}.hasOwnProperty,h=function(e,t){function r(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};f=t("./properties"),a=f.glyph_properties,l=f.text_properties,u=t("./glyph"),n=u.Glyph,r=u.GlyphView,s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.initialize=function(e){var n;return n=this.mget("glyphspec"),this.glyph_props=new a(this,n,["x","y","angle","text:string"],[new l(this,n)]),t.__super__.initialize.call(this,e)},t.prototype._set_data=function(e){var t;return this.data=e,this.x=this.glyph_props.v_select("x",e),this.y=this.glyph_props.v_select("y",e),this.angle=function(){var n,r,i;i=[];for(n=0,r=e.length;n<r;n++)t=e[n],i.push(this.glyph_props.select("angle",t));return i}.call(this),this.text=this.glyph_props.v_select("text",e)},t.prototype._render=function(){var e,t;return t=this.map_to_screen(this.x,this.glyph_props.x.units,this.y,this.glyph_props.y.units),this.sx=t[0],this.sy=t[1],e=this.plot_view.ctx,e.save(),this.glyph_props.fast_path?this._fast_path(e):this._full_path(e),e.restore()},t.prototype._fast_path=function(e){var t,n,r,i;this.glyph_props.text_properties.set(e,this.glyph_props),i=[];for(t=n=0,r=this.sx.length-1;0<=r?n<=r:n>=r;t=0<=r?++n:--n){if(isNaN(this.sx[t]+this.sy[t]+this.angle[t]))continue;angle[t]?(e.translate(this.sx[t],this.sy[t]),e.rotate(this.angle[t]),e.fillText(this.text[t],0,0),e.rotate(-this.angle[t]),i.push(e.translate(-this.sx[t],-this.sy[t]))):i.push(e.fillText(text[t],this.sx[t],this.sy[t]))}return i},t.prototype._full_path=function(e){var t,n,r,i;i=[];for(t=n=0,r=this.sx.length-1;0<=r?n<=r:n>=r;t=0<=r?++n:--n){if(isNaN(this.sx[t]+this.sy[t]+this.angle[t]))continue;e.translate(this.sx[t],this.sy[t]),e.rotate(this.angle[t]),this.glyph_props.text_properties.set(e,this.data[t]),e.fillText(this.text[t],0,0),e.rotate(-this.angle[t]),i.push(e.translate(-this.sx[t],-this.sy[t]))}return i},t}(r),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.default_view=s,t.prototype.type="GlyphRenderer",t}(n),i.prototype.display_defaults=_.clone(i.prototype.display_defaults),_.extend(i.prototype.display_defaults,{text_font:"helvetica",text_font_size:"1em",text_font_style:"normal",text_color:"#444444",text_alpha:1,text_align:"left",text_baseline:"bottom"}),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.model=i,t}(Backbone.Collection),e.texts=new o,e.Text=i,e.TextView=s}).call(this)},"renderers/oval":function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c,h={}.hasOwnProperty,p=function(e,t){function r(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};c=t("./properties"),f=c.glyph_properties,l=c.line_properties,u=c.fill_properties,a=t("./glyph"),n=a.Glyph,r=a.GlyphView,s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.initialize=function(e){var n;return n=this.mget("glyphspec"),this.glyph_props=new f(this,n,["x","y","width","height","angle"],[new u(this,n),new l(this,n)]),this.do_fill=this.glyph_props.fill_properties.do_fill,this.do_stroke=this.glyph_props.line_properties.do_stroke,t.__super__.initialize.call(this,e)},t.prototype._set_data=function(e){var t;return this.data=e,this.x=this.glyph_props.v_select("x",e),this.y=this.glyph_props.v_select("y",e),this.angle=function(){var n,r,i;i=[];for(n=0,r=e.length;n<r;n++)t=e[n],i.push(this.glyph_props.select("angle",t));return i}.call(this)},t.prototype._render=function(){var e,t;return t=this.map_to_screen(this.x,this.glyph_props.x.units,this.y,this.glyph_props.y.units),this.sx=t[0],this.sy=t[1],this.sw=this.distance(this.data,"x","width","center"),this.sh=this.distance(this.data,"y","height","center"),e=this.plot_view.ctx,e.save(),this.glyph_props.fast_path?this._fast_path(e):this._full_path(e),e.restore()},t.prototype._fast_path=function(e){var t,n,r,i,s;if(this.do_fill){this.glyph_props.fill_properties.set(e,this.glyph_props);for(t=n=0,i=this.sx.length-1;0<=i?n<=i:n>=i;t=0<=i?++n:--n){if(isNaN(this.sx[t]+this.sy[t]+this.sw[t]+this.sh[t]+this.angle[t]))continue;e.translate(this.sx[t],this.sy[t]),e.rotate(this.angle[t]),e.beginPath(),e.moveTo(0,-this.sh[t]/2),e.bezierCurveTo(this.sw[t]/2,-this.sh[t]/2,this.sw[t]/2,this.sh[t]/2,0,this.sh[t]/2),e.bezierCurveTo(-this.sw[t]/2,this.sh[t]/2,-this.sw[t]/2,-this.sh[t]/2,0,-this.sh[t]/2),e.closePath(),e.fill(),e.rotate(-this.angle[t]),e.translate(-this.sx[t],-this.sy[t])}}if(this.do_fill){this.glyph_props.line_properties.set(e,this.glyph_props),e.beginPath();for(t=r=0,s=this.sx.length-1;0<=s?r<=s:r>=s;t=0<=s?++r:--r){if(isNaN(this.sx[t]+this.sy[t]+this.sw[t]+this.sh[t]+this.angle[t]))continue;e.translate(this.sx[t],this.sy[t]),e.rotate(this.angle[t]),e.moveTo(0,-this.sh[t]/2),e.bezierCurveTo(this.sw[t]/2,-this.sh[t]/2,this.sw[t]/2,this.sh[t]/2,0,this.sh[t]/2),e.bezierCurveTo(-this.sw[t]/2,this.sh[t]/2,-this.sw[t]/2,-this.sh[t]/2,0,-this.sh[t]/2),e.rotate(-this.angle[t]),e.translate(-this.sx[t],-this.sy[t])}return e.stroke()}},t.prototype._full_path=function(e){var t,n,r,i;i=[];for(t=n=0,r=this.sx.length-1;0<=r?n<=r:n>=r;t=0<=r?++n:--n){if(isNaN(this.sx[t]+this.sy[t]+this.sw[t]+this.sh[t]+this.angle[t]))continue;e.translate(this.sx[t],this.sy[t]),e.rotate(this.angle[t]),e.beginPath(),e.moveTo(0,-this.sh[t]/2),e.bezierCurveTo(this.sw[t]/2,-this.sh[t]/2,this.sw[t]/2,this.sh[t]/2,0,this.sh[t]/2),e.bezierCurveTo(-this.sw[t]/2,this.sh[t]/2,-this.sw[t]/2,-this.sh[t]/2,0,-this.sh[t]/2),e.closePath(),this.do_fill&&(this.glyph_props.fill_properties.set(e,this.data[t]),e.fill()),this.do_stroke&&(this.glyph_props.line_properties.set(e,this.data[t]),e.stroke()),e.rotate(-this.angle[t]),i.push(e.translate(-this.sx[t],-this.sy[t]))}return i},t}(r),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.default_view=s,t.prototype.type="GlyphRenderer",t}(n),i.prototype.display_defaults=_.clone(i.prototype.display_defaults),_.extend(i.prototype.display_defaults,{fill:"gray",fill_alpha:1,line_color:"red",line_width:1,line_alpha:1,line_join:"miter",line_cap:"butt",line_dash:[],line_dash_offset:0,angle:0}),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.model=i,t}(Backbone.Collection),e.ovals=new o,e.Oval=i,e.OvalView=s}).call(this)},"renderers/properties":function(e,t,n){(function(){var t,n,r,i,s,o=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},u={}.hasOwnProperty,a=function(e,t){function r(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};i=function(){function e(){}return e.prototype.string=function(e,t,n){var r,i;r=e.mget(n);if(!(n in t)){_.isString(r)?this[n]={"default":r}:console.log("string property '"+n+"' given invalid default value: "+r);return}i=t[n];if(_.isString(i))return this[n]={"default":i};if(!_.isObject(i))return console.log("string property '"+n+"' given invalid glyph value: "+i);this[n]=i;if(this[n]["default"]==null)return this[n]["default"]=r},e.prototype.number=function(e,t,n){var r,i,s,o;i=e.mget(n),r=(o=e.mget(n+"_units"))!=null?o:"data",n+"_units"in t&&(r=t[n+"_units"]);if(!(n in t)){_.isNumber(i)?this[n]={"default":i,units:r}:console.log("number property '"+n+"' given invalid default value: "+i);return}s=t[n];if(_.isString(s))return this[n]={field:s,"default":i,units:r};if(_.isNumber(s))return this[n]={"default":s,units:r};if(!_.isObject(s))return console.log("number property '"+n+"' given invalid glyph value: "+s);this[n]=s,this[n]["default"]==null&&(this[n]["default"]=i);if(this[n].units==null)return this[n].units=r},e.prototype.color=function(e,t,n){var r,i;r=e.mget(n);if(!(n in t)){_.isString(r)||_.isNull(r)?this[n]={"default":r}:console.log("color property '"+n+"' given invalid default value: "+r);return}i=t[n];if(_.isString(i)||_.isNull(i))return this[n]={"default":i};if(!_.isObject(i))return console.log("color property '"+n+"' given invalid glyph value: "+i);this[n]=i;if(this[n]["default"]==null)return this[n]["default"]=r},e.prototype.array=function(e,t,n){var r,i,s,o;i=e.mget(n),r=(o=e.mget(n+"_units"))!=null?o:"data",n+"_units"in t&&(r=t[n+"units"]);if(!(n in t)){_.isArray(i)?this[n]={"default":i,units:r}:console.log("array property '"+n+"' given invalid default value: "+i);return}s=t[n];if(_.isString(s))return this[n]={field:s,"default":i,units:r};if(_.isArray(s))return this[n]={"default":s,units:r};if(!_.isObject(s))return console.log("array property '"+n+"' given invalid glyph value: "+s);this[n]=s;if(this[n]["default"]==null)return this[n]["default"]=i},e.prototype["enum"]=function(e,t,n,r){var i,s,u;i=e.mget(n),u=r.split(" ");if(!(n in t)){_.isString(i)&&o.call(u,i)>=0?this[n]={"default":i}:(console.log("enum property '"+n+"' given invalid default value: "+i),console.log("    acceptable values:"+u));return}s=t[n];if(_.isString(s))return o.call(u,s)>=0?this[n]={"default":s}:this[n]={field:s,"default":i};if(!_.isObject(s))return console.log("enum property '"+n+"' given invalid glyph value: "+s),console.log("    acceptable values:"+u);this[n]=s;if(this[n]["default"]==null)return this[n]["default"]=i},e.prototype.setattr=function(e,t,n,r){var i,s;return i=null,r.indexOf(":")>-1&&(s=r.split(":"),r=s[0],i=s[1]),r==="string"?this.string(e,t,n):r==="number"?this.number(e,t,n):r==="color"?this.color(e,t,n):r==="array"?this.array(e,t,n):r==="enum"&&i?this["enum"](e,t,n,i):console.log("Unknown type '"+r+"' for glyph property: "+n)},e.prototype.select=function(e,t){if(e in this)return this[e].field!=null&&this[e].field in t?t[this[e].field]:t[e]?t[e]:this[e]["default"]!=null?this[e]["default"]:console.log("selection for attribute '"+e+" failed on object: "+t);console.log("requested unknown property '"+e+" on object: "+t);return},e.prototype.v_select=function(e,t){var n,r,i,s,o;if(e in this){i=new Array(t.length);for(n=s=0,o=t.length-1;0<=o?s<=o:s>=o;n=0<=o?++s:--s){r=t[n];if(this[e].field!=null)this[e].field in r&&(i[n]=r[this[e].field]);else if(r[e])i[n]=r[e];else{if(this[e]["default"]==null){console.log("vector selection for attribute '"+e+" failed on object: "+r);return}i[n]=this[e]["default"]}}return i}console.log("requested unknown property '"+e+" on objects");return},e}(),r=function(e){function t(e,t,n){n==null&&(n=""),this.line_color_name=""+n+"line_color",this.line_width_name=""+n+"line_width",this.line_alpha_name=""+n+"line_alpha",this.line_join_name=""+n+"line_join",this.line_cap_name=""+n+"line_cap",this.line_dash_name=""+n+"line_dash",this.line_dash_offset_name=""+n+"line_dash_offset",this.color(e,t,this.line_color_name),this.number(e,t,this.line_width_name),this.number(e,t,this.line_alpha_name),this["enum"](e,t,this.line_join_name,"miter round bevel"),this["enum"](e,t,this.line_cap_name,"butt round square"),this.array(e,t,this.line_dash_name),this.number(e,t,this.line_dash_offset_name),this.do_stroke=this.line_color["default"]!==null}return a(t,e),t.prototype.set=function(e,t){return e.strokeStyle=this.select(this.line_color_name,t),e.globalAlpha=this.select(this.line_alpha_name,t),e.lineWidth=this.select(this.line_width_name,t),e.lineJoin=this.select(this.line_join_name,t),e.lineCap=this.select(this.line_cap_name,t),e.setLineDash(this.select(this.line_dash_name,t)),e.setLineDashOffset(this.select(this.line_dash_offset_name,t))},t}(i),t=function(e){function t(e,t,n){n==null&&(n=""),this.fill_name=""+n+"fill",this.fill_alpha_name=""+n+"fill_alpha",this.color(e,t,this.fill_name),this.number(e,t,this.fill_alpha_name),this.do_fill=this.fill["default"]!==null}return a(t,e),t.prototype.set=function(e,t){return e.fillStyle=this.select(this.fill_name,t),e.globalAlpha=this.select(this.fill_alpha_name,t)},t}(i),s=function(e){function t(e,t,n){n==null&&(n=""),this.text_font_name=""+n+"text_font",this.text_font_size_name=""+n+"text_font_size",this.text_font_style_name=""+n+"text_font_style",this.text_color_name=""+n+"text_color",this.text_alpha_name=""+n+"text_alpha",this.text_align_name=""+n+"text_align",this.text_baseline_name=""+n+"text_baseline",this.string(e,t,this.text_font_name),this.string(e,t,this.text_font_size_name),this["enum"](e,t,this.text_font_style_name,"normal italic bold"),this.color(e,t,this.text_color_name),this.number(e,t,this.text_alpha_name),this["enum"](e,t,this.text_align_name,"left right center"),this["enum"](e,t,this.text_baseline_name,"top middle bottom")}return a(t,e),t.prototype.set=function(e,t){var n,r,i;return n=this.select(this.text_font_name,t),r=this.select(this.text_font_size_name,t),i=this.select(this.text_font_style_name,t),e.font=i+" "+r+" "+n,e.fillStyle=this.select(this.text_color_name,t),e.globalAlpha=this.select(this.text_alpha_name,t),e.textAlign=this.select(this.text_align_name,t),e.textBaseline=this.select(this.text_baseline_name,t)},t}(i),n=function(e){function t(e,t,n,r){var i,s,o,u,a,f,l,c;for(u=0,f=n.length;u<f;u++)i=n[u],s="number",i.indexOf(":")>-1&&(c=i.split(":"),i=c[0],s=c[1]),this.setattr(e,t,i,s);for(a=0,l=r.length;a<l;a++)o=r[a],this[o.constructor.name]=o;this.fast_path=!1,"fast_path"in t&&(this.fast_path=t.fast_path)}return a(t,e),t}(i),e.glyph_properties=n,e.fill_properties=t,e.line_properties=r,e.text_properties=s}).call(this)},"renderers/quad":function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c,h={}.hasOwnProperty,p=function(e,t){function r(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};c=t("./properties"),f=c.glyph_properties,l=c.line_properties,u=c.fill_properties,a=t("./glyph"),n=a.Glyph,r=a.GlyphView,s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.initialize=function(e){var n;return n=this.mget("glyphspec"),this.glyph_props=new f(this,n,["right","left","bottom","top"],[new u(this,n),new l(this,n)]),this.do_fill=this.glyph_props.fill_properties.do_fill,this.do_stroke=this.glyph_props.line_properties.do_stroke,t.__super__.initialize.call(this,e)},t.prototype._set_data=function(e){return this.data=e,this.left=this.glyph_props.v_select("left",e),this.top=this.glyph_props.v_select("top",e),this.right=this.glyph_props.v_select("right",e),this.bottom=this.glyph_props.v_select("bottom",e)},t.prototype._render=function(){var e,t,n;return t=this.map_to_screen(this.left,this.glyph_props.left.units,this.top,this.glyph_props.top.units),this.sx0=t[0],this.sy0=t[1],n=this.map_to_screen(this.right,this.glyph_props.right.units,this.bottom,this.glyph_props.bottom.units),this.sx1=n[0],this.sy1=n[1],e=this.plot_view.ctx,e.save(),this.glyph_props.fast_path?this._fast_path(e):this._full_path(e),e.restore()},t.prototype._fast_path=function(e){var t,n,r,i,s;if(this.do_fill){this.glyph_props.fill_properties.set(e,this.glyph_props),e.beginPath();for(t=n=0,i=this.sx0.length-1;0<=i?n<=i:n>=i;t=0<=i?++n:--n){if(isNaN(this.sx0[t]+this.sy0[t]+this.sx1[t]+this.sy1[t]))continue;e.rect(this.sx0[t],this.sy0[t],this.sx1[t]-this.sx0[t],this.sy1[t]-this.sy0[t])}e.fill()}if(this.do_stroke){this.glyph_props.line_properties.set(e,this.glyph_props),e.beginPath();for(t=r=0,s=this.sx0.length-1;0<=s?r<=s:r>=s;t=0<=s?++r:--r){if(isNaN(this.sx0[t]+this.sy0[t]+this.sx1[t]+this.sy1[t]))continue;e.rect(this.sx0[t],this.sy0[t],this.sx1[t]-this.sx0[t],this.sy1[t]-this.sy0[t])}return e.stroke()}},t.prototype._full_path=function(e){var t,n,r,i;i=[];for(t=n=0,r=this.sx0.length-1;0<=r?n<=r:n>=r;t=0<=r?++n:--n){if(isNaN(this.sx0[t]+this.sy0[t]+this.sx1[t]+this.sy1[t]))continue;e.beginPath(),e.rect(this.sx0[t],this.sy0[t],this.sx1[t]-this.sx0[t],this.sy1[t]-this.sy0[t]),this.do_fill&&(this.glyph_props.fill_properties.set(e,this.data[t]),e.fill()),this.do_stroke?(this.glyph_props.line_properties.set(e,this.data[t]),i.push(e.stroke())):i.push(void 0)}return i},t}(r),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.default_view=s,t.prototype.type="GlyphRenderer",t}(n),i.prototype.display_defaults=_.clone(i.prototype.display_defaults),_.extend(i.prototype.display_defaults,{fill:"gray",fill_alpha:1,line_color:"red",line_width:1,line_alpha:1,line_join:"miter",line_cap:"butt",line_dash:[],line_dash_offset:0}),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.model=i,t}(Backbone.Collection),e.quads=new o,e.Quad=i,e.QuadView=s}).call(this)},"renderers/ray":function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c={}.hasOwnProperty,h=function(e,t){function r(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};l=t("./properties"),a=l.glyph_properties,f=l.line_properties,u=t("./glyph"),n=u.Glyph,r=u.GlyphView,s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.initialize=function(e){var n;return n=this.mget("glyphspec"),this.glyph_props=new a(this,n,["x","y","angle","length"],[new f(this,n)]),this.do_stroke=this.glyph_props.line_properties.do_stroke,t.__super__.initialize.call(this,e)},t.prototype._set_data=function(e){var t;return this.data=e,this.x=this.glyph_props.v_select("x",e),this.y=this.glyph_props.v_select("y",e),this.angle=function(){var n,r,i;i=[];for(n=0,r=e.length;n<r;n++)t=e[n],i.push(this.glyph_props.select("angle",t));return i}.call(this),this.length=this.glyph_props.v_select("length",e)},t.prototype._render=function(){var e,t,n,r,i,s,o,u;o=this.map_to_screen(this.x,this.glyph_props.x.units,this.y,this.glyph_props.y.units),this.sx=o[0],this.sy=o[1],i=this.plot_view.viewstate.get("width"),t=this.plot_view.viewstate.get("height"),r=2*(i+t),this.slength=this.length.slice(0);for(n=s=0,u=this.slength.length-1;0<=u?s<=u:s>=u;n=0<=u?++s:--s)this.slength[n]===0&&(this.slength[n]=r);return e=this.plot_view.ctx,e.save(),this.glyph_props.fast_path?this._fast_path(e):this._full_path(e),e.restore()},t.prototype._fast_path=function(e){var t,n,r;if(this.do_stroke){this.glyph_props.line_properties.set(e,this.glyph_props),e.beginPath();for(t=n=0,r=this.sx.length-1;0<=r?n<=r:n>=r;t=0<=r?++n:--n){if(isNaN(this.sx[t]+this.sy[t]+this.angle[t]+this.slength[t]))continue;e.translate(this.sx[t],this.sy[t]),e.rotate(this.angle[t]),e.moveTo(0,0),e.lineTo(this.slength[t],0),e.rotate(-this.angle[t]),e.translate(-this.sx[t],-this.sy[t])}return e.stroke()}},t.prototype._full_path=function(e){var t,n,r,i;if(this.do_stroke){i=[];for(t=n=0,r=this.sx.length-1;0<=r?n<=r:n>=r;t=0<=r?++n:--n){if(isNaN(this.sx[t]+this.sy[t]+this.angle[t]+this.slength[t]))continue;e.translate(this.sx[t],this.sy[t]),e.rotate(this.angle[t]),e.beginPath(),e.moveTo(0,0),e.lineTo(this.slength[t],0),this.glyph_props.line_properties.set(e,this.data[t]),e.stroke(),e.rotate(-this.angle[t]),i.push(e.translate(-this.sx[t],-this.sy[t]))}return i}},t}(r),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.default_view=s,t.prototype.type="GlyphRenderer",t}(n),i.prototype.display_defaults=_.clone(i.prototype.display_defaults),_.extend(i.prototype.display_defaults,{line_color:"red",line_width:1,line_alpha:1,line_join:"miter",line_cap:"butt",line_dash:[],line_dash_offset:0}),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.model=i,t}(Backbone.Collection),e.rays=new o,e.Ray=i,e.RayView=s}).call(this)},"renderers/arc":function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c={}.hasOwnProperty,h=function(e,t){function r(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};l=t("./properties"),a=l.glyph_properties,f=l.line_properties,u=t("./glyph"),s=u.Glyph,o=u.GlyphView,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.initialize=function(e){var n;return n=this.mget("glyphspec"),this.glyph_props=new a(this,n,["x","y","radius","start_angle","end_angle","direction:string"],[new f(this,n)]),this.do_stroke=this.glyph_props.line_properties.do_stroke,t.__super__.initialize.call(this,e)},t.prototype._set_data=function(e){var t,n,r,i,s,o;this.data=e,this.x=this.glyph_props.v_select("x",e),this.y=this.glyph_props.v_select("y",e),this.start_angle=function(){var t,n,i;i=[];for(t=0,n=e.length;t<n;t++)r=e[t],i.push(this.glyph_props.select("start_angle",r));return i}.call(this),this.end_angle=function(){var t,n,i;i=[];for(t=0,n=e.length;t<n;t++)r=e[t],i.push(this.glyph_props.select("end_angle",r));return i}.call(this),this.direction=new Array(this.data.length),o=[];for(n=i=0,s=this.data.length-1;0<=s?i<=s:i>=s;n=0<=s?++i:--i)t=this.glyph_props.select("direction",e[n]),t==="clock"?o.push(this.direction[n]=!1):t==="anticlock"?o.push(this.direction[n]=!0):o.push(this.direction[n]=NaN);return o},t.prototype._render=function(){var e,t;return t=this.map_to_screen(this.x,this.glyph_props.x.units,this.y,this.glyph_props.y.units),this.sx=t[0],this.sy=t[1],this.radius=this.distance(this.data,"x","radius","edge"),e=this.plot_view.ctx,e.save(),this.glyph_props.fast_path?this._fast_path(e):this._full_path(e),e.restore()},t.prototype._fast_path=function(e){var t,n,r,i;if(this.do_stroke){this.glyph_props.line_properties.set(e,this.glyph_props),i=[];for(t=n=0,r=this.sx.length-1;0<=r?n<=r:n>=r;t=0<=r?++n:--n){if(isNaN(this.sx[t]+this.sy[t]+this.radius[t]+this.start_angle[t]+this.end_angle[t]+this.direction[t]))continue;e.beginPath(),e.arc(this.sx[t],this.sy[t],this.radius[t],this.start_angle[t],this.end_angle[t],this.direction[t]),i.push(e.stroke())}return i}},t.prototype._full_path=function(e){var t,n,r,i;if(this.do_stroke){i=[];for(t=n=0,r=this.sx.length-1;0<=r?n<=r:n>=r;t=0<=r?++n:--n){if(isNaN(this.sx[t]+this.sy[t]+this.radius[t]+this.start_angle[t]+this.end_angle[t]+this.direction[t]))continue;e.beginPath(),e.arc(this.sx[t],this.sy[t],this.radius[t],this.start_angle[t],this.end_angle[t],this.direction[t]),this.glyph_props.line_properties.set(e,this.data[t]),i.push(e.stroke())}return i}},t}(o),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.default_view=r,t.prototype.type="GlyphRenderer",t}(s),n.prototype.display_defaults=_.clone(n.prototype.display_defaults),_.extend(n.prototype.display_defaults,{line_color:"red",line_width:1,line_alpha:1,line_join:"miter",line_cap:"butt",line_dash:[],line_dash_offset:0}),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.model=n,t}(Backbone.Collection),e.arcs=new i,e.Arc=n,e.ArcView=r}).call(this)},"renderers/glyph":function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c,h={}.hasOwnProperty,p=function(e,t){function r(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};f=t("../base"),n=f.Collections,o=f.HasParent,a=f.PlotWidget,c=f.safebind,l=t("../mapper"),u=l.LinearMapper,i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.initialize=function(e){return t.__super__.initialize.call(this,e),this.set_xmapper(),this.set_ymapper(),this.need_set_data=!0},t.prototype.set_data=function(e){var t,n;e==null&&(e=!0),n=this.mget_obj("data_source"),n.type==="ObjectArrayDataSource"?t=n.get("data"):n.type==="ColumnDataSource"?t=n.datapoints():console.log("Unknown data source type: "+n.type),this._set_data(t);if(e)return this.request_render()},t.prototype.render=function(){return this.need_set_data&&(this.set_data(!1),this.need_set_data=!1),this._render()},t.prototype.bind_bokeh_events=function(){return c(this,this.model,"change",this.request_render),c(this,this.plot_view.viewstate,"change",this.request_render),c(this,this.mget_obj("data_source"),"change",this.set_data),c(this,this.model,"change:xdata_range",this.set_xmapper),c(this,this.model,"change:ydata_range",this.set_ymapper),c(this,this.mget_obj("xdata_range"),"change",this.request_render),c(this,this.mget_obj("ydata_range"),"change",this.request_render)},t.prototype.set_xmapper=function(){return this.xmapper=new u({},{data_range:this.mget_obj("xdata_range"),viewstate:this.plot_view.viewstate,screendim:"width"}),this.request_render()},t.prototype.set_ymapper=function(){return this.ymapper=new u({},{data_range:this.mget_obj("ydata_range"),viewstate:this.plot_view.viewstate,screendim:"height"}),this.request_render()},t.prototype.distance=function(e,t,n,r){var i,s,o,u,a,f,c,h,p,d,v;return f=this.glyph_props[t].units,h=this.glyph_props[n].units,t==="x"?l=this.xmapper:t==="y"&&(l=this.ymapper),n=function(){var t,r,i;i=[];for(t=0,r=e.length;t<r;t++)v=e[t],i.push(this.glyph_props.select(n,v));return i}.call(this),h==="screen"?n:(r==="center"?(s=function(){var e,t,r;r=[];for(e=0,t=n.length;e<t;e++)i=n[e],r.push(i/2);return r}(),c=function(){var n,r,i;i=[];for(n=0,r=e.length;n<r;n++)v=e[n],i.push(this.glyph_props.select(t,v));return i}.call(this),f==="screen"&&(c=l.v_map_data(c)),u=function(){var e,t,n;n=[];for(o=e=0,t=c.length-1;0<=t?e<=t:e>=t;o=0<=t?++e:--e)n.push(c[o]-s[o]);return n}(),a=function(){var e,t,n;n=[];for(o=e=0,t=c.length-1;0<=t?e<=t:e>=t;o=0<=t?++e:--e)n.push(c[o]+s[o]);return n}()):(u=function(){var n,r,i;i=[];for(n=0,r=e.length;n<r;n++)v=e[n],i.push(this.glyph_props.select(t,v));return i}.call(this),f==="screen"&&(u=l.v_map_data(u)),a=function(){var e,t,r;r=[];for(o=e=0,t=u.length-1;0<=t?e<=t:e>=t;o=0<=t?++e:--e)r.push(u[o]+n[o]);return r}()),p=l.v_map_screen(u),d=l.v_map_screen(a),function(){var e,t,n;n=[];for(o=e=0,t=p.length-1;0<=t?e<=t:e>=t;o=0<=t?++e:--e)n.push(d[o]-p[o]);return n}())},t.prototype.map_to_screen=function(e,t,n,r){var i,s;return t==="screen"?i=e.slice(0):(i=this.xmapper.v_map_screen(e),i=this.plot_view.viewstate.v_xpos(i)),r==="screen"?s=n.slice(0):(s=this.ymapper.v_map_screen(n),s=this.plot_view.viewstate.v_ypos(s)),[i,s]},t}(a),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t}(o),r.prototype.defaults=_.clone(r.prototype.defaults),_.extend(r.prototype.defaults,{data_source:null}),r.prototype.display_defaults=_.clone(r.prototype.display_defaults),_.extend(r.prototype.display_defaults,{radius_units:"screen",length_units:"screen",angle_units:"deg",start_angle_units:"deg",end_angle_units:"deg"}),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.model=r,t}(Backbone.Collection),e.glyphs=new s,e.GlyphView=i,e.Glyph=r}).call(this)},"renderers/line":function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c={}.hasOwnProperty,h=function(e,t){function r(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};l=t("./properties"),a=l.glyph_properties,f=l.line_properties,u=t("./glyph"),n=u.Glyph,r=u.GlyphView,s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.initialize=function(e){var n;return n=this.mget("glyphspec"),this.glyph_props=new a(this,n,["xs:array","ys:array"],[new f(this,n)]),this.do_stroke=this.glyph_props.line_properties.do_stroke,t.__super__.initialize.call(this,e)},t.prototype._set_data=function(e){this.data=e},t.prototype._render=function(){var e;return e=this.plot_view.ctx,e.save(),this.glyph_props.fast_path?this._fast_path(e):this._full_path(e),e.restore()},t.prototype._fast_path=function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p;if(this.do_stroke){this.glyph_props.line_properties.set(e,this.glyph_props),l=this.data,p=[];for(u=0,f=l.length;u<f;u++){n=l[u],s=this.glyph_props.select("xs",n),o=this.glyph_props.select("ys",n),c=this.map_to_screen(s,this.glyph_props.xs.units,o,this.glyph_props.ys.units),r=c[0],i=c[1];for(t=a=0,h=r.length-1;0<=h?a<=h:a>=h;t=0<=h?++a:--a){if(t===0){e.beginPath(),e.moveTo(r[t],i[t]);continue}if(isNaN(r[t])||isNaN(i[t])){e.stroke(),e.beginPath();continue}e.lineTo(r[t],i[t])}p.push(e.stroke())}return p}},t.prototype._full_path=function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p;if(this.do_stroke){l=this.data,p=[];for(u=0,f=l.length;u<f;u++){n=l[u],s=this.glyph_props.select("xs",n),o=this.glyph_props.select("ys",n),c=this.map_to_screen(s,this.glyph_props.xs.units,o,this.glyph_props.ys.units),r=c[0],i=c[1],this.glyph_props.line_properties.set(e,n);for(t=a=0,h=r.length-1;0<=h?a<=h:a>=h;t=0<=h?++a:--a){if(t===0){e.beginPath(),e.moveTo(r[t],i[t]);continue}if(isNaN(r[t])||isNaN(i[t])){e.stroke(),e.beginPath();continue}e.lineTo(r[t],i[t])}p.push(e.stroke())}return p}},t}(r),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.default_view=s,t.prototype.type="GlyphRenderer",t}(n),i.prototype.display_defaults=_.clone(i.prototype.display_defaults),_.extend(i.prototype.display_defaults,{line_color:"red",line_width:1,line_alpha:1,line_join:"miter",line_cap:"butt",line_dash:[],line_dash_offset:0}),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.model=i,t}(Backbone.Collection),e.lines=new o,e.Line=i,e.LineView=s}).call(this)},"renderers/annular_wedge":function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c,h={}.hasOwnProperty,p=function(e,t){function r(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};c=t("./properties"),f=c.glyph_properties,l=c.line_properties,u=c.fill_properties,a=t("./glyph"),s=a.Glyph,o=a.GlyphView,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.initialize=function(e){var n;return n=this.mget("glyphspec"),this.glyph_props=new f(this,n,["x","y","inner_radius","outer_radius","start_angle","end_angle","direction:string"],[new u(this,n),new l(this,n)]),this.do_fill=this.glyph_props.fill_properties.do_fill,this.do_stroke=this.glyph_props.line_properties.do_stroke,t.__super__.initialize.call(this,e)},t.prototype._set_data=function(e){var t,n,r,i,s,o,u,a;this.data=e,this.x=this.glyph_props.v_select("x",e),this.y=this.glyph_props.v_select("y",e),this.start_angle=function(){var t,n,i;i=[];for(t=0,n=e.length;t<n;t++)r=e[t],i.push(this.glyph_props.select("start_angle",r));return i}.call(this),this.end_angle=function(){var t,n,i;i=[];for(t=0,n=e.length;t<n;t++)r=e[t],i.push(this.glyph_props.select("end_angle",r));return i}.call(this),this.angle=new Array(this.start_angle.length);for(n=i=0,o=this.start_angle.length-1;0<=o?i<=o:i>=o;n=0<=o?++i:--i)this.angle[n]=this.end_angle[n]-this.start_angle[n];this.direction=new Array(this.data.length),a=[];for(n=s=0,u=this.data.length-1;0<=u?s<=u:s>=u;n=0<=u?++s:--s)t=this.glyph_props.select("direction",e[n]),t==="clock"?a.push(this.direction[n]=!1):t==="anticlock"?a.push(this.direction[n]=!0):a.push(this.direction[n]=NaN);return a},t.prototype._render=function(){var e,t;return t=this.map_to_screen(this.x,this.glyph_props.x.units,this.y,this.glyph_props.y.units),this.sx=t[0],this.sy=t[1],this.inner_radius=this.distance(this.data,"x","inner_radius","edge"),this.outer_radius=this.distance(this.data,"x","outer_radius","edge"),e=this.plot_view.ctx,e.save(),this.glyph_props.fast_path?this._fast_path(e):this._full_path(e),e.restore()},t.prototype._fast_path=function(e){var t,n,r,i,s;if(this.do_fill){this.glyph_props.fill_properties.set(e,this.glyph_props);for(t=n=0,i=this.sx.length-1;0<=i?n<=i:n>=i;t=0<=i?++n:--n){if(isNaN(this.sx[t]+this.sy[t]+this.inner_radius[t]+this.outer_radius[t]+this.start_angle[t]+this.end_angle[t]))continue;e.translate(this.sx[t],this.sy[t]),e.rotate(this.start_angle[t]),e.moveTo(this.outer_radius[t],0),e.beginPath(),e.arc(0,0,this.outer_radius[t],0,this.angle[t],this.direction[t]),e.rotate(this.angle[t]),e.lineTo(this.inner_radius[t],0),e.arc(0,0,this.inner_radius[t],0,-this.angle[t],!this.direction[t]),e.closePath(),e.fill(),e.rotate(-this.angle[t]-this.start_angle[t]),e.translate(-this.sx[t],-this.sy[t])}}if(this.do_stroke){this.glyph_props.line_properties.set(e,this.glyph_props),e.beginPath();for(t=r=0,s=this.sx.length-1;0<=s?r<=s:r>=s;t=0<=s?++r:--r){if(isNaN(this.sx[t]+this.sy[t]+this.inner_radius[t]+this.outer_radius[t]+this.start_angle[t]+this.end_angle[t]))continue;e.translate(this.sx[t],this.sy[t]),e.rotate(this.start_angle[t]),e.moveTo(this.outer_radius[t],0),e.arc(0,0,this.outer_radius[t],0,this.angle[t],this.direction[t]),e.rotate(this.angle[t]),e.lineTo(this.inner_radius[t],0),e.arc(0,0,this.inner_radius[t],0,-this.angle[t],!this.direction[t]),e.closePath(),e.rotate(-this.angle[t]-this.start_angle[t]),e.translate(-this.sx[t],-this.sy[t])}return e.stroke()}},t.prototype._full_path=function(e){var t,n,r,i;i=[];for(t=n=0,r=this.sx.length-1;0<=r?n<=r:n>=r;t=0<=r?++n:--n){if(isNaN(this.sx[t]+this.sy[t]+this.inner_radius[t]+this.outer_radius[t]+this.start_angle[t]+this.end_angle[t]))continue;e.translate(this.sx[t],this.sy[t]),e.rotate(this.start_angle[t]),e.moveTo(this.outer_radius[t],0),e.beginPath(),e.arc(0,0,this.outer_radius[t],0,this.angle[t],this.direction[t]),e.rotate(this.angle[t]),e.lineTo(this.inner_radius[t],0),e.arc(0,0,this.inner_radius[t],0,-this.angle[t],!this.direction[t]),e.closePath(),e.rotate(-this.angle[t]-this.start_angle[t]),e.translate(-this.sx[t],-this.sy[t]),this.do_fill&&(this.glyph_props.fill_properties.set(e,this.data[t]),e.fill()),this.do_stroke?(this.glyph_props.line_properties.set(e,this.data[t]),i.push(e.stroke())):i.push(void 0)}return i},t}(o),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.default_view=r,t.prototype.type="GlyphRenderer",t}(s),n.prototype.display_defaults=_.clone(n.prototype.display_defaults),_.extend(n.prototype.display_defaults,{fill:"gray",fill_alpha:1,line_color:"red",line_width:1,line_alpha:1,line_join:"miter",line_cap:"butt",line_dash:[],line_dash_offset:0}),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.model=n,t}(Backbone.Collection),e.annular_wedges=new i,e.AnnularWedge=n,e.AnnularWedgeView=r}).call(this)},"renderers/circle":function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c,h={}.hasOwnProperty,p=function(e,t){function r(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};c=t("./properties"),f=c.glyph_properties,l=c.line_properties,u=c.fill_properties,a=t("./glyph"),s=a.Glyph,o=a.GlyphView,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.initialize=function(e){var n;return n=this.mget("glyphspec"),this.glyph_props=new f(this,n,["x","y","radius"],[new u(this,n),new l(this,n)]),this.do_fill=this.glyph_props.fill_properties.do_fill,this.do_stroke=this.glyph_props.line_properties.do_stroke,t.__super__.initialize.call(this,e)},t.prototype._set_data=function(e){return this.data=e,this.x=this.glyph_props.v_select("x",e),this.y=this.glyph_props.v_select("y",e)},t.prototype._render=function(){var e,t;return t=this.map_to_screen(this.x,this.glyph_props.x.units,this.y,this.glyph_props.y.units),this.sx=t[0],this.sy=t[1],this.radius=this.distance(this.data,"x","radius","edge"),e=this.plot_view.ctx,e.save(),this.glyph_props.fast_path?this._fast_path(e):this._full_path(e),e.restore()},t.prototype._fast_path=function(e){var t,n,r,i,s,o;if(this.do_fill){this.glyph_props.fill_properties.set(e,this.glyph_props);for(t=n=0,i=this.sx.length-1;0<=i?n<=i:n>=i;t=0<=i?++n:--n){if(isNaN(this.sx[t]+this.sy[t]+this.radius[t]))continue;e.beginPath(),e.arc(this.sx[t],this.sy[t],this.radius[t],0,2*Math.PI*2,!1),e.fill()}}if(this.do_stroke){this.glyph_props.line_properties.set(e,this.glyph_props),o=[];for(t=r=0,s=this.sx.length-1;0<=s?r<=s:r>=s;t=0<=s?++r:--r){if(isNaN(this.sx[t]+this.sy[t]+this.radius[t]))continue;e.beginPath(),e.arc(this.sx[t],this.sy[t],this.radius[t],0,2*Math.PI*2,!1),o.push(e.stroke())}return o}},t.prototype._full_path=function(e){var t,n,r,i;i=[];for(t=n=0,r=this.sx.length-1;0<=r?n<=r:n>=r;t=0<=r?++n:--n){if(isNaN(this.sx[t]+this.sy[t]+this.radius[t]))continue;e.beginPath(),e.arc(this.sx[t],this.sy[t],this.radius[t],0,2*Math.PI*2,!1),this.do_fill&&(this.glyph_props.fill_properties.set(e,this.data[t]),e.fill()),this.do_stroke?(this.glyph_props.line_properties.set(e,this.data[t]),i.push(e.stroke())):i.push(void 0)}return i},t}(o),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.default_view=r,t.prototype.type="GlyphRenderer",t}(s),n.prototype.display_defaults=_.clone(n.prototype.display_defaults),_.extend(n.prototype.display_defaults,{fill:"gray",fill_alpha:1,line_color:"red",line_width:1,line_alpha:1,line_join:"miter",line_cap:"butt",line_dash:[],line_dash_offset:0}),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.model=n,t}(Backbone.Collection),e.circles=new i,e.Circle=n,e.CircleView=r}).call(this)},"renderers/wedge":function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c,h={}.hasOwnProperty,p=function(e,t){function r(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};c=t("./properties"),f=c.glyph_properties,l=c.line_properties,u=c.fill_properties,a=t("./glyph"),n=a.Glyph,r=a.GlyphView,s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.initialize=function(e){var n;return n=this.mget("glyphspec"),this.glyph_props=new f(this,n,["x","y","radius","start_angle","end_angle"],[new u(this,n),new l(this,n)]),this.do_fill=this.glyph_props.fill_properties.do_fill,this.do_stroke=this.glyph_props.line_properties.do_stroke,t.__super__.initialize.call(this,e)},t.prototype._set_data=function(e){var t;return this.data=e,this.x=this.glyph_props.v_select("x",e),this.y=this.glyph_props.v_select("y",e),this.start_angle=function(){var n,r,i;i=[];for(n=0,r=e.length;n<r;n++)t=e[n],i.push(this.glyph_props.select("start_angle",t));return i}.call(this),this.end_angle=function(){var n,r,i;i=[];for(n=0,r=e.length;n<r;n++)t=e[n],i.push(this.glyph_props.select("end_angle",t));return i}.call(this)},t.prototype._render=function(){var e,t;return t=this.map_to_screen(this.x,this.glyph_props.x.units,this.y,this.glyph_props.y.units),this.sx=t[0],this.sy=t[1],this.radius=this.distance(this.data,"x","radius","edge"),e=this.plot_view.ctx,e.save(),this.glyph_props.fast_path?this._fast_path(e):this._full_path(e),e.restore()},t.prototype._fast_path=function(e){var t,n,r,i,s,o;if(this.do_fill){this.glyph_props.fill_properties.set(e,this.glyph_props);for(t=n=0,i=this.sx.length-1;0<=i?n<=i:n>=i;t=0<=i?++n:--n){if(isNaN(this.sx[t]+this.sy[t]+this.radius[t]+this.start_angle[t]+this.end_angle[t]))continue;e.beginPath(),e.arc(this.sx[t],this.sy[t],this.radius[t],this.start_angle[t],this.end_angle[t],!1),e.lineTo(this.sx[t],this.sy[t]),e.closePath(),e.fill()}}if(this.do_stroke){this.glyph_props.line_properties.set(e,this.glyph_props),o=[];for(t=r=0,s=this.sx.length-1;0<=s?r<=s:r>=s;t=0<=s?++r:--r){if(isNaN(this.sx[t]+this.sy[t]+this.radius[t]+this.start_angle[t]+this.end_angle[t]))continue;e.beginPath(),e.arc(this.sx[t],this.sy[t],this.radius[t],this.start_angle[t],this.end_angle[t],!1),e.lineTo(this.sx[t],this.sy[t]),e.closePath(),o.push(e.stroke())}return o}},t.prototype._full_path=function(e){var t,n,r,i;i=[];for(t=n=0,r=this.sx.length-1;0<=r?n<=r:n>=r;t=0<=r?++n:--n){if(isNaN(this.sx[t]+this.sy[t]+this.radius[t]+this.start_angle[t]+this.end_angle[t]))continue;e.beginPath(),e.arc(this.sx[t],this.sy[t],this.radius[t],this.start_angle[t],this.end_angle[t],!1),e.lineTo(this.sx[t],this.sy[t]),e.closePath(),this.do_fill&&(this.glyph_props.fill_properties.set(e,this.data[t]),e.fill()),this.do_stroke?(this.glyph_props.line_properties.set(e,this.data[t]),i.push(e.stroke())):i.push(void 0)}return i},t}(r),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.default_view=s,t.prototype.type="GlyphRenderer",t}(n),i.prototype.display_defaults=_.clone(i.prototype.display_defaults),_.extend(i.prototype.display_defaults,{fill:"gray",fill_alpha:1,line_color:"red",line_width:1,line_alpha:1,line_join:"miter",line_cap:"butt",line_dash:[],line_dash_offset:0}),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.model=i,t}(Backbone.Collection),e.wedges=new o,e.Wedge=i,e.WedgeView=s}).call(this)},"renderers/image":function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c,h={}.hasOwnProperty,p=function(e,t){function r(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};c=t("./properties"),l=c.glyph_properties,a=t("../palettes/palettes").all_palettes,n=t("../color_mapper").ColorMapper,f=t("./glyph"),r=f.Glyph,i=f.GlyphView,o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.initialize=function(e){var n;return n=this.mget("glyphspec"),this.glyph_props=new l(this,n,["image:array","width","height","x","y","dw","dh","palette:string"],[]),t.__super__.initialize.call(this,e)},t.prototype._set_data=function(e){var t,r,i,s,o,u,f,l,c,h,p,d,v,m,g,y,b;this.data=e,this.x=this.glyph_props.v_select("x",e),this.y=this.glyph_props.v_select("y",e),u=this.glyph_props.v_select("dh",e);for(l=v=0,g=this.y.length-1;0<=g?v<=g:v>=g;l=0<=g?++v:--v)this.y[l]+=u[l];this.pal=this.glyph_props.v_select("palette",e),d=this.glyph_props.v_select("width",e),f=this.glyph_props.v_select("height",e),h=function(){var t,n,r;r=[];for(t=0,n=e.length;t<n;t++)p=e[t],r.push(this.glyph_props.select("image",p));return r}.call(this),this.image_data=new Array(e.length),b=[];for(l=m=0,y=e.length-1;0<=y?m<=y:m>=y;l=0<=y?++m:--m)i=document.createElement("canvas"),i.width=d[l],i.height=f[l],o=i.getContext("2d"),c=o.getImageData(0,0,d[l],f[l]),s=new n(a[this.pal[l]],0,10),t=s.v_map_screen(h[l]),r=new Uint8ClampedArray(t),c.data.set(r),o.putImageData(c,0,0),b.push(this.image_data[l]=i);return b},t.prototype._render=function(){var e,t,n,r,i,s,o;s=this.map_to_screen(this.x,this.glyph_props.x.units,this.y,this.glyph_props.y.units),this.sx=s[0],this.sy=s[1],this.sw=this.distance(this.data,"x","dw","edge"),this.sh=this.distance(this.data,"y","dh","edge"),e=this.plot_view.ctx,e.save(),n=e.getImageSmoothingEnabled(),e.setImageSmoothingEnabled(!1);for(t=i=0,o=this.sx.length-1;0<=o?i<=o:i>=o;t=0<=o?++i:--i){if(isNaN(this.sx[t]+this.sy[t]+this.sw[t]+this.sh[t]))continue;r=this.sy[t]+this.sh[t]/2,e.translate(0,r),e.scale(1,-1),e.translate(0,-r),e.drawImage(this.image_data[t],this.sx[t]|0,this.sy[t]|0,this.sw[t],this.sh[t]),e.scale(1,1)}return e.setImageSmoothingEnabled(n),e.restore()},t}(i),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.default_view=o,t.prototype.type="GlyphRenderer",t}(r),s.prototype.display_defaults=_.clone(s.prototype.display_defaults),_.extend(s.prototype.display_defaults,{}),u=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.model=s,t}(Backbone.Collection),e.images=new u,e.Image=s,e.ImageView=o}).call(this)},"renderers/primitives":function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y;n=t("./annular_wedge"),r=t("./annulus"),i=t("./arc"),s=t("./area"),o=t("./bezier"),u=t("./circle"),a=t("./image"),f=t("./imageuri"),l=t("./line"),c=t("./oval"),h=t("./quad"),p=t("./quadcurve"),d=t("./ray"),v=t("./rect"),m=t("./segment"),g=t("./text"),y=t("./wedge"),e.annular_wedge=n.AnnularWedge,e.annulus=r.Annulus,e.arc=i.Arc,e.area=s.Area,e.bezier=o.Bezier,e.circle=u.Circle,e.image=a.Image,e.imageuri=f.ImageURI,e.line=l.Line,e.oval=c.Oval,e.quad=h.Quad,e.quadcurve=p.Quadcurve,e.ray=d.Ray,e.rect=v.Rect,e.segment=m.Segment,e.text=g.Text,e.wedge=y.Wedge}).call(this)},"renderers/bezier":function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c={}.hasOwnProperty,h=function(e,t){function r(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};l=t("./properties"),a=l.glyph_properties,f=l.line_properties,u=t("./glyph"),s=u.Glyph,o=u.GlyphView,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.initialize=function(e){var n;return n=this.mget("glyphspec"),this.glyph_props=new a(this,n,["x0","y0","x1","y1","cx0","cy0","cx1","cy1"],[new f(this,n)]),this.do_stroke=this.glyph_props.line_properties.do_stroke,t.__super__.initialize.call(this,e)},t.prototype._set_data=function(e){return this.data=e,this.x0=this.glyph_props.v_select("x0",e),this.y0=this.glyph_props.v_select("y0",e),this.x1=this.glyph_props.v_select("x1",e),this.y1=this.glyph_props.v_select("y1",e),this.cx0=this.glyph_props.v_select("cx0",e),this.cy0=this.glyph_props.v_select("cy0",e),this.cx1=this.glyph_props.v_select("cx1",e),this.cy1=this.glyph_props.v_select("cy1",e)},t.prototype._render=function(){var e,t,n,r,i;return t=this.map_to_screen(this.x0,this.glyph_props.x0.units,this.y0,this.glyph_props.y0.units),this.sx0=t[0],this.sy0=t[1],n=this.map_to_screen(this.x1,this.glyph_props.x1.units,this.y1,this.glyph_props.y1.units),this.sx1=n[0],this.sy1=n[1],r=this.map_to_screen(this.cx0,this.glyph_props.cx0.units,this.cy0,this.glyph_props.cy0.units),this.scx0=r[0],this.scy0=r[1],i=this.map_to_screen(this.cx1,this.glyph_props.cx1.units,this.cy1,this.glyph_props.cy1.units),this.scx1=i[0],this.scy1=i[1],e=this.plot_view.ctx,e.save(),this.glyph_props.fast_path?this._fast_path(e):this._full_path(e),e.restore()},t.prototype._fast_path=function(e){var t,n,r;if(this.do_stroke){this.glyph_props.line_properties.set(e,this.glyph_props),e.beginPath();for(t=n=0,r=this.sx0.length-1;0<=r?n<=r:n>=r;t=0<=r?++n:--n){if(isNaN(this.sx0[t]+this.sy0[t]+this.sx1[t]+this.sy1[t]+this.scx0[t]+this.scy0[t]+this.scx1[t]+this.scy1[t]))continue;e.moveTo(this.sx0[t],this.sy0[t]),e.bezierCurveTo(this.scx0[t],this.scy0[t],this.scx1[t],this.scy1[t],this.sx1[t],this.sy1[t])}return e.stroke()}},t.prototype._full_path=function(e){var t,n,r,i;if(this.do_stroke){i=[];for(t=n=0,r=this.sx0.length-1;0<=r?n<=r:n>=r;t=0<=r?++n:--n){if(isNaN(this.sx0[t]+this.sy0[t]+this.sx1[t]+this.sy1[t]+this.scx0[t]+this.scy0[t]+this.scx1[t]+this.scy1[t]))continue;e.beginPath(),e.moveTo(this.sx0[t],this.sy0[t]),e.bezierCurveTo(this.scx0[t],this.scy0[t],this.scx1[t],this.scy1[t],this.sx1[t],this.sy1[t]),this.glyph_props.line_properties.set(e,this.data[t]),i.push(e.stroke())}return i}},t}(o),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.default_view=r,t.prototype.type="GlyphRenderer",t}(s),n.prototype.display_defaults=_.clone(n.prototype.display_defaults),_.extend(n.prototype.display_defaults,{line_color:"red",line_width:1,line_alpha:1,line_join:"miter",line_cap:"butt",line_dash:[],line_dash_offset:0}),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.model=n,t}(Backbone.Collection),e.beziers=new i,e.Bezier=n,e.BezierView=r}).call(this)},"renderers/glyph_renderer":function(e,t,n){(function(){var n,r,i,s,o,u={}.hasOwnProperty,a=function(e,t){function r(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};s=t("../base"),n=s.Collections,i=s.HasParent,o=t("./primitives"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.model=function(e,t){var n,r,i;if(((i=e.glyphspec)!=null?i.type:void 0)==null){console.log("missing type");return}r=e.glyphspec.type;if(r in o)return n=o[r],new n(e,t);console.log("Unknown type '"+e.type+"'");return},t}(Backbone.Collection),e.glyphrenderers=new r}).call(this)},"renderers/area":function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c,h={}.hasOwnProperty,p=function(e,t){function r(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};c=t("./properties"),f=c.glyph_properties,l=c.line_properties,u=c.fill_properties,a=t("./glyph"),s=a.Glyph,o=a.GlyphView,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.initialize=function(e){var n;return n=this.mget("glyphspec"),this.glyph_props=new f(this,n,["xs:array","ys:array"],[new u(this,n),new l(this,n)]),this.do_fill=this.glyph_props.fill_properties.do_fill,this.do_stroke=this.glyph_props.line_properties.do_stroke,t.__super__.initialize.call(this,e)},t.prototype._set_data=function(e){this.data=e},t.prototype._render=function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d;e=this.plot_view.ctx,e.save(),c=this.data;for(u=0,l=c.length;u<l;u++){n=c[u],s=this.glyph_props.select("xs",n),o=this.glyph_props.select("ys",n),h=this.map_to_screen(s,this.glyph_props.xs.units,o,this.glyph_props.ys.units),r=h[0],i=h[1];if(this.do_fill){this.glyph_props.fill_properties.set(e,n);for(t=a=0,p=r.length-1;0<=p?a<=p:a>=p;t=0<=p?++a:--a){if(t===0){e.beginPath(),e.moveTo(r[t],i[t]);continue}if(isNaN(r[t]+i[t])){e.closePath(),e.fill(),e.beginPath();continue}e.lineTo(r[t],i[t])}e.closePath(),e.fill()}if(this.do_stroke){this.glyph_props.line_properties.set(e,n);for(t=f=0,d=r.length-1;0<=d?f<=d:f>=d;t=0<=d?++f:--f){if(t===0){e.beginPath(),e.moveTo(r[t],i[t]);continue}if(isNaN(r[t]+i[t])){e.closePath(),e.stroke(),e.beginPath();continue}e.lineTo(r[t],i[t])}e.closePath(),e.stroke()}}return e.restore()},t}(o),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.default_view=r,t.prototype.type="GlyphRenderer",t}(s),n.prototype.display_defaults=_.clone(n.prototype.display_defaults),_.extend(n.prototype.display_defaults,{fill:"gray",fill_alpha:1,line_color:"red",line_width:1,line_alpha:1,line_join:"miter",line_cap:"butt",line_dash:[],line_dash_offset:0}),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.model=n,t}(Backbone.Collection),e.areas=new i,e.Area=n,e.AreaView=r}).call(this)},"renderers/quadcurve":function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c={}.hasOwnProperty,h=function(e,t){function r(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};l=t("./properties"),a=l.glyph_properties,f=l.line_properties,u=t("./glyph"),n=u.Glyph,r=u.GlyphView,s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.initialize=function(e){var n;return n=this.mget("glyphspec"),this.glyph_props=new a(this,n,["x0","y0","x1","y1","cx","cy"],[new f(this,n)]),this.do_stroke=this.glyph_props.line_properties.do_stroke,t.__super__.initialize.call(this,e)},t.prototype._set_data=function(e){return this.data=e,this.x0=this.glyph_props.v_select("x0",e),this.y0=this.glyph_props.v_select("y0",e),this.x1=this.glyph_props.v_select("x1",e),this.y1=this.glyph_props.v_select("y1",e),this.cx=this.glyph_props.v_select("cx",e),this.cy=this.glyph_props.v_select("cy",e)},t.prototype._render=function(){var e,t,n,r;return t=this.map_to_screen(this.x0,this.glyph_props.x0.units,this.y0,this.glyph_props.y0.units),this.sx0=t[0],this.sy0=t[1],n=this.map_to_screen(this.x1,this.glyph_props.x1.units,this.y1,this.glyph_props.y1.units),this.sx1=n[0],this.sy1=n[1],r=this.map_to_screen(this.cx,this.glyph_props.cx.units,this.cy,this.glyph_props.cy.units),this.scx=r[0],this.scy=r[1],e=this.plot_view.ctx,e.save(),this.glyph_props.fast_path?this._fast_path(e):this._full_path(e),e.restore()},t.prototype._fast_path=function(e){var t,n,r;if(this.do_stroke){this.glyph_props.line_properties.set(e,this.glyph_props),e.beginPath();for(t=n=0,r=this.sx0.length-1;0<=r?n<=r:n>=r;t=0<=r?++n:--n){if(isNaN(this.sx0[t]+this.sy0[t]+this.sx1[t]+this.sy1[t]+this.scx[t]+this.scy[t]))continue;e.moveTo(this.sx0[t],this.sy0[t]),e.quadraticCurveTo(this.scx[t],this.scy[t],this.sx1[t],this.sy1[t])}return e.stroke()}},t.prototype._full_path=function(e){var t,n,r,i;if(this.do_stroke){i=[];for(t=n=0,r=this.sx0.length-1;0<=r?n<=r:n>=r;t=0<=r?++n:--n){if(isNaN(this.sx0[t]+this.sy0[t]+this.sx1[t]+this.sy1[t]+this.scx[t]+this.scy[t]))continue;e.beginPath(),e.moveTo(this.sx0[t],this.sy0[t]),e.quadraticCurveTo(this.scx[t],this.scy[t],this.sx1[t],this.sy1[t]),this.glyph_props.line_properties.set(e,this.data[t]),i.push(e.stroke())}return i}},t}(r),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.default_view=s,t.prototype.type="GlyphRenderer",t}(n),i.prototype.display_defaults=_.clone(i.prototype.display_defaults),_.extend(i.prototype.display_defaults,{line_color:"red",line_width:1,line_alpha:1,line_join:"miter",line_cap:"butt",line_dash:[],line_dash_offset:0}),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.model=i,t}(Backbone.Collection),e.quadcurves=new o,e.Quadcurve=i,e.QuadcurveView=s}).call(this)},table:function(e,t,n){(function(){var n,r,i,s,o,u,a,f={}.hasOwnProperty,l=function(e,t){function r(){this.constructor=e}for(var n in t)f.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};u=t("./base"),n=u.ContinuumView,a=u.safebind,o=u.HasParent,i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.initialize=function(e){return t.__super__.initialize.call(this,e),a(this,this.model,"destroy",this.remove),a(this,this.model,"change",this.render),a(this,this.mget_obj("data_source"),"change",this.render),this.render()},t.prototype.className="div",t.prototype.render=function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x;t=this.mget_obj("data_source"),d="<table class='table table-striped table-bordered table-condensed' id='tableid_na'></table>",o="<thead></thead>",s="<th><%= column_name %></th>",c="<tr></tr>",r="<td><%= data %></td>",p=$(d),i=$(o),S=this.mget("columns");for(m=0,b=S.length;m<b;m++)e=S[m],u=_.template(s,{column_name:e}),i.append($(u));p.append(i),f=this.mget_obj("data_source").get("data"),t.get("selecting")?v=t.get("selected"):v=_.range(f.length);for(g=0,w=v.length;g<w;g++){a=v[g],h=f[a],l=$(c),x=this.mget("columns");for(y=0,E=x.length;y<E;y++)e=x[y],n=$(_.template(r,{data:h[e]})),l.append(n);p.append(l)}return this.$el.empty(),this.$el.html(p),this.$el.height(this.mget("height")),this.$el.width(this.mget("width")),this.$el.addClass("bokehtable")},t}(n),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.type="DataTable",t.prototype.initialize=function(e,n){return t.__super__.initialize.call(this,e,n)},t.prototype.defaults={data_source:null,columns:[]},t.prototype.default_view=i,t}(o),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.model=r,t}(Backbone.Collection),e.datatables=new s,e.DataTable=r,e.DataTableView=i}).call(this)},guides:function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y={}.hasOwnProperty,b=function(e,t){function r(){this.constructor=e}for(var n in t)y.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};d=t("./base"),g=t("./ticks"),m=d.safebind,n=d.HasParent,p=d.PlotWidget,v=t("./mapper"),h=v.LinearMapper,a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return b(t,e),t.prototype.initialize=function(e){return t.__super__.initialize.call(this,e),this.plot_view=e.plot_view,this.mget("orientation")==="top"||this.mget("orientation")==="bottom"?this.screendim="width":this.screendim="height",this.set_mapper()},t.prototype.bind_bokeh_events=function(){return m(this,this.plot_model,"change",this.request_render),m(this,this.model,"change",this.request_render),m(this,this.model,"change:data_range",this.set_mapper),m(this,this.mget_obj("data_range"),"change",this.request_render)},t.prototype.set_mapper=function(){return this.mapper=new h({},{data_range:this.mget_obj("data_range"),viewstate:this.plot_view.viewstate,screendim:this.screendim}),this.request_render()},t.prototype.tagName="div",t.prototype.get_offsets=function(e){var t;return t={x:0,y:0},e==="bottom"&&(t.y+=this.plot_view.viewstate.get("height")),t},t.prototype.get_tick_size=function(e){return _.isNull(this.mget("tickSize"))?e==="bottom"?-this.plot_view.viewstate.get("height"):-this.plot_view.viewstate.get("width"):this.mget("tickSize")},t.prototype.render=function(){var e,n;t.__super__.render.call(this),e="#ccc",this.plot_view.ctx.fillStyle=e,this.plot_view.ctx.strokeStyle=e;if((n=this.mget("orientation"))==="bottom"||n==="top"){this.render_x(),this.render_end();return}this.render_y(),this.render_end()},t.prototype.tick_label=function(e){return e.toString()},t.prototype.render_x=function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p;e=this.plot_view.x_can_ctx,n=this.mapper.data_range,i=g.auto_interval(n.get("start"),n.get("end")),u=n.get("end")-n.get("start"),c=this.mapper.get("scalestate")[0],o=1e4,p=g.auto_bounds(n.get("start"),n.get("end"),i),r=p[0],s=p[1],t=r,h=[],o=0,e.clearRect(0,0,this.plot_view.viewstate.get("width"),this.plot_view.viewstate.get("height"));while(t<=s)h.push(t),a=e.measureText(this.tick_label(t)).width,l=this.plot_view.viewstate.xpos(this.mapper.map_screen(t)),f=l-a/2,f>o&&(e.fillText(this.tick_label(t),f,20),o=f+a+10),this.plot_view.ctx.beginPath(),this.plot_view.ctx.moveTo(l,0),this.plot_view.ctx.lineTo(l,this.plot_view.viewstate.get("height")),this.plot_view.ctx.stroke(),t+=i;return e.stroke(),this.render_end()},t.prototype.DEFAULT_TEXT_HEIGHT=8,t.prototype.render_y=function(){var e,t,n,r,i,s,o,u,a,f,l,c,h;e=this.plot_view.y_can_ctx,n=this.mapper.data_range,i=g.auto_interval(n.get("start"),n.get("end")),u=n.get("end")-n.get("start"),l=this.mapper.get("scalestate")[0],h=g.auto_bounds(n.get("start"),n.get("end"),i),r=h[0],s=h[1],t=r,c=[],o=1e4,e.clearRect(0,0,this.plot_view.viewstate.get("width"),this.plot_view.viewstate.get("height"));while(t<=s)c.push(t),f=this.plot_view.viewstate.ypos(this.mapper.map_screen(t)),a=f+this.DEFAULT_TEXT_HEIGHT/2,f<o&&(e.fillText(this.tick_label(t),0,f),o=f+this.DEFAULT_TEXT_HEIGHT+10),this.plot_view.ctx.beginPath(),this.plot_view.ctx.moveTo(0,f),this.plot_view.ctx.lineTo(this.plot_view.viewstate.get("width"),f),this.plot_view.ctx.stroke(),t+=i;return e.stroke(),this.render_end()},t}(p),c=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return b(t,e),t.prototype.tick_label=function(e){var t,n,r;return r=this.mget_obj("data_range").get("start"),t=this.mget_obj("data_range").get("end"),n=864e5,e=new Date(e),Math.abs(t-r)>n*2?e.toLocaleDateString():e.toLocaleTimeString()},t}(a),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return b(t,e),t.prototype.render=function(){var e,n,r,i,s,o,u,a,f,l,c,h,p,d,v;t.__super__.render.call(this),e=this.plot_view.ctx,n=this.model.get("coords"),c=n[0],h=n[1],c<0?a=this.plot_view.viewstate.get("width")+c:a=c,h<0?f=this.plot_view.viewstate.get("height")+h:f=h,l=20,i=l*this.model.get("legends").length,u=100,s=a,o=f,e.strokeStyle="black",e.strokeRect(s,o,u,i),e.fillStyle="white",e.fillRect(s,o,u,i),e.strokeStyle="black",e.fillStyle="black",s+=5,o+=10,v=this.model.get("legends");for(p=0,d=v.length;p<d;p++)r=v[p],console.log("l.name",r.name,r,s,o),e.strokeStyle=r.color,e.fillStyle=r.color,e.fillText(r.name,s,o),o+=l;return e.stroke(),this.render_end(),null},t}(p),u=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return b(t,e),t.prototype.type="LinearAxis",t.prototype.default_view=a,t.prototype.display_defaults={tick_color:"#fff"},t}(n),u.prototype.defaults=_.clone(u.prototype.defaults),_.extend(u.prototype.defaults,{data_range:null,orientation:"bottom",ticks:10,ticksSubdivide:1,tickSize:null,tickPadding:3}),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return b(t,e),t.prototype.model=u,t}(Backbone.Collection),l=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return b(t,e),t.prototype.type="LinearDateAxis",t.prototype.default_view=c,t}(u),f=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return b(t,e),t.prototype.model=l,t}(Backbone.Collection),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return b(t,e),t.prototype.type="Legend",t.prototype.default_view=i,t.prototype.defaults={renderers:[],unselected_color:"#ccc",positions:{top_left:[20,20],top_right:[-80,20],bottom_left:[20,-60],bottom_right:[-80,-60]},position:"top_left"},t.prototype.initialize=function(e){var n;t.__super__.initialize.call(this,e),console.log("options",e),n=typeof e.position;if(n==="string")return this.set("coords",this.defaults.positions[e.position]);if(n==="object")return this.set("coords",e.position)},t}(n),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return b(t,e),t.prototype.model=r,t}(Backbone.Collection),e.linearaxes=new o,e.lineardateaxes=new f,e.legends=new s,e.LinearAxisView=a,e.LinearDateAxisView=c,e.LegendRendererView=i}).call(this)},container:function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x=function(e,t){return function(){return e.apply(t,arguments)}},T={}.hasOwnProperty,N=function(e,t){function r(){this.constructor=e}for(var n in t)T.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};w=t("./base"),a=w.HasParent,f=w.HasProperties,r=w.ContinuumView,S=w.safebind,E=w.build_views,n=t("./tools/activetoolmanager").ActiveToolManager,h=function(e){function t(){return this.removeplot=x(this.removeplot,this),this.closeall=x(this.closeall,this),this.savetitle=x(this.savetitle,this),t.__super__.constructor.apply(this,arguments)}return N(t,e),t.prototype.initialize=function(e){return this.views={},this.views_rendered=[!1],this.child_models=[],t.__super__.initialize.call(this,e),this.render()},t.prototype.delegateEvents=function(){return S(this,this.model,"destroy",this.remove),S(this,this.model,"change",this.render),t.__super__.delegateEvents.call(this)},t.prototype.generate_remove_child_callback=function(e){var t,n=this;return t=function(){return null},t},t.prototype.build_children=function(){var e;return e=E(this.views,this.mget_obj("children"),{}),window.pc_created_views=e,window.pc_views=this.views,null},t.prototype.events={"click .plotclose":"removeplot","click .closeall":"closeall","keydown .plottitle":"savetitle"},t.prototype.size_textarea=function(e){var t;return t=$(e).height(0).prop("scrollHeight"),$(e).height(t)},t.prototype.savetitle=function(e){var t,n;return e.keyCode===13?(e.preventDefault(),t=parseInt($(e.currentTarget).parent().attr("data-plot_num")),n=this.model.resolve_ref(this.mget("children")[t]),n.set("title",$(e.currentTarget).val()),n.save(),$(e.currentTarget).blur(),!1):this.size_textarea($(e.currentTarget))},t.prototype.closeall=function(e){return this.mset("children",[]),this.model.save()},t.prototype.removeplot=function(e){var t,n,r,i,s;return n=parseInt($(e.currentTarget).parent().attr("data-plot_num")),r=this.model.resolve_ref(this.mget("children")[n]),i=this.views[r.get("id")],i.remove(),t=function(){var e,t,n,r;n=this.mget("children"),r=[];for(e=0,t=n.length;e<t;e++)s=n[e],s.id!==i.model.id&&r.push(s);return r}.call(this),this.mset("children",t),this.model.save(),!1},t.prototype.render=function(){var e,n,r,i,s,o,u,a,f,l,c,h,p,d,v=this;t.__super__.render.call(this),this.build_children(),p=this.views;for(n in p){if(!T.call(p,n))continue;f=p[n],f.$el.detach()}this.$el.html(""),s=_.keys(this.views).length,this.$el.append("<div>You have "+s+" plots</div>"),this.$el.append("<div><a class='closeall' href='#'>Close All Plots</a></div>"),this.$el.append("<br/>"),a=[],o={},d=this.mget("children");for(e=c=0,h=d.length;c<h;e=++c)r=d[e],l=this.views[r.id],i=$("<div class='jsp' data-plot_num='"+e+"'></div>"),this.$el.append(i),u=l.model.get("title"),i.append($("<textarea class='plottitle'>"+u+"</textarea>")),i.append($("<a class='plotclose'>[close]</a>")),i.append(l.el);return _.defer(function(){var e,t,n,r,i;r=v.$el.find(".plottitle"),i=[];for(t=0,n=r.length;t<n;t++)e=r[t],i.push(v.size_textarea($(e)));return i}),null},t}(r),p=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return N(t,e),t.prototype.defaults={maxheight:600,maxwidth:600,selected:0},t}(f),d=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return N(t,e),t.prototype.initialize=function(e){var n=this;return this.selected=0,this.viewstate=new p({maxheight:e.maxheight,maxwidth:e.maxwidth}),t.__super__.initialize.call(this,e),S(this,this.viewstate,"change",this.render),S(this,this.model,"change:children",function(){var e;e=n.viewstate.get("selected");if(e>n.model.get("children")-1)return n.viewstate.set("selected",0)})},t.prototype.events={"click .maximize":"maximize","click .plotclose":"removeplot","click .closeall":"closeall","keydown .plottitle":"savetitle"},t.prototype.maximize=function(e){var t;return t=parseInt($(e.currentTarget).parent().attr("data-plot_num")),this.viewstate.set("selected",t)},t.prototype.render=function(){var e,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m=this;t.__super__.render.call(this),this.build_children(),d=this.views;for(n in d){if(!T.call(d,n))continue;l=d[n],l.$el.detach()}this.$el.html(""),r=$("<div class='plotsidebar'><div>"),this.$el.append(r),this.$el.append("<div class='maxplot'>"),r.append("<div><a class='closeall' href='#'>Close All Plots</a></div>"),r.append("<br/>"),f=[],u={},v=this.mget("children");for(e=h=0,p=v.length;h<p;e=++h)s=v[e],c=this.views[s.id],o=$("<div class='jsp' data-plot_num='"+e+"'></div>"),r.append(o),a=c.model.get("title"),o.append($("<textarea class='plottitle'>"+a+"</textarea>")),o.append($("<a class='maximize'>[max]</a>")),o.append($("<a class='plotclose'>[close]</a>")),o.append(c.el);return this.mget("children").length>0?(s=this.mget("children")[this.viewstate.get("selected")],i=this.model.resolve_ref(s),this.maxview=new i.default_view({model:i}),this.$el.find(".maxplot").append(this.maxview.$el)):this.maxview=null,_.defer(function(){var e,t,n,s,o,u,a,f,l,c,h,p,d;d=r.find(".plottitle");for(h=0,p=d.length;h<p;h++)f=d[h],m.size_textarea($(f));if(m.maxview)return l=i.get("width"),e=i.get("height"),s=m.viewstate.get("maxwidth"),n=m.viewstate.get("maxheight"),c=s/l,t=n/e,a=_.min([c,t]),u=a*l,o=a*e,m.maxview.viewstate.set("height",o),m.maxview.viewstate.set("width",u)}),null},t}(h),y=function(e){function t(){return this.removeplot=x(this.removeplot,this),t.__super__.constructor.apply(this,arguments)}return N(t,e),t.prototype.initialize=function(e){return this.views={},this.views_rendered=[!1],this.child_models=[],this.target_model_id=e.target_model_id,t.__super__.initialize.call(this,e),this.render()},t.prototype.delegateEvents=function(){return S(this,this.model,"destroy",this.remove),S(this,this.model,"change",this.render),t.__super__.delegateEvents.call(this)},t.prototype.generate_remove_child_callback=function(e){var t,n=this;return t=function(){return null},t},t.prototype.single_plot_children=function(){var e=this;return _.filter(this.mget_obj("children"),function(t){return t.id===e.target_model_id})},t.prototype.build_children=function(){var e;return e=E(this.views,this.single_plot_children(),{}),window.pc_created_views=e,window.pc_views=this.views,null},t.prototype.events={"click .plotclose":"removeplot"},t.prototype.removeplot=function(e){var t,n,r,i,s;return n=parseInt($(e.currentTarget).parent().attr("data-plot_num")),r=this.model.resolve_ref(this.mget("children")[n]),i=this.views[r.get("id")],i.remove(),t=function(){var e,t,n,r;n=this.mget("children"),r=[];for(e=0,t=n.length;e<t;e++)s=n[e],s.id!==i.model.id&&r.push(s);return r}.call(this),this.mset("children",t),this.model.save(),!1},t.prototype.render=function(){var e,n,r,i,s,o,u,a,f,l,c,h,p;t.__super__.render.call(this),this.build_children(),h=this.views;for(n in h){if(!T.call(h,n))continue;a=h[n],a.$el.detach()}this.$el.html(""),u=[],s={},p=this.single_plot_children();for(e=l=0,c=p.length;l<c;e=++l)r=p[e],console.log("modelref.id ",r.id),f=this.views[r.id],i=$("<div class='jsp' data-plot_num='"+e+"'></div>"),this.$el.append(i),o=f.model.get("title"),i.append($("<p>"+o+"</p>")),i.append(f.el);return null},t}(r),m=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return N(t,e),t.prototype.default_options={scale:1},t.prototype.view_options=function(){return _.extend({plot_model:this.model,plot_view:this},this.options)},t.prototype.build_renderers=function(){return E(this.renderers,this.mget_obj("renderers"),this.view_options())},t.prototype.build_axes=function(){return E(this.axes,this.mget_obj("axes"),this.view_options())},t.prototype.build_tools=function(){return E(this.tools,this.mget_obj("tools"),this.view_options())},t.prototype.build_overlays=function(){return E(this.overlays,this.mget_obj("overlays"),this.view_options())},t.prototype.bind_overlays=function(){var e,t,n,r,i;r=this.mget("overlays"),i=[];for(t=0,n=r.length;t<n;t++)e=r[t],i.push(this.overlays[e.id].bind_events(this));return i},t.prototype.bind_tools=function(){var e,t,n,r,i;r=this.mget("tools"),i=[];for(t=0,n=r.length;t<n;t++)e=r[t],i.push(this.tools[e.id].bind_events(this));return i},t.prototype.tagName="div",t.prototype.events={"mousemove .main_can_wrapper":"_mousemove","mousedown .main_can_wrapper":"_mousedown"},t.prototype._mousedown=function(e){var t,n,r,i,s;i=this.mousedownCallbacks,s=[];for(n=0,r=i.length;n<r;n++)t=i[n],s.push(t(e,e.layerX,e.layerY));return s},t.prototype._mousemove=function(e){var t,n,r,i,s;i=this.moveCallbacks,s=[];for(n=0,r=i.length;n<r;n++)t=i[n],s.push(t(e,e.layerX,e.layerY));return s},t.prototype.initialize=function(e){var r,i,s,o,u;return this.throttled=_.throttle(this.render_deferred_components,50),t.__super__.initialize.call(this,_.defaults(e,this.default_options)),s=e.height?e.height:this.mget("height"),u=e.width?e.width:this.mget("width"),o=e.offset?e.offset:this.mget("offset"),e.border_space?i=e.border_space:i=this.mget("border_space"),this.viewstate=new b({height:s,width:u,offset:o,border_space:i}),this.renderers={},this.axes={},this.tools={},this.overlays={},this.eventSink=_.extend({},Backbone.Events),r=new n(this.eventSink),this.moveCallbacks=[],this.mousedownCallbacks=[],this.keydownCallbacks=[],this.render_init(),this.render(),this.build_subviews(),this.throttled(),this},t.prototype.render_init=function(){return this.$el.append($("<div class='button_bar'/>\n<div class='all_can_wrapper'>\n\n  <div class='main_can_wrapper can_wrapper'>\n    <div class='_shader' />\n    <canvas class='main_can'></canvas>\n  </div>\n  <div class='x_can_wrapper can_wrapper'>\n      <canvas class='x_can'></canvas>\n  </div>\n  <div class='y_can_wrapper can_wrapper'>\n    <canvas class='y_can'></canvas>\n  </div>\n</div>")),this.$el.addClass("plot_wrap"),this.canvas=this.$el.find("canvas.main_can"),this.x_can=this.$el.find("canvas.x_can")[0],this.y_can=this.$el.find("canvas.y_can")[0],this.main_can_wrapper=this.$el.find(".main_can_wrapper"),this.x_can_wrapper=this.$el.find(".x_can_wrapper"),this.y_can_wrapper=this.$el.find(".y_can_wrapper")},t.prototype.build_subviews=function(){return this.build_renderers(),this.build_axes(),this.build_tools(),this.build_overlays(),this.bind_tools(),this.bind_overlays()},t.prototype.bind_bokeh_events=function(){var e=this;return S(this,this.viewstate,"change",this.render),S(this,this.model,"change:renderers",this.build_renderers),S(this,this.model,"change:axes",this.build_axes),S(this,this.model,"change:tools",this.build_tools),S(this,this.model,"change",this.render),S(this,this.viewstate,"change",this.render),S(this,this.model,"destroy",function(){return e.remove()})},t.prototype.render=function(){var e,n,r,i,s,o,u,a,f,l,c,h;return i=this.viewstate.get("height"),c=this.viewstate.get("width"),n=this.viewstate.get("border_space"),u=this.viewstate.get("outerheight"),a=this.viewstate.get("outerwidth"),t.__super__.render.call(this),this.$el.attr("width",a).attr("height",u),e=n,h=this.x_can_wrapper,f=c,r=i,o=a,s=u,this.main_can_wrapper.attr("style","left:"+e+"px; height:"+r+"px; width:"+f+"px"),this.x_can_wrapper.attr("style","left:"+e+"px; top:"+r+"px; height:"+e+"px; width:"+f+"px"),this.y_can_wrapper.attr("style","width:"+e+"px; height:"+r+"px;"),this.$el.attr("style","height:"+s+"px; width:"+o+"px"),l=function(e,t,n){return $(e).attr("width",t),$(e).attr("height",n)},l(this.canvas,f,r),l(this.x_can,f,e),l(this.y_can,e,r),this.x_can_ctx=this.x_can.getContext("2d"),this.y_can_ctx=this.y_can.getContext("2d"),this.ctx=this.canvas[0].getContext("2d"),this.render_end()},t.prototype.render_deferred_components=function(e){var t,n,r,i,s;t=_.flatten(_.map([this.tools,this.axes,this.renderers,this.overlays],_.values)),this.ctx.clearRect(0,0,this.viewstate.get("width"),this.viewstate.get("height")),s=[];for(r=0,i=t.length;r<i;r++)n=t[r],s.push(n.render());return s},t}(r),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return N(t,e),t.prototype.tagName="div",t.prototype.className="gridplot_container",t.prototype.default_options={scale:1},t.prototype.set_child_view_states=function(){var e,t,n,r,i,s,o;n=[],o=this.mget("children");for(i=0,s=o.length;i<s;i++)e=o[i],t=function(){var t,n,i;i=[];for(t=0,n=e.length;t<n;t++)r=e[t],i.push(this.childviews[r.id].viewstate);return i}.call(this),n.push(t);return this.viewstate.set("childviewstates",n)},t.prototype.initialize=function(e){return t.__super__.initialize.call(this,_.defaults(e,this.default_options)),this.viewstate=new u,this.childviews={},this.build_children(),this.render(),this},t.prototype.bind_bokeh_events=function(){var e=this;return S(this,this.model,"change:children",this.build_children),S(this,this.model,"change",this.render),S(this,this.viewstate,"change",this.render),S(this,this.model,"destroy",function(){return e.remove()})},t.prototype.b_events={"change:children model":"build_children","change model":"render","change viewstate":"render","destroy model":"remove"},t.prototype.build_children=function(){var e,t,n,r,i,s,o,u;e=[],u=this.mget_obj("children");for(r=0,s=u.length;r<s;r++){n=u[r];for(i=0,o=n.length;i<o;i++)t=n[i],e.push(t)}return E(this.childviews,e,{}),this.set_child_view_states()},t.prototype.render=function(){var e,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T;t.__super__.render.call(this),x=_.values(this.childviews);for(g=0,w=x.length;g<w;g++)c=x[g],c.$el.detach();this.$el.html(""),l=this.viewstate.get("layout_heights"),n=this.viewstate.get("layout_widths"),v=[0],_.reduceRight(l.slice(1),function(e,t){var n;return n=e+t,v.push(n),n},0),v.reverse(),p=[0],_.reduce(n.slice(0),function(e,t){var n;return n=e+t,p.push(n),n},0),s=[],i=null,T=this.mget("children");for(a=y=0,E=T.length;y<E;a=++y){f=T[a];for(e=b=0,S=f.length;b<S;e=++b)u=f[e],c=this.childviews[u.id],m=this.viewstate.position_child_y(c.viewstate.get("outerheight"),v[a]),d=this.viewstate.position_child_x(c.viewstate.get("outerwidth"),p[e]),o=$("<div class='gp_plotwrapper'></div>"),o.attr("style","left:"+d+"px; top:"+m+"px"),o.append(c.$el),this.$el.append(o)}return r=this.viewstate.get("outerheight"),h=this.viewstate.get("outerwidth"),this.$el.attr("style","height:"+r+"px;width:"+h+"px"),this.render_end()},t}(r),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return N(t,e),t.prototype.type="GridPlotContainer",t.prototype.default_view=s,t}(a),i.prototype.defaults=_.clone(i.prototype.defaults),_.extend(i.prototype.defaults,{children:[[]],border_space:0}),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return N(t,e),t.prototype.model=i,t}(Backbone.Collection),l=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return N(t,e),t.prototype.type="Plot",t.prototype.default_view=m,t.prototype.parent_properties=["background_color","foreground_color","width","height","border_space","unselected_color"],t}(a),l.prototype.defaults=_.clone(l.prototype.defaults),_.extend(l.prototype.defaults,{data_sources:{},renderers:[],axes:[],legends:[],tools:[],overlays:[],usedialog:!1,title:"Plot"}),l.prototype.display_defaults=_.clone(l.prototype.display_defaults),_.extend(l.prototype.display_defaults,{background_color:"#eee",foreground_color:"#333",unselected_color:"#ccc"}),g=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return N(t,e),t.prototype.model=l,t}(Backbone.Collection),c=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return N(t,e),t.prototype.type="PlotContext",t.prototype.default_view=h,t.prototype.url=function(){return t.__super__.url.call(this)},t.prototype.defaults={children:[],render_loop:!0},t}(a),v=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return N(t,e),t.prototype.model=c,t}(Backbone.Collection),b=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return N(t,e),t.prototype.initialize=function(e,n){return t.__super__.initialize.call(this,e,n),this.register_property("outerwidth",function(){return this.get("width")+2*this.get("border_space")},!1),this.add_dependencies("outerwidth",this,["width","border_space"]),this.register_property("outerheight",function(){return this.get("height")+2*this.get("border_space")},!1),this.add_dependencies("outerheight",this,["height","border_space"])},t.prototype.xpos=function(e){return e},t.prototype.ypos=function(e){return this.get("height")-e},t.prototype.v_xpos=function(e){return e.slice(0)},t.prototype.v_ypos=function(e){var t,n,r,i,s,o;t=this.get("height"),r=new Array(e.length);for(n=s=0,o=e.length;s<o;n=++s)i=e[n],r[n]=t-i;return r},t.prototype.rxpos=function(e){return e},t.prototype.rypos=function(e){return this.get("height")-e},t.prototype.position_child_x=function(e,t){return this.xpos(t)},t.prototype.position_child_y=function(e,t){return this.ypos(t)-e},t.prototype.defaults={parent:null},t.prototype.display_defaults={width:200,height:200,position:0,offset:[0,0],border_space:30},t}(a),u=function(e){function t(){return this.layout_widths=x(this.layout_widths,this),this.layout_heights=x(this.layout_heights,this),this.setup_layout_properties=x(this.setup_layout_properties,this),t.__super__.constructor.apply(this,arguments)}return N(t,e),t.prototype.setup_layout_properties=function(){var e,t,n,r,i,s;this.register_property("layout_heights",this.layout_heights,!0),this.register_property("layout_widths",this.layout_widths,!0),i=this.get("childviewstates"),s=[];for(n=0,r=i.length;n<r;n++)e=i[n],s.push(function(){var n,r,i;i=[];for(n=0,r=e.length;n<r;n++)t=e[n],this.add_dependencies("layout_heights",t,"outerheight"),i.push(this.add_dependencies("layout_widths",t,"outerwidth"));return i}.call(this));return s},t.prototype.initialize=function(e,n){return t.__super__.initialize.call(this,e,n),this.setup_layout_properties(),S(this,this,"change:childviewstates",this.setup_layout_properties),this.register_property("height",function(){return _.reduce(this.get("layout_heights"),function(e,t){return e+t},0)},!0),this.add_dependencies("height",this,"layout_heights"),this.register_property("width",function(){return _.reduce(this.get("layout_widths"),function(e,t){return e+t},0)},!0),this.add_dependencies("width",this,"layout_widths")},t.prototype.maxdim=function(e,t){return t.length===0?0:_.max(_.map(t,function(t){return t.get(e)}))},t.prototype.layout_heights=function(){var e,t;return t=function(){var t,n,r,i;r=this.get("childviewstates"),i=[];for(t=0,n=r.length;t<n;t++)e=r[t],i.push(this.maxdim("outerheight",e));return i}.call(this),t},t.prototype.layout_widths=function(){var e,t,n,r,i,s;return i=this.get("childviewstates")[0].length,n=function(){var e,t,n,o;n=_.range(i),o=[];for(e=0,t=n.length;e<t;e++)r=n[e],o.push(function(){var e,t,n,i;n=this.get("childviewstates"),i=[];for(e=0,t=n.length;e<t;e++)s=n[e],i.push(s[r]);return i}.call(this));return o}.call(this),t=function(){var t,r,i;i=[];for(t=0,r=n.length;t<r;t++)e=n[t],i.push(this.maxdim("outerwidth",e));return i}.call(this),t},t}(b),u.prototype.defaults=_.clone(u.prototype.defaults),_.extend(u.prototype.defaults,{childviewstates:[[]],border_space:0}),e.gridplotcontainers=new o,e.plots=new g,e.plotcontexts=new v,e.PlotContextView=h,e.PlotContextViewState=p,e.PlotContextViewWithMaximized=d,e.SinglePlotContextView=y,e.PlotView=m,e.GridPlotContainerView=s,e.GridPlotContainer=i,e.Plot=l,e.PlotContext=c,e.ViewState=b,e.GridViewState=u}).call(this)},editortemplate:function(e,t,n){n.exports=function(e){e||(e={});var t=[],n=function(e){var n=t,r;return t=[],e.call(this),r=t.join(""),t=n,i(r)},r=function(e){return e&&e.ecoSafe?e:typeof e!="undefined"&&e!=null?o(e):""},i,s=e.safe,o=e.escape;return i=e.safe=function(e){if(e&&e.ecoSafe)return e;if(typeof e=="undefined"||e==null)e="";var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){t.push('<div class="editor-toolbar">\n  <div class="editor-tab"></div>\n  <div class=\'editor-buttons\'>\n    <button class="save btn btn-small">Save</button>\n    <button class="save_as btn btn-small">Save As</button>\n    <button class="execute_file btn btn-small">Execute</button>\n  </div>\n</div>\n<div class="editor">\n</div>\n')}).call(this)}.call(e),e.safe=s,e.escape=o,t.join("")}},editor_class:function(e,t,n){(function(){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g={}.hasOwnProperty,y=function(e,t){function r(){this.constructor=e}for(var n in t)g.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},b=function(e,t){return function(){return e.apply(t,arguments)}};h=t("./filetemplate"),p=t("./gateone/gateone_lib"),m=p.runScript,c=function(e,t){return e.slice(-1*t.length)===t},v=function(e,t,n){var r;r=window.prompt(e,t);if($.browser.safari&&r==="")return;return r===n?v(e,t,n):r},d=function(e){return e},o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return y(t,e),t.prototype.idAttribute="path",t.prototype.defaults={name:"",path:"",dirpath:"",is_modified:!1,isdir:!1,size:"",content:""},t.prototype.fetch=function(e){var t=this;return $.get("/editor/read_file",{path:this.get("path")}).done(function(n){t.set(n),t.set("is_modified",!1);if(e&&e.success)return e.success(n)})},t.prototype.content_save=function(e){var t=this;return $.post("/editor/write_file",{path:this.get("path"),content:this.get("content")}).done(function(n){t.set("is_modified",!1);if(e&&e.success)return e.success(n)})},t}(Backbone.Model),f=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return y(t,e),t.prototype.initialize=function(e,t){return this.key=t.key,this.on("add",this.save_to_localstorage,this),this.on("remove",this.save_to_localstorage,this),this.on("add")},t.prototype.model=o,t.prototype.save_to_localstorage=function(){var e;return e=this.pluck("path"),localStorage.setItem(this.key,JSON.stringify(e))},t.prototype.fetch=function(){var e,t,n,r,i,s=this;return n=JSON.parse(localStorage.getItem(this.key)),!n||n.length===0?t=[]:t=_.map(n,function(e){return new s.model({path:e})}),this.add(t),i=$.Deferred(),r=i.promise(),e=_.map(t,function(e){return e.fetch().fail(function(){return s.remove(e)})}),$.when.apply($,e).always(function(){return i.resolve()}),r},t}(Backbone.Collection),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return y(t,e),t.prototype.initialize=function(e,t){t?this.path=t.path?t.path:"":this.path=""},t.prototype.model=o,t.prototype.fetch=function(e){var t=this;return $.get("/editor/directory",{path:e.path}).done(function(n){return e.success&&e.success(n),t.reset(n)}).error(function(){},e.error?e.error():void 0)},t.prototype.navigate=function(e){var t=this;return e=_.isUndefined(e)?this.path:e,e=_.isUndefined(e)?"":e,this.fetch({path:e,success:function(){return t.path=e}})},t.prototype.goback=function(){var e=this;return this.path?$.get("/editor/goback",{path:this.path}).done(function(t){return e.navigate(t.path)}):alert("cannot go back, already at the root")},t.prototype.goforward=function(e){var t=this;return $.get("/editor/goforward",{path:this.path,name:e}).done(function(e){return t.navigate(e.path)})},t.prototype.select=function(e){var t,n,r,i;i=this.models;for(n=0,r=i.length;n<r;n++)t=i[n],t.set("selected",!1);return e.set("selected",!0),this.trigger("selected",e)},t}(f),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return y(t,e),t.prototype.tagName="table",t.prototype.events={"click .gobackrow":"goback"},t.prototype.goback=function(){return this.collection.goback()},t.prototype.initialize=function(e){return this.views=[],this.filemanager=e.filemanager,this.collection=e.collection,this.collection.on("reset",this.render,this),this.template=_.template($("#directory-template").html()),this.ignore_suffix=e.ignore_suffix,this.ignore_prefix=e.ignore_prefix,null},t.prototype.isignore=function(e){var t,n;return t=function(t){return e.indexOf(t,e.length-t.length)!==-1},n=function(t){return e.indexOf(t)===0},this.ignore_prefix&&_.any(_.map(this.ignore_prefix,n))?!0:this.ignore_suffix&&_.any(_.map(this.ignore_suffix,t))?!0:!1},t.prototype.remove=function(){return this.collection.off(null,null,this)},t.prototype.render=function(){var e,t,n,r,i,s,o,u,f,l,c,h,p,d,v,m,g,y=this;m=this.views;for(h=0,d=m.length;h<d;h++)c=m[h],c.remove();this.views=[],this.$el.html(""),this.$el.addClass("table"),this.$el.addClass("fixed-table"),f=this.collection.path,e=!0,f===""&&(f="~/",e=!1),s=this.template({path:this.collection.path,cangoback:e,emptydirectory:this.collection.models.length===0}),this.$el.html(s),this.$el.prepend('<colgroup><col span="1" style="width: 20px;">               <col span="1" style="width: 100%;">               <col span="1" style="width: 50px;">            </colgroup>'),n=this.collection.groupBy(function(e){return e.attributes.isdir}),g=[n[!0],n[!1]],t=g[0],r=g[1],l=function(e){return _.sortBy(e,function(e){return e.attributes.name.toLowerCase()})},i=_.flatten([l(t),l(r)]),u=_.filter(i,function(e){return!y.isignore(e.get("name"))});for(p=0,v=u.length;p<v;p++)o=u[p],c=new a({directory_view:this,model:o}),this.views.push(c),this.$el.append(c.$el);return null},t}(Backbone.View),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return y(t,e),t.prototype.tagName="tr",t.prototype.attributes={"class":"fileview"},t.prototype.initialize=function(e){return this.directory_view=e.directory_view,this.render(),this.model.on("change",this.render,this)},t.prototype.events={click:"select"},t.prototype.select=function(){return this.model.get("selected")?this.open():this.directory_view.collection.select(this.model)},t.prototype.open=function(){return this.model.get("isdir")?this.directory_view.collection.goforward(this.model.get("name")):this.model.get("name").slice(-5)==="ipynb"?this.directory_view.filemanager.app.open_relative_notebook(this.model.get("path"),this.model.get("name")):this.directory_view.filemanager.add_editor(this.model.get("path"))},t.prototype.remove=function(){return this.model.off(null,null,this)},t.prototype.friendly_filesize=function(e){var t,n,r;return e===0?0:(n=[["TB",1099511627776],["GB",1073741824],["MB",1048576],["kB",1024],["b",1]],t=_.find(n,function(t){return e/t[1]>=1}),r=Math.round(10*e/t[1])/10,""+r+" "+t[0])},t.prototype.render=function(){var e,t;return e={selected:this.model.get("selected"),name:this.model.get("name"),isdir:this.model.get("isdir"),isbundle:this.model.get("isbundle"),size:this.model.get("isdir")?"":this.friendly_filesize(this.model.get("size"))},this.model.get("selected")?this.$el.addClass("fileselected"):this.$el.removeClass("fileselected"),t=h(e),this.$el.html(t)},t}(Backbone.View),u=function(e){function i(){return this.load_dir=b(this.load_dir,this),this.get_selected_file=b(this.get_selected_file,this),this.get_selected_file_model=b(this.get_selected_file_model,this),this.download_file=b(this.download_file,this),i.__super__.constructor.apply(this,arguments)}return y(i,e),i.prototype.prevent_submit=function(e){return e.preventDefault(),!1},i.prototype.start_upload=function(){return this.$upload_controls.addClass("uploading"),this.$upload_el.data("uploadifive").settings.formData={cwd:this.directory.path},this.$upload_el.uploadifive("upload")},i.prototype.events={"click .mkdir":"mkdir","click .delete":"delete_file","click .download_file":"download_file","click .new_file":"new_file","click .upload_button":"toggle_upload_visibility","click .refresh":function(){return this.load_dir()},"submit .form":"prevent_submit","click .start_upload":"start_upload","click .share":"share","click .web_import":"web_import"},i.prototype.share=function(){var e;e=this.get_selected_file_model();if(!e)return;return c(e.get("name"),"ipynb")?this.app.share(e.get("name"),e.get("path"),"notebook"):e.get("isdir")&&this.app.share(e.get("name"),e.get("path"),"directory"),!1},i.prototype.web_import=function(){var e,n=this;e=t("./importmodaltemplate");if($(".web_import").prop("disabled"))return;return $("#backbonemodal").html(e),$("#backbonemodal").modal("show"),$.getScript("https://www.dropbox.com/static/api/1/dropins.js"),$("#dropboxjs").on("DbxChooserSuccess",function(e){return $("#backbonemodal").modal("hide"),$(".web_import").prop("disabled",!0),n.dbox_handler(e.originalEvent)}),$("#btn_web_import_ok").click(function(){var e,t;return t=$("#form_web_import").val(),t?(console.log("Web import file: "+t),$(".web_import").prop("disabled",!0),e=n.directory.path,$.post("editor/net_fetch",{remote_url:t,cwd:e}).done(function(t){t.error?alert("Web import from\n"+t.url+"\nfailed with error msg: "+t.error):console.log("Web import from '"+t.url+"' completed.");if(e===n.directory.path)return n.load_dir()}).fail(function(e){return alert("There was a problem with your web file import. Please check the URL and try again.")}).always(function(e){return $(".web_import").prop("disabled",!1)})):($("#p_web_import").addClass("text-error"),!1)})},i.prototype.dbox_handler=function(e){var n=this;return console.log("Dropbox transfer file: "+e.files[0].link),this.hideDboxModal||(this.dboxModal=t("./dboxmodaltemplate"),$("#backbonemodal").html(this.dboxModal),$("#backbonemodal").modal("show"),$("#dboxDontShow").click(function(){return n.hideDboxModal=$("#dboxDontShow").prop("checked")})),$.post("editor/net_fetch",{remote_url:e.files[0].link,file_name:e.files[0].name,cwd:this.directory.path}).done(function(e){return e.error?alert("Dropbox transfer from\n"+e.url+"\nfailed with error msg: "+e.error):console.log("Dropbox transfer from '"+e.url+"' completed."),n.load_dir()}).fail(function(e){return alert("There was a problem with your Dropbox file import. Please try again.")}).always(function(e){return $(".web_import").prop("disabled",!1)})},i.prototype.initialize_upload=function(){var e=this;return this.$upload_controls=this.$el.find(".upload_controls"),this.$upload_el=this.$el.find(".file_upload"),this.$upload_el.uploadifive({auto:!1,formData:{timestamp:"5",token:"5"},queueID:"queue",uploadScript:"/editor/upload",onUploadComplete:function(t,n){return e.load_dir(),e.$upload_controls.removeClass("uploading")},onUploadSuccess:function(t,n){return console.log("uploadSuccess"),e.load_dir(),e.$upload_controls.removeClass("uploading")}})},i.prototype.initialize=function(e){return i.__super__.initialize.call(this,e),this.filemanager=e.filemanager,this.app=e.app,this.file_event_sink=e.file_event_sink,this.file_event_sink.on("file_system_change",this.load_dir),this.render(),this.$directory=this.$el.find(".directory"),this.cwd="",this.load_dir(),this.initialize_upload()},i.prototype.template=t("./filecontroltemplate"),i.prototype.render=function(){return this.$el.empty().append(this.template())},i.prototype.download_file=function(){var e,t;return e=this.get_selected_file(),t="/editor/home_download_file?path="+e,$(document.body).append($("<iframe class='download_iframe' src='"+t+"'></iframe>"))},i.prototype.get_selected_file_model=function(){return _.filter(this.directory.models,function(e){return e.get("selected")})[0]},i.prototype.get_selected_file=function(){var e;return e=this.get_selected_file_model(),e.get("path")},i.prototype.file_selected=function(e){return e.get("isdir")?this.$el.find(".download_file").addClass("disabled"):this.$el.find(".download_file").removeClass("disabled"),this.$el.find(".delete").removeClass("disabled"),this.$el.find(".share").removeClass("disabled")},i.prototype.directory_reset=function(){return this.$el.find(".download_file").addClass("disabled"),this.$el.find(".delete").addClass("disabled")},i.prototype.toggle_upload_visibility=function(){var e;return e=this.$el.find(".upload_controls"),e.hasClass("show")?e.removeClass("show"):e.addClass("show")},i.prototype.add_editor=function(e){return this.file_event_sink.trigger("openfile",e)},i.prototype.mkdir=function(){var e,t,n=this;e=this.directory.path,c(e,"/")||(e+="/");if(e==="./"||e==="/")e="";t=v("What do you want to name the new directory?",e,"");if(t===null)return;return $.ajax({type:"POST",url:"/editor/mkdir",data:{path:t},success:function(){return n.load_dir(),console.log("mkdir")}})},i.prototype.new_file=function(){return this.file_event_sink.trigger("newfile",this.directory.path)},i.prototype.delete_file=function(){var e,t,n=this;t=this.get_selected_file(),e=window.confirm("you are about to delete "+t);if(e)return $.post("/editor/delete",{path:t}).done(function(e){return e.error&&alert(e.error),n.load_dir()})},i.prototype.initialize_directory_view=function(e){return this.directory=new n([],{path:e}),window.full=this.directory,this.directory.on("selected",this.file_selected,this),this.directory.on("reset",this.directory_reset,this),this.directoryview=new r({collection:this.directory,ignore_prefix:["."],filemanager:this})},i.prototype.load_dir=function(e){return this.directory||this.initialize_directory_view(e),this.directoryview.$el.detach(),this.$directory.html(""),this.$directory.append(this.directoryview.$el),this.directory.reset([],{silent:!0}),this.directory.navigate(e)},i}(Backbone.View),i=function(e){function t(){return this.openeditor=b(this.openeditor,this),this.open_all_files=b(this.open_all_files,this),t.__super__.constructor.apply(this,arguments)}return y(t,e),t.prototype.initialize=function(e){return this.app=e.app,this.file_event_sink=e.file_event_sink,this.files=new f([],{key:"openfiles"}),window.files=this.files,this.files.fetch().done(this.open_all_files),this},t.prototype.save_as_file=function(e){var t,n,r,i,s,u=this;n=e.model.get("path"),s=v("What do you want to name this file",n,"");if(s===null)return;return i=e.model,r=e.editor.getValue(),t=new o({path:s,content:r}),t.content_save({success:function(){return t.fetch({success:function(){return u.openeditor(t),u.files.add(t),u.files.remove(i),u.tab_set.remove_tab(i.get("name"),!1),u.file_event_sink.trigger("file_system_change")}})}})},t.prototype.new_file=function(e){var t,n,r=this;c(e,"/")||(e+="/");if(e==="./"||e==="/")e="";n=v("What do you want to name the new file?",e,"");if(n===null)return;return t=new o({path:n}),$.post("/editor/touch",{path:t.get("path")}).done(function(e){return t.set(e),r.files.add(t),r.openeditor(t),r.file_event_sink.trigger("file_system_change")})},t.prototype.open_all_files=function(){var e=this;return this.files.map(function(t){if(t.get("name")!=="")return e.openeditor(t)})},t.prototype.delegateEvents=function(e){return t.__super__.delegateEvents.call(this,e),this.file_event_sink.on("openfile",this.openfile,this),this.file_event_sink.on("newfile",this.new_file,this)},t.prototype.openfile=function(e){var t,n=this;if(e==="")debugger;return t=this.files.get(e),t||(t=new o({path:e}),this.files.add(t)),t.fetch().done(function(){return n.openeditor(t)}),t},t.prototype.openeditor=function(e){var t;return t=new s({model:e,control:this}),this.app.new_tab(e.get("name"),e.get("name"),t,!0,"black"),null},t.prototype.initialize_tab_set=function(){var e=this;return this.tab_set.event_sink.on("delete",function(){var t,n;return n=e.current_file(),n.get("is_modified")&&(t=window.confirm("you are about to remove this tab, click 'ok' to save your changes"),t&&e.save_current_file()),e.files.remove(n)})},t}(Backbone.View),l=t("./editortemplate"),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return y(t,e),t.prototype.events={"click .save":"save_file","click .save_as":"save_as_file","click .execute_file":"execute_file"},t.prototype.save_as_file=function(e){return this.control.save_as_file(this)},t.prototype.initialize=function(e){return this.control=e.control,this.render_init(),this.model.on({change:this.render})},t.prototype.render_init=function(){var e=this;return this.$el.html(l()),this.$editor=this.$el.find(".editor"),this.editor=ace.edit(this.$editor[0]),this.editor.setTheme("ace/theme/monokai"),this.render(),this.editor.on("change",function(){return e.model.set("is_modified",!0)}),this},t.prototype.render=function(){var e;return e=this.model.get("name"),c(e,"js")?this.editor.getSession().setMode("ace/mode/javascript"):c(e,"py")?this.editor.getSession().setMode("ace/mode/python"):c(e,"html")&&this.editor.getSession().setMode("ace/mode/html"),this.editor.clearSelection(),this.editor.setValue(this.model.get("content")),this.editor.clearSelection(),this.editor.focus()},t.prototype.save_file=function(){var e;return e=this.editor.getValue(),this.model.set("content",e),this.model.content_save()},t.prototype.execute_file=function(){var e;e=this.model.get("path");if(!c(e,"py"))return;return mixpanel.track("Execute file",{source:"source",scripts:"scripts"}),mixpanel.people.increment("Executed Files"),this.save_file().done(function(){return m(e)})},t.prototype.remove=function(){var e;return this.model.get("is_modified")&&(e=window.confirm("you are about to remove this tab, click 'ok' to save your changes"),e&&this.save_file()),this.control.files.remove(this.model)},t}(Backbone.View),e.FileManager=u,e.Directory=n,e.EditorControl=i}).call(this)},dboxmodaltemplate:function(e,t,n){n.exports=function(e){e||(e={});var t=[],n=function(e){var n=t,r;return t=[],e.call(this),r=t.join(""),t=n,i(r)},r=function(e){return e&&e.ecoSafe?e:typeof e!="undefined"&&e!=null?o(e):""},i,s=e.safe,o=e.escape;return i=e.safe=function(e){if(e&&e.ecoSafe)return e;if(typeof e=="undefined"||e==null)e="";var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){t.push('  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>\n    <h3 id="myModalLabel">Dropbox File Transfer</h3>\n  </div>\n  <div class="modal-body">\n    <p>Your dropbox transfer will take place in the background, allowing you use of your Wakari session. The file pane will be refreshed when the transfer is complete.</p>\n  </div>\n  <div class="modal-footer">\n    <span class="pull-left"><input type="checkbox" id="dboxDontShow" value="on"></input> Do not show again</span>\n    <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>\n  </div>\n')}).call(this)}.call(e),e.safe=s,e.escape=o,t.join("")}},filecontroltemplate:function(e,t,n){n.exports=function(e){e||(e={});var t=[],n=function(e){var n=t,r;return t=[],e.call(this),r=t.join(""),t=n,i(r)},r=function(e){return e&&e.ecoSafe?e:typeof e!="undefined"&&e!=null?o(e):""},i,s=e.safe,o=e.escape;return i=e.safe=function(e){if(e&&e.ecoSafe)return e;if(typeof e=="undefined"||e==null)e="";var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){t.push('<div class="file_manager_wrap">\n  <div class=\'file_manager_buttons\'>\n    <div class="btn-group pull-left">\n      <button class="btn btn-mini refresh" title="Refresh list">\n        <i class=" icon-repeat"></i>\n      </button>\n      <button class="btn btn-mini new_file" title="Add file">\n        <i class=" icon-plus"></i>\n        <i class="icon-file"></i>\n      </button>\n\n      <button class="btn btn-mini mkdir" title="Add folder">\n        <i class=" icon-plus"></i>\n        <i class="icon-folder-open"></i>\n      </button>\n      <button class="btn btn-mini disabled share" title="Share">\n        <i class="icon-share"></i>\n      </button>\n      <button class="delete btn btn-mini disabled" title="Delete file"><i class="icon-trash"></i></button>\n      <button class="download_file btn btn-mini disabled" title="Download file"><i class="icon-download-alt"></i></button>\n      <button class="upload_button btn btn-mini" title="Upload file"><i class="icon-upload-alt"></i></button>\n      <button class="web_import btn btn-mini" title="Import from web"><i class="icon-globe"></i></button>\n    </div>\n  </div>\n  <div class="filebrowser_area">\n    <div class="upload_controls">\n\n      <div class="queue" id="queue">\n        <div id="dragdrop-text">Drag & Drop Here</div>\n      </div>\n      <form method=\'POST\'  enctype=\'multipart/form-data\'  >\n        <input type="file" name="file_upload" class="file_upload" multiple="true" />\n      </form>\n      <button class="start_upload btn btn-small btn-primary" disabled>Upload Files</button>\n    </div>\n    <div class="directory"></div>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=s,e.escape=o,t.join("")}},filetemplate:function(e,t,n){n.exports=function(e){e||(e={});var t=[],n=function(e){var n=t,r;return t=[],e.call(this),r=t.join(""),t=n,i(r)},r=function(e){return e&&e.ecoSafe?e:typeof e!="undefined"&&e!=null?o(e):""},i,s=e.safe,o=e.escape;return i=e.safe=function(e){if(e&&e.ecoSafe)return e;if(typeof e=="undefined"||e==null)e="";var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){this.isdir?(t.push("\n  "),this.isbundle?t.push('\n    <td class="file_view_icon"><i class="icon-briefcase"></i></td>\n    '):t.push('\n  <td class="file_view_icon"><i class="icon-folder-close"></i></td>\n  '),t.push("\n")):(t.push("\n	"),this.name.split(".").slice(-1)[0]==="ipynb"?t.push('\n  	<td class="file_view_icon"><img src="/static/img/ipynb_icon_16x16.png"></td>\n	'):t.push('\n	  <td class="file_view_icon"><i class="icon-file"></i></td>\n	'),t.push("\n")),t.push('\n\n<td class="filename">'),t.push(r(this.name)),t.push('</td>\n\n<td class="file_view_right_side">\n  '),this.name.split(".").slice(-1)[0]==="ipynb"||this.isdir?t.push('\n    <button class="share-btn share">Share</button>\n  '):(t.push('\n    <span class="file_size">'),t.push(r(this.size)),t.push("</span>\n  ")),t.push("\n</td>\n\n")}).call(this)}.call(e),e.safe=s,e.escape=o,t.join("")}},importmodaltemplate:function(e,t,n){n.exports=function(e){e||(e={});var t=[],n=function(e){var n=t,r;return t=[],e.call(this),r=t.join(""),t=n,i(r)},r=function(e){return e&&e.ecoSafe?e:typeof e!="undefined"&&e!=null?o(e):""},i,s=e.safe,o=e.escape;return i=e.safe=function(e){if(e&&e.ecoSafe)return e;if(typeof e=="undefined"||e==null)e="";var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){t.push('  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>\n    <h3 id="myModalLabel">Web File Import</h3>\n  </div>\n  <div class="modal-body">\n    <p>Click the button below to import a file from Dropbox.</p>\n    <div style="height:32px !important">\n      <input id="dropboxjs" class="dropboxjs" data-app-key="4obxdpxmdz0fav4" type="dropbox-chooser" name="selected-file" style="visibility: hidden;" data-link-type="direct">\n    </div>\n    <hr>\n    <p id="p_web_import">Or enter the URL for a file you wish to import.</p>\n    <form>\n      <input id="form_web_import" class="input-block-level" type="text" placeholder="http://domain.com/file.ext">\n    </form>\n  </div>\n  <div class="modal-footer">\n    <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>\n    <button id="btn_web_import_ok" class="btn btn-primary" data-dismiss="modal" aria-hidden="true">OK</button>\n  </div>\n')}).call(this)}.call(e),e.safe=s,e.escape=o,t.join("")}}})